<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - app/scripts/lib/mapboxgl/mapbox-gl.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>app/scripts/lib/mapboxgl/mapbox-gl.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">64.57</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">227</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">528.67</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">317.00</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==&quot;function&quot;&amp;&amp;require;if(!u&amp;&amp;a)return a(o,!0);if(i)return i(o,!0);var f=new Error(&quot;Cannot find module &#039;&quot;+o+&quot;&#039;&quot;);throw f.code=&quot;MODULE_NOT_FOUND&quot;,f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==&quot;function&quot;&amp;&amp;require;for(var o=0;o&lt;r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
    &quot;use strict&quot;;function Buffer(t){t?(this.array=t.array,this.pos=t.pos):(this.array=new ArrayBuffer(this.defaultLength),this.length=this.defaultLength,this.setupViews())}module.exports=Buffer,Buffer.prototype={pos:0,itemSize:4,defaultLength:8192,arrayType:&quot;ARRAY_BUFFER&quot;,get index(){return this.pos/this.itemSize},setupViews:function(){this.ubytes=new Uint8Array(this.array),this.bytes=new Int8Array(this.array),this.ushorts=new Uint16Array(this.array),this.shorts=new Int16Array(this.array)},bind:function(t){var e=t[this.arrayType];this.buffer?t.bindBuffer(e,this.buffer):(this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.array.slice(0,this.pos),t.STATIC_DRAW),this.array=null)},destroy:function(t){this.buffer&amp;&amp;t.deleteBuffer(this.buffer)},resize:function(){if(this.length&lt;this.pos+this.itemSize){for(;this.length&lt;this.pos+this.itemSize;)this.length=2*Math.round(1.5*this.length/2);this.array=new ArrayBuffer(this.length);var t=new Uint8Array(this.array);t.set(this.ubytes),this.setupViews()}}};
},{}],2:[function(require,module,exports){
    &quot;use strict&quot;;var LineVertexBuffer=require(&quot;./line_vertex_buffer&quot;),LineElementBuffer=require(&quot;./line_element_buffer&quot;),FillVertexBuffer=require(&quot;./fill_vertex_buffer&quot;),FillElementBuffer=require(&quot;./fill_elements_buffer&quot;),OutlineElementBuffer=require(&quot;./outline_elements_buffer&quot;),GlyphVertexBuffer=require(&quot;./glyph_vertex_buffer&quot;),IconVertexBuffer=require(&quot;./icon_vertex_buffer&quot;);module.exports=function(e){return e=e||{},{glyphVertex:new GlyphVertexBuffer(e.glyphVertex),iconVertex:new IconVertexBuffer(e.iconVertex),fillVertex:new FillVertexBuffer(e.fillVertex),fillElement:new FillElementBuffer(e.fillElement),outlineElement:new OutlineElementBuffer(e.outlineElement),lineVertex:new LineVertexBuffer(e.lineVertex),lineElement:new LineElementBuffer(e.lineElement)}};
},{&quot;./fill_elements_buffer&quot;:3,&quot;./fill_vertex_buffer&quot;:4,&quot;./glyph_vertex_buffer&quot;:5,&quot;./icon_vertex_buffer&quot;:6,&quot;./line_element_buffer&quot;:7,&quot;./line_vertex_buffer&quot;:8,&quot;./outline_elements_buffer&quot;:9}],3:[function(require,module,exports){
    &quot;use strict&quot;;function FillElementsBuffer(e){Buffer.call(this,e)}var util=require(&quot;../../util/util&quot;),Buffer=require(&quot;./buffer&quot;);module.exports=FillElementsBuffer,FillElementsBuffer.prototype=util.inherit(Buffer,{itemSize:6,arrayType:&quot;ELEMENT_ARRAY_BUFFER&quot;,add:function(e,t,i){var r=this.pos/2;this.resize(),this.ushorts[r+0]=e,this.ushorts[r+1]=t,this.ushorts[r+2]=i,this.pos+=this.itemSize}});
},{&quot;../../util/util&quot;:90,&quot;./buffer&quot;:1}],4:[function(require,module,exports){
    &quot;use strict&quot;;function FillVertexBuffer(e){Buffer.call(this,e)}var util=require(&quot;../../util/util&quot;),Buffer=require(&quot;./buffer&quot;);module.exports=FillVertexBuffer,FillVertexBuffer.prototype=util.inherit(Buffer,{itemSize:4,add:function(e,i){var t=this.pos/2;this.resize(),this.shorts[t+0]=e,this.shorts[t+1]=i,this.pos+=this.itemSize}});
},{&quot;../../util/util&quot;:90,&quot;./buffer&quot;:1}],5:[function(require,module,exports){
    &quot;use strict&quot;;function GlyphVertexBuffer(t){Buffer.call(this,t)}var util=require(&quot;../../util/util&quot;),Buffer=require(&quot;./buffer&quot;);module.exports=GlyphVertexBuffer,GlyphVertexBuffer.angleFactor=128/Math.PI,GlyphVertexBuffer.prototype=util.inherit(Buffer,{defaultLength:32768,itemSize:16,add:function(t,e,r,i,h,s,o,u,a,f,n){var l=this.pos,b=l/2,y=GlyphVertexBuffer.angleFactor;this.resize(),this.shorts[b+0]=t,this.shorts[b+1]=e,this.shorts[b+2]=Math.round(64*r),this.shorts[b+3]=Math.round(64*i),this.ubytes[l+8]=Math.floor(h/4),this.ubytes[l+9]=Math.floor(s/4),this.ubytes[l+10]=Math.floor(10*n),this.ubytes[l+11]=Math.round(o*y)%256,this.ubytes[l+12]=Math.floor(10*u),this.ubytes[l+13]=Math.floor(10*Math.min(f,25)),this.ubytes[l+14]=Math.max(Math.round(a[0]*y),0)%256,this.ubytes[l+15]=Math.min(Math.round(a[1]*y),255)%256,this.pos+=this.itemSize},bind:function(t,e){Buffer.prototype.bind.call(this,t);var r=this.itemSize;t.vertexAttribPointer(e.a_pos,2,t.SHORT,!1,r,0),t.vertexAttribPointer(e.a_offset,2,t.SHORT,!1,r,4),t.vertexAttribPointer(e.a_data1,4,t.UNSIGNED_BYTE,!1,r,8),t.vertexAttribPointer(e.a_data2,4,t.UNSIGNED_BYTE,!1,r,12)}});
},{&quot;../../util/util&quot;:90,&quot;./buffer&quot;:1}],6:[function(require,module,exports){
    &quot;use strict&quot;;function GlyphVertexBuffer(t){Buffer.call(this,t)}var util=require(&quot;../../util/util&quot;),Buffer=require(&quot;./buffer&quot;);module.exports=GlyphVertexBuffer,GlyphVertexBuffer.angleFactor=128/Math.PI,GlyphVertexBuffer.prototype=util.inherit(Buffer,{defaultLength:32768,itemSize:16,add:function(t,e,r,i,s,h,u,o,a,f,n){var l=this.pos,b=l/2,y=GlyphVertexBuffer.angleFactor;this.resize(),this.shorts[b+0]=t,this.shorts[b+1]=e,this.shorts[b+2]=Math.round(64*r),this.shorts[b+3]=Math.round(64*i),this.ubytes[l+8]=s/4,this.ubytes[l+9]=h/4,this.ubytes[l+10]=Math.floor(10*(n||0)),this.ubytes[l+11]=Math.round(u*y)%256,this.ubytes[l+12]=Math.floor(10*(o||0)),this.ubytes[l+13]=Math.floor(10*Math.min(f||25,25)),this.ubytes[l+14]=Math.max(Math.round(a[0]*y),0)%256,this.ubytes[l+15]=Math.min(Math.round(a[1]*y),255)%256,this.pos+=this.itemSize},bind:function(t,e){Buffer.prototype.bind.call(this,t);var r=this.itemSize;t.vertexAttribPointer(e.a_pos,2,t.SHORT,!1,r,0),t.vertexAttribPointer(e.a_offset,2,t.SHORT,!1,r,4),t.vertexAttribPointer(e.a_data1,4,t.UNSIGNED_BYTE,!1,r,8),t.vertexAttribPointer(e.a_data2,4,t.UNSIGNED_BYTE,!1,r,12)}});
},{&quot;../../util/util&quot;:90,&quot;./buffer&quot;:1}],7:[function(require,module,exports){
    &quot;use strict&quot;;function LineElementBuffer(e){Buffer.call(this,e)}var util=require(&quot;../../util/util&quot;),Buffer=require(&quot;./buffer&quot;);module.exports=LineElementBuffer,LineElementBuffer.prototype=util.inherit(Buffer,{itemSize:6,arrayType:&quot;ELEMENT_ARRAY_BUFFER&quot;,add:function(e,t,i){var r=this.pos/2;this.resize(),this.ushorts[r+0]=e,this.ushorts[r+1]=t,this.ushorts[r+2]=i,this.pos+=this.itemSize}});
},{&quot;../../util/util&quot;:90,&quot;./buffer&quot;:1}],8:[function(require,module,exports){
    &quot;use strict&quot;;function LineVertexBuffer(e){Buffer.call(this,e)}var util=require(&quot;../../util/util&quot;),Buffer=require(&quot;./buffer&quot;);module.exports=LineVertexBuffer,LineVertexBuffer.extrudeScale=63,LineVertexBuffer.prototype=util.inherit(Buffer,{itemSize:8,defaultLength:32768,add:function(e,t,r,i,s){var u=this.pos,f=u/2,h=this.index,o=LineVertexBuffer.extrudeScale;return this.resize(),this.shorts[f+0]=2*Math.floor(e.x)|r,this.shorts[f+1]=2*Math.floor(e.y)|i,this.bytes[u+4]=Math.round(o*t.x),this.bytes[u+5]=Math.round(o*t.y),this.bytes[u+6]=(s||0)/128,this.bytes[u+7]=(s||0)%128,this.pos+=this.itemSize,h}});
},{&quot;../../util/util&quot;:90,&quot;./buffer&quot;:1}],9:[function(require,module,exports){
    &quot;use strict&quot;;function OutlineElementsBuffer(e){Buffer.call(this,e)}var util=require(&quot;../../util/util&quot;),Buffer=require(&quot;./buffer&quot;);module.exports=OutlineElementsBuffer,OutlineElementsBuffer.prototype=util.inherit(Buffer,{itemSize:4,arrayType:&quot;ELEMENT_ARRAY_BUFFER&quot;,add:function(e,t){var i=this.pos/2;this.resize(),this.ushorts[i+0]=e,this.ushorts[i+1]=t,this.pos+=this.itemSize}});
},{&quot;../../util/util&quot;:90,&quot;./buffer&quot;:1}],10:[function(require,module,exports){
    &quot;use strict&quot;;function createBucket(e,t,r,l,i){var o=new StyleDeclarationSet(&quot;layout&quot;,e.type,e.layout,{}).values(),u={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0},a={};for(var c in o)a[c]=o[c].calculate(l,u);var y=&quot;line&quot;===e.type?LineBucket:&quot;fill&quot;===e.type?FillBucket:&quot;symbol&quot;===e.type?SymbolBucket:null,n=new y(t,new LayoutProperties[e.type](a),r,i);return n.id=e.id,n.type=e.type,n[&quot;source-layer&quot;]=e[&quot;source-layer&quot;],n.interactive=e.interactive,n.minZoom=e.minzoom,n.maxZoom=e.maxzoom,n.filter=featureFilter(e.filter),n.features=[],n}module.exports=createBucket;var LineBucket=require(&quot;./line_bucket&quot;),FillBucket=require(&quot;./fill_bucket&quot;),SymbolBucket=require(&quot;./symbol_bucket&quot;),LayoutProperties=require(&quot;../style/layout_properties&quot;),featureFilter=require(&quot;feature-filter&quot;),StyleDeclarationSet=require(&quot;../style/style_declaration_set&quot;);
},{&quot;../style/layout_properties&quot;:46,&quot;../style/style_declaration_set&quot;:52,&quot;./fill_bucket&quot;:13,&quot;./line_bucket&quot;:14,&quot;./symbol_bucket&quot;:15,&quot;feature-filter&quot;:92}],11:[function(require,module,exports){
    &quot;use strict&quot;;function ElementGroups(e,t,n){this.vertexBuffer=e,this.elementBuffer=t,this.secondElementBuffer=n,this.groups=[]}function ElementGroup(e,t,n){this.vertexStartIndex=e,this.elementStartIndex=t,this.secondElementStartIndex=n,this.elementLength=0,this.vertexLength=0,this.secondElementLength=0}module.exports=ElementGroups,ElementGroups.prototype.makeRoomFor=function(e){(!this.current||this.current.vertexLength+e&gt;65535)&amp;&amp;(this.current=new ElementGroup(this.vertexBuffer.index,this.elementBuffer&amp;&amp;this.elementBuffer.index,this.secondElementBuffer&amp;&amp;this.secondElementBuffer.index),this.groups.push(this.current))};
},{}],12:[function(require,module,exports){
    &quot;use strict&quot;;function FeatureTree(t){this.coord=TileCoord.fromID(t),this.rtree=rbush(9),this.toBeInserted=[]}function geometryContainsPoint(t,e,r,o){return&quot;Point&quot;===e?pointContainsPoint(t,r,o):&quot;LineString&quot;===e?lineContainsPoint(t,r,o):&quot;Polygon&quot;===e?polyContainsPoint(t,r)||lineContainsPoint(t,r,o):!1}function distToSegmentSquared(t,e,r){var o=e.distSqr(r);if(0===o)return t.distSqr(e);var n=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/o;return t.distSqr(0&gt;n?e:n&gt;1?r:r.sub(e)._mult(n)._add(e))}function lineContainsPoint(t,e,r){for(var o=r*r,n=0;n&lt;t.length;n++)for(var i=t[n],s=1;s&lt;i.length;s++){var u=i[s-1],a=i[s];if(distToSegmentSquared(e,u,a)&lt;o)return!0}return!1}function polyContainsPoint(t,e){for(var r,o,n,i=!1,s=0;s&lt;t.length;s++){r=t[s];for(var u=0,a=r.length-1;u&lt;r.length;a=u++)o=r[u],n=r[a],o.y&gt;e.y!=n.y&gt;e.y&amp;&amp;e.x&lt;(n.x-o.x)*(e.y-o.y)/(n.y-o.y)+o.x&amp;&amp;(i=!i)}return i}function pointContainsPoint(t,e,r){for(var o=r*r,n=0;n&lt;t.length;n++)for(var i=t[n],s=0;s&lt;i.length;s++)if(i[s].distSqr(e)&lt;=o)return!0;return!1}var rbush=require(&quot;rbush&quot;),Point=require(&quot;point-geometry&quot;),vt=require(&quot;vector-tile&quot;),util=require(&quot;../util/util&quot;),TileCoord=require(&quot;../source/tile_coord&quot;);module.exports=FeatureTree,FeatureTree.prototype.insert=function(t,e,r){t.layers=e,t.feature=r,this.toBeInserted.push(t)},FeatureTree.prototype._load=function(){this.rtree.load(this.toBeInserted),this.toBeInserted=[]},FeatureTree.prototype.query=function(t,e){this.toBeInserted.length&amp;&amp;this._load();for(var r=t.params||{},o=4096*(r.radius||0)/t.scale,n=t.x,i=t.y,s=[],u=this.rtree.search([n-o,i-o,n+o,i+o]),a=0;a&lt;u.length;a++){var l=u[a].feature,y=u[a].layers,d=vt.VectorTileFeature.types[l.type];if((!r.$type||d===r.$type)&amp;&amp;geometryContainsPoint(l.loadGeometry(),d,new Point(n,i),o))for(var h=l.toGeoJSON(this.coord.x,this.coord.y,this.coord.z),f=0;f&lt;y.length;f++){var c=y[f];r.layer&amp;&amp;c!==r.layer.id||s.push(util.extend({layer:c},h))}}e(null,s)};
},{&quot;../source/tile_coord&quot;:38,&quot;../util/util&quot;:90,&quot;point-geometry&quot;:104,&quot;rbush&quot;:105,&quot;vector-tile&quot;:107}],13:[function(require,module,exports){
    &quot;use strict&quot;;function FillBucket(e){this.buffers=e,this.elementGroups=new ElementGroups(e.fillVertex,e.fillElement,e.outlineElement)}var ElementGroups=require(&quot;./element_groups&quot;);module.exports=FillBucket,FillBucket.prototype.addFeatures=function(){for(var e=this.features,t=0;t&lt;e.length;t++){var l=e[t];this.addFeature(l.loadGeometry())}},FillBucket.prototype.addFeature=function(e){for(var t=0;t&lt;e.length;t++)this.addFill(e[t])},FillBucket.prototype.addFill=function(e){if(!(e.length&lt;3)){var t=e.length;this.elementGroups.makeRoomFor(t+1);var l=this.elementGroups.current,r=this.buffers.fillVertex,n=this.buffers.fillElement,i=this.buffers.outlineElement;l.vertexLength++;for(var o,u,s,a=r.index-l.vertexStartIndex,d=0;d&lt;e.length;d++)u=r.index-l.vertexStartIndex,s=e[d],r.add(s.x,s.y),l.vertexLength++,d&gt;=2&amp;&amp;(s.x!==e[0].x||s.y!==e[0].y)&amp;&amp;(n.add(a,o,u),l.elementLength++),d&gt;=1&amp;&amp;(i.add(o,u),l.secondElementLength++),o=u}};
},{&quot;./element_groups&quot;:11}],14:[function(require,module,exports){
    &quot;use strict&quot;;function LineBucket(e,t,r,i){this.buffers=e,this.elementGroups=new ElementGroups(e.lineVertex,e.lineElement),this.layoutProperties=t,this.overscaling=i}var ElementGroups=require(&quot;./element_groups&quot;);module.exports=LineBucket,LineBucket.prototype.addFeatures=function(){for(var e=this.features,t=0;t&lt;e.length;t++){var r=e[t];this.addFeature(r.loadGeometry())}},LineBucket.prototype.addFeature=function(e){for(var t=this.layoutProperties,r=0;r&lt;e.length;r++)this.addLine(e[r],t[&quot;line-join&quot;],t[&quot;line-cap&quot;],t[&quot;line-miter-limit&quot;],t[&quot;line-round-limit&quot;])},LineBucket.prototype.addLine=function(e,t,r,i,n){function l(e,t,r,i){var n,l=i?1:0;n=e.mult(q),t&amp;&amp;n._sub(e.perp()._mult(t)),y=d.add(f,n,l,0,G)-v,g&gt;=0&amp;&amp;x&gt;=0&amp;&amp;(m.add(g,x,y),p.elementLength++),g=x,x=y,n=e.mult(-q),r&amp;&amp;n._sub(e.perp()._mult(r)),y=d.add(f,n,l,1,G)-v,g&gt;=0&amp;&amp;x&gt;=0&amp;&amp;(m.add(g,x,y),p.elementLength++),g=x,x=y,p.vertexLength+=2}for(var u=e.length;u&gt;2&amp;&amp;e[u-1].equals(e[u-2]);)u--;if(!(e.length&lt;2)){&quot;bevel&quot;===t&amp;&amp;(i=1.05);var s=e[0],a=e[u-1],o=s.equals(a),d=this.buffers.lineVertex,m=this.buffers.lineElement;this.elementGroups.makeRoomFor(4*u);var p=this.elementGroups.current,v=p.vertexStartIndex;if(2!==u||!o){var f,h,b,c,_,g,x,y,L=r,k=o?&quot;butt&quot;:r,q=1,G=0;o&amp;&amp;(f=e[u-2],_=s.sub(f)._unit()._perp());for(var B=0;u&gt;B;B++)if(b=o&amp;&amp;B===u-1?e[1]:e[B+1],!b||!e[B].equals(b)){_&amp;&amp;(c=_),f&amp;&amp;(h=f),f=e[B],h&amp;&amp;(G+=f.dist(h)*this.overscaling),_=b?b.sub(f)._unit()._perp():c,c=c||_;var E=c.add(_)._unit(),F=E.x*_.x+E.y*_.y,P=1/F,V=void 0===g||void 0===x,j=h&amp;&amp;b,w=j?t:b?L:k;if(j&amp;&amp;&quot;round&quot;===w&amp;&amp;n&gt;P&amp;&amp;(w=&quot;miter&quot;),&quot;miter&quot;===w&amp;&amp;P&gt;i&amp;&amp;(w=&quot;bevel&quot;),&quot;bevel&quot;===w&amp;&amp;(P&gt;4&amp;&amp;(w=&quot;flipbevel&quot;),i&gt;P&amp;&amp;(w=&quot;miter&quot;)),&quot;miter&quot;===w)E._mult(P),l(E,0,0,!1);else if(&quot;flipbevel&quot;===w){if(P&gt;100)q=-q,E=_;else{var I=P*c.add(_).mag()/c.sub(_).mag();E._perp()._mult(q*I),q=-q}l(E,0,0,!1)}else{var M,R;if(&quot;bevel&quot;===w){var S=c.x*_.y-c.y*_.x,z=-Math.sqrt(P*P-1);q*S&gt;0?(R=0,M=z):(M=0,R=z)}else M=R=&quot;square&quot;===w?1:0;V||l(c,M,R,!1),V||&quot;round&quot;!==w||l(c,1,1,!0),(V||&quot;bevel&quot;!==w)&amp;&amp;(g=x=-1,q=1),V&amp;&amp;&quot;round&quot;===L&amp;&amp;l(_,-1,-1,!0),b&amp;&amp;l(_,-M,-R,!1)}}}}};
},{&quot;./element_groups&quot;:11}],15:[function(require,module,exports){
    &quot;use strict&quot;;function SymbolBucket(e,t,o){this.buffers=e,this.elementGroups={text:new ElementGroups(e.glyphVertex),icon:new ElementGroups(e.iconVertex)},this.layoutProperties=t,this.collision=o}function byScale(e,t){return e.scale-t.scale}var ElementGroups=require(&quot;./element_groups&quot;),Anchor=require(&quot;../symbol/anchor&quot;),interpolate=require(&quot;../symbol/interpolate&quot;),Point=require(&quot;point-geometry&quot;),resolveTokens=require(&quot;../util/token&quot;),Placement=require(&quot;../symbol/placement&quot;),Shaping=require(&quot;../symbol/shaping&quot;),resolveText=require(&quot;../symbol/resolve_text&quot;),resolveIcons=require(&quot;../symbol/resolve_icons&quot;),mergeLines=require(&quot;../symbol/mergelines&quot;);module.exports=SymbolBucket;var fullRange=[2*Math.PI,0];SymbolBucket.prototype.addFeatures=function(){var e=this.layoutProperties,t=this.features,o=this.textFeatures,s=.5,i=.5;switch(e[&quot;text-anchor&quot;]){case&quot;right&quot;:case&quot;top-right&quot;:case&quot;bottom-right&quot;:s=1;break;case&quot;left&quot;:case&quot;top-left&quot;:case&quot;bottom-left&quot;:s=0}switch(e[&quot;text-anchor&quot;]){case&quot;bottom&quot;:case&quot;bottom-right&quot;:case&quot;bottom-left&quot;:i=1;break;case&quot;top&quot;:case&quot;top-right&quot;:case&quot;top-left&quot;:i=0}var a=.5;&quot;right&quot;===e[&quot;text-justify&quot;]?a=1:&quot;left&quot;===e[&quot;text-justify&quot;]&amp;&amp;(a=0);var n,r=24,l=e[&quot;text-line-height&quot;]*r,c=&quot;line&quot;!==e[&quot;symbol-placement&quot;]&amp;&amp;e[&quot;text-max-width&quot;]*r,h=e[&quot;text-letter-spacing&quot;]*r,m=e[&quot;text-font&quot;],x=[e[&quot;text-offset&quot;][0]*r,e[&quot;text-offset&quot;][1]*r],p=[];for(n=0;n&lt;t.length;n++)p.push(t[n].loadGeometry());if(&quot;line&quot;===e[&quot;symbol-placement&quot;]){var u=mergeLines(t,o,p);p=u.geometries,t=u.features,o=u.textFeatures}for(n=0;n&lt;t.length;n++)if(p[n]){var y=!1;o[n]&amp;&amp;(y=Shaping.shape(o[n],m,this.stacks,c,l,s,i,a,h,x));var g=!1;this.icons&amp;&amp;e[&quot;icon-image&quot;]&amp;&amp;(g=this.icons[resolveTokens(t[n].properties,e[&quot;icon-image&quot;])],g&amp;&amp;(&quot;undefined&quot;==typeof this.elementGroups.sdfIcons?this.elementGroups.sdfIcons=g.sdf:this.elementGroups.sdfIcons!==g.sdf&amp;&amp;console.warn(&quot;Style sheet warning: Cannot mix SDF and non-SDF icons in one bucket&quot;))),(y||g)&amp;&amp;this.addFeature(p[n],this.stacks,y,g)}},SymbolBucket.prototype.addFeature=function(e,t,o,s){for(var i=this.layoutProperties,a=this.collision,n=.5,r=24,l=&quot;viewport&quot;===i[&quot;text-rotation-alignment&quot;],c=&quot;viewport&quot;===i[&quot;icon-rotation-alignment&quot;],h=i[&quot;text-max-size&quot;]/r,m=a.tilePixelRatio*h,x=a.tilePixelRatio*i[&quot;icon-max-size&quot;],p=i[&quot;text-optional&quot;]||!o,u=i[&quot;icon-optional&quot;]||!s,y=i[&quot;symbol-avoid-edges&quot;],g=0;g&lt;e.length;g++){var f,d=e[g];if(&quot;line&quot;===i[&quot;symbol-placement&quot;]){var v=0,b=0;if(o){for(var S=1/0,k=-1/0,P=0;P&lt;o.length;P++)S=Math.min(S,o[P].x),k=Math.max(k,o[P].x);var w=k-S;b=(w/2+2*r)*h}f=interpolate(d,i[&quot;symbol-min-distance&quot;],n,a.maxPlacementScale,a.tilePixelRatio,Math.max(b,v)),f.sort(byScale)}else f=[new Anchor(d[0].x,d[0].y,0,n)];for(var M=new Point(0,-17),G=0,q=f.length;q&gt;G;G++){var F=f[G],I=!(F.x&lt;0||F.x&gt;4096||F.y&lt;0||F.y&gt;4096);if(!y||I){var R,B,D=null,L=null;if((!o||(R=Placement.getGlyphs(F,M,o,t,m,l,d,i),D=i[&quot;text-allow-overlap&quot;]?R.minScale:a.getPlacementScale(R.boxes,R.minScale,y),D||p))&amp;&amp;(!s||(B=Placement.getIcon(F,s,x,d,i),L=i[&quot;icon-allow-overlap&quot;]?B.minScale:a.getPlacementScale(B.boxes,B.minScale,y),L||u))){p||u?!u&amp;&amp;D?D=Math.max(L,D):!p&amp;&amp;L&amp;&amp;(L=Math.max(L,D)):L=D=Math.max(L,D);var T=!D||i[&quot;text-allow-overlap&quot;]?fullRange:a.getPlacementRange(R.boxes,D,l),V=!L||i[&quot;icon-allow-overlap&quot;]?fullRange:a.getPlacementRange(B.boxes,L,c),z=[Math.min(V[0],T[0]),Math.max(V[1],T[1])];p||u?u?p||(V=z):T=z:V=T=z,D&amp;&amp;(i[&quot;text-ignore-placement&quot;]||a.insert(R.boxes,F,D,T,l),I&amp;&amp;this.addSymbols(this.buffers.glyphVertex,this.elementGroups.text,R.shapes,D,T)),L&amp;&amp;(i[&quot;icon-ignore-placement&quot;]||a.insert(B.boxes,F,L,V,c),I&amp;&amp;this.addSymbols(this.buffers.iconVertex,this.elementGroups.icon,B.shapes,L,V))}}}}},SymbolBucket.prototype.addSymbols=function(e,t,o,s,i){var a=this.collision.zoom;t.makeRoomFor(0);for(var n=t.current,r=Math.log(s)/Math.LN2+a,l=0;l&lt;o.length;l++){var c=o[l],h=c.tl,m=c.tr,x=c.bl,p=c.br,u=c.tex,y=c.angle,g=c.anchor,f=Math.max(a+Math.log(c.minScale)/Math.LN2,r),d=Math.min(a+Math.log(c.maxScale)/Math.LN2,25);f&gt;=d||(f===r&amp;&amp;(f=0),e.add(g.x,g.y,h.x,h.y,u.x,u.y,y,f,i,d,r),e.add(g.x,g.y,m.x,m.y,u.x+u.w,u.y,y,f,i,d,r),e.add(g.x,g.y,x.x,x.y,u.x,u.y+u.h,y,f,i,d,r),e.add(g.x,g.y,m.x,m.y,u.x+u.w,u.y,y,f,i,d,r),e.add(g.x,g.y,x.x,x.y,u.x,u.y+u.h,y,f,i,d,r),e.add(g.x,g.y,p.x,p.y,u.x+u.w,u.y+u.h,y,f,i,d,r),n.vertexLength+=6)}},SymbolBucket.prototype.getDependencies=function(e,t,o){function s(e){(e||i)&amp;&amp;o(e),i=!0}var i=!1;this.getTextDependencies(e,t,s),this.getIconDependencies(e,t,s)},SymbolBucket.prototype.getIconDependencies=function(e,t,o){if(this.layoutProperties[&quot;icon-image&quot;]){var s=this.features,i=this.layoutProperties,a=resolveIcons(s,i);a.length?t.send(&quot;get icons&quot;,{icons:a},function(e,t){return e?o(e):(this.icons=t,void o())}.bind(this)):o()}else o()},SymbolBucket.prototype.getTextDependencies=function(e,t,o){var s=this.features,i=this.layoutProperties;void 0===e.stacks&amp;&amp;(e.stacks={});var a=this.stacks=e.stacks,n=i[&quot;text-font&quot;];void 0===a[n]&amp;&amp;(a[n]={glyphs:{},rects:{}});var r=a[n],l=resolveText(s,i,r.glyphs);this.textFeatures=l.textFeatures,t.send(&quot;get glyphs&quot;,{uid:e.uid,fontstack:n,codepoints:l.codepoints},function(e,t){if(e)return o(e);var s=t.glyphs,i=t.rects,a=r.glyphs,n=r.rects;for(var l in s)a[l]=s[l],n[l]=i[l];o()})};
},{&quot;../symbol/anchor&quot;:55,&quot;../symbol/interpolate&quot;:60,&quot;../symbol/mergelines&quot;:61,&quot;../symbol/placement&quot;:62,&quot;../symbol/resolve_icons&quot;:63,&quot;../symbol/resolve_text&quot;:64,&quot;../symbol/shaping&quot;:66,&quot;../util/token&quot;:89,&quot;./element_groups&quot;:11,&quot;point-geometry&quot;:104}],16:[function(require,module,exports){
    &quot;use strict&quot;;function LatLng(t,n){if(isNaN(t)||isNaN(n))throw new Error(&quot;Invalid LatLng object: (&quot;+t+&quot;, &quot;+n+&quot;)&quot;);this.lat=+t,this.lng=+n}module.exports=LatLng;var wrap=require(&quot;../util/util&quot;).wrap;LatLng.prototype.wrap=function(){return new LatLng(this.lat,wrap(this.lng,-180,180))},LatLng.convert=function(t){return t instanceof LatLng?t:Array.isArray(t)?new LatLng(t[0],t[1]):t};
},{&quot;../util/util&quot;:90}],17:[function(require,module,exports){
    &quot;use strict&quot;;function LatLngBounds(t,n){if(t)for(var e=n?[t,n]:t,s=0,i=e.length;i&gt;s;s++)this.extend(e[s])}module.exports=LatLngBounds;var LatLng=require(&quot;./lat_lng&quot;);LatLngBounds.prototype={extend:function(t){var n,e,s=this._sw,i=this._ne;if(t instanceof LatLng)n=t,e=t;else{if(!(t instanceof LatLngBounds))return t?this.extend(LatLng.convert(t)||LatLngBounds.convert(t)):this;if(n=t._sw,e=t._ne,!n||!e)return this}return s||i?(s.lat=Math.min(n.lat,s.lat),s.lng=Math.min(n.lng,s.lng),i.lat=Math.max(e.lat,i.lat),i.lng=Math.max(e.lng,i.lng)):(this._sw=new LatLng(n.lat,n.lng),this._ne=new LatLng(e.lat,e.lng)),this},getCenter:function(){return new LatLng((this._sw.lat+this._ne.lat)/2,(this._sw.lng+this._ne.lng)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat}},LatLngBounds.convert=function(t){return!t||t instanceof LatLngBounds?t:new LatLngBounds(t)};
},{&quot;./lat_lng&quot;:16}],18:[function(require,module,exports){
    &quot;use strict&quot;;function Transform(t,i){this.tileSize=512,this._minZoom=t||0,this._maxZoom=i||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this.zoom=0,this.center=new LatLng(0,0),this.angle=0}var LatLng=require(&quot;./lat_lng&quot;),Point=require(&quot;point-geometry&quot;),wrap=require(&quot;../util/util&quot;).wrap;module.exports=Transform,Transform.prototype={get minZoom(){return this._minZoom},set minZoom(t){this._minZoom=t,this.zoom=Math.max(this.zoom,t)},get maxZoom(){return this._maxZoom},set maxZoom(t){this._maxZoom=t,this.zoom=Math.min(this.zoom,t)},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new Point(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(t){this.angle=-wrap(t,-180,180)*Math.PI/180},get zoom(){return this._zoom},set zoom(t){t=Math.min(Math.max(t,this.minZoom),this.maxZoom),this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain()},zoomScale:function(t){return Math.pow(2,t)},scaleZoom:function(t){return Math.log(t)/Math.LN2},project:function(t,i){return new Point(this.lngX(t.lng,i),this.latY(t.lat,i))},unproject:function(t,i){return new LatLng(this.yLat(t.y,i),this.xLng(t.x,i))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new Point(this.x,this.y)},lngX:function(t,i){return(180+t)*(i||this.worldSize)/360},latY:function(t,i){var n=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-n)*(i||this.worldSize)/360},xLng:function(t,i){return 360*t/(i||this.worldSize)-180},yLat:function(t,i){var n=180-360*t/(i||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90},panBy:function(t){var i=this.centerPoint._add(t);this.center=this.pointLocation(i),this._constrain()},setZoomAround:function(t,i){var n=this.locationPoint(i),o=this.size._sub(n),e=this.pointLocation(o);this.zoom=t,this.panBy(o.sub(this.locationPoint(e)))},setBearingAround:function(t,i){var n=this.locationPoint(i).sub(this.centerPoint);this.panBy(n),this.bearing=t,this.panBy(n.mult(-1))},locationPoint:function(t){var i=this.project(t);return this.centerPoint._sub(this.point._sub(i)._rotate(this.angle))},pointLocation:function(t){var i=this.centerPoint._sub(t)._rotate(-this.angle);return this.unproject(this.point.sub(i))},locationCoordinate:function(t){var i=this.zoomScale(this.tileZoom)/this.worldSize;return{column:this.lngX(t.lng)*i,row:this.latY(t.lat)*i,zoom:this.tileZoom}},pointCoordinate:function(t,i){var n=this.zoomScale(this.zoomFraction),o=this.zoomScale(this.tileZoom-t.zoom),e=this.centerPoint._sub(i)._rotate(-this.angle)._div(this.tileSize*n);return{column:t.column*o-e.x,row:t.row*o-e.y,zoom:this.tileZoom}},_constrain:function(){if(this.center){var t,i,n,o,e,s,h,r,a=this.size;this.latRange&amp;&amp;(t=this.latY(this.latRange[1]),i=this.latY(this.latRange[0]),e=i-t&lt;a.y?a.y/(i-t):0),this.lngRange&amp;&amp;(n=this.lngX(this.lngRange[0]),o=this.lngX(this.lngRange[1]),s=o-n&lt;a.x?a.x/(o-n):0);var c=Math.max(s||0,e||0);if(c)return this.center=this.unproject(new Point(s?(o+n)/2:this.x,e?(i+t)/2:this.y)),void(this.zoom+=this.scaleZoom(c));if(this.latRange){var u=this.y,l=a.y/2;t&gt;u-l&amp;&amp;(r=t+l),u+l&gt;i&amp;&amp;(r=i-l)}if(this.lngRange){var m=this.x,g=a.x/2;n&gt;m-g&amp;&amp;(h=n+g),m+g&gt;o&amp;&amp;(h=o-g)}(void 0!==h||void 0!==r)&amp;&amp;(this.center=this.unproject(new Point(void 0!==h?h:this.x,void 0!==r?r:this.y)))}}};
},{&quot;../util/util&quot;:90,&quot;./lat_lng&quot;:16,&quot;point-geometry&quot;:104}],19:[function(require,module,exports){
    &quot;use strict&quot;;var simplexFont={&quot; &quot;:[16,[]],&quot;!&quot;:[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],&#039;&quot;&#039;:[16,[4,21,4,14,-1,-1,12,21,12,14]],&quot;#&quot;:[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],&quot;%&quot;:[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],&quot;&amp;&quot;:[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],&quot;&#039;&quot;:[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],&quot;(&quot;:[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],&quot;)&quot;:[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],&quot;*&quot;:[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],&quot;+&quot;:[26,[13,18,13,0,-1,-1,4,9,22,9]],&quot;,&quot;:[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],&quot;-&quot;:[26,[4,9,22,9]],&quot;.&quot;:[10,[5,2,4,1,5,0,6,1,5,2]],&quot;/&quot;:[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],&quot;:&quot;:[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],&quot;;&quot;:[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],&quot;&lt;&quot;:[24,[20,18,4,9,20,0]],&quot;=&quot;:[26,[4,12,22,12,-1,-1,4,6,22,6]],&quot;&gt;&quot;:[24,[4,18,20,9,4,0]],&quot;?&quot;:[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],&quot;@&quot;:[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],&quot;[&quot;:[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],&quot;\\&quot;:[14,[0,21,14,-3]],&quot;]&quot;:[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],&quot;^&quot;:[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],&quot;`&quot;:[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],&quot;{&quot;:[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],&quot;|&quot;:[8,[4,25,4,-7]],&quot;}&quot;:[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],&quot;~&quot;:[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};module.exports=function(l,n,t,e){e=e||1;var r,o,u,s,i,x,f,p,h=[];for(r=0,o=l.length;o&gt;r;r++)if(i=simplexFont[l[r]]){for(p=null,u=0,s=i[1].length;s&gt;u;u+=2)-1===i[1][u]&amp;&amp;-1===i[1][u+1]?p=null:(x=n+i[1][u]*e,f=t-i[1][u+1]*e,p&amp;&amp;h.push(p.x,p.y,x,f),p={x:x,y:f});n+=i[0]*e}return h};
},{}],20:[function(require,module,exports){
    &quot;use strict&quot;;if(&quot;undefined&quot;==typeof window)new(require(&quot;./source/worker&quot;))(self);else{var mapboxgl=module.exports=window.mapboxgl={};mapboxgl.Map=require(&quot;./ui/map&quot;),mapboxgl.Navigation=require(&quot;./ui/control/navigation&quot;),mapboxgl.Attribution=require(&quot;./ui/control/attribution&quot;),mapboxgl.Popup=require(&quot;./ui/popup&quot;),mapboxgl.Source=require(&quot;./source/source&quot;),mapboxgl.GeoJSONSource=require(&quot;./source/geojson_source&quot;),mapboxgl.VideoSource=require(&quot;./source/video_source&quot;),mapboxgl.Style=require(&quot;./style/style&quot;),mapboxgl.LatLng=require(&quot;./geo/lat_lng&quot;),mapboxgl.LatLngBounds=require(&quot;./geo/lat_lng_bounds&quot;),mapboxgl.Point=require(&quot;point-geometry&quot;),mapboxgl.Evented=require(&quot;./util/evented&quot;),mapboxgl.util=require(&quot;./util/util&quot;);var browser=require(&quot;./util/browser&quot;);mapboxgl.util.supported=browser.supported;var ajax=require(&quot;./util/ajax&quot;);mapboxgl.util.getJSON=ajax.getJSON,mapboxgl.util.getArrayBuffer=ajax.getArrayBuffer;var config=require(&quot;./util/config&quot;);mapboxgl.config=config,Object.defineProperty(mapboxgl,&quot;accessToken&quot;,{get:function(){return config.ACCESS_TOKEN},set:function(e){config.ACCESS_TOKEN=e}})}
},{&quot;./geo/lat_lng&quot;:16,&quot;./geo/lat_lng_bounds&quot;:17,&quot;./source/geojson_source&quot;:33,&quot;./source/source&quot;:36,&quot;./source/video_source&quot;:41,&quot;./source/worker&quot;:42,&quot;./style/style&quot;:49,&quot;./ui/control/attribution&quot;:68,&quot;./ui/control/navigation&quot;:70,&quot;./ui/map&quot;:75,&quot;./ui/popup&quot;:76,&quot;./util/ajax&quot;:78,&quot;./util/browser&quot;:79,&quot;./util/config&quot;:83,&quot;./util/evented&quot;:84,&quot;./util/util&quot;:90,&quot;point-geometry&quot;:104}],21:[function(require,module,exports){
    &quot;use strict&quot;;function drawBackground(t,a,r){var e,i=t.gl,o=a.paint[&quot;background-color&quot;],n=a.paint[&quot;background-image&quot;],l=a.paint[&quot;background-opacity&quot;],u=n?t.spriteAtlas.getPosition(n.from,!0):null,m=n?t.spriteAtlas.getPosition(n.to,!0):null;if(u&amp;&amp;m){e=t.patternShader,i.switchShader(e,r),i.uniform1i(e.u_image,0),i.uniform2fv(e.u_pattern_tl_a,u.tl),i.uniform2fv(e.u_pattern_br_a,u.br),i.uniform2fv(e.u_pattern_tl_b,m.tl),i.uniform2fv(e.u_pattern_br_b,m.br),i.uniform1f(e.u_opacity,l);var c=t.transform,f=u.size,s=m.size,_=c.locationCoordinate(c.center),S=1/Math.pow(2,c.zoomFraction);i.uniform1f(e.u_mix,n.t);var d=mat3.create();mat3.scale(d,d,[1/(f[0]*n.fromScale),1/(f[1]*n.fromScale)]),mat3.translate(d,d,[_.column*c.tileSize%(f[0]*n.fromScale),_.row*c.tileSize%(f[1]*n.fromScale)]),mat3.rotate(d,d,-c.angle),mat3.scale(d,d,[S*c.width/2,-S*c.height/2]);var b=mat3.create();mat3.scale(b,b,[1/(s[0]*n.toScale),1/(s[1]*n.toScale)]),mat3.translate(b,b,[_.column*c.tileSize%(s[0]*n.toScale),_.row*c.tileSize%(s[1]*n.toScale)]),mat3.rotate(b,b,-c.angle),mat3.scale(b,b,[S*c.width/2,-S*c.height/2]),i.uniformMatrix3fv(e.u_patternmatrix_a,!1,d),i.uniformMatrix3fv(e.u_patternmatrix_b,!1,b),t.spriteAtlas.bind(i,!0)}else e=t.fillShader,i.switchShader(e,r),i.uniform4fv(e.u_color,o);i.disable(i.STENCIL_TEST),i.bindBuffer(i.ARRAY_BUFFER,t.backgroundBuffer),i.vertexAttribPointer(e.a_pos,t.backgroundBuffer.itemSize,i.SHORT,!1,0,0),i.drawArrays(i.TRIANGLE_STRIP,0,t.backgroundBuffer.itemCount),i.enable(i.STENCIL_TEST),i.stencilMask(0),i.stencilFunc(i.EQUAL,128,128)}var mat3=require(&quot;gl-matrix&quot;).mat3;module.exports=drawBackground;
},{&quot;gl-matrix&quot;:98}],22:[function(require,module,exports){
    &quot;use strict&quot;;function drawDebug(e,r){var i=e.gl,t=TileCoord.fromID(r.id);i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.switchShader(e.debugShader,r.posMatrix),i.bindBuffer(i.ARRAY_BUFFER,e.debugBuffer),i.vertexAttribPointer(e.debugShader.a_pos,e.debugBuffer.itemSize,i.SHORT,!1,0,0),i.uniform4f(e.debugShader.u_color,1,0,0,1),i.lineWidth(4),i.drawArrays(i.LINE_STRIP,0,e.debugBuffer.itemCount);var u=t.z+&quot;/&quot;+t.x+&quot;/&quot;+t.y,d=textVertices(u,50,200,5);i.bindBuffer(i.ARRAY_BUFFER,e.debugTextBuffer),i.bufferData(i.ARRAY_BUFFER,new Int16Array(d),i.STREAM_DRAW),i.vertexAttribPointer(e.debugShader.a_pos,e.debugTextBuffer.itemSize,i.SHORT,!1,0,0),i.lineWidth(8*browser.devicePixelRatio),i.uniform4f(e.debugShader.u_color,1,1,1,1),i.drawArrays(i.LINES,0,d.length/e.debugTextBuffer.itemSize),i.lineWidth(2*browser.devicePixelRatio),i.uniform4f(e.debugShader.u_color,0,0,0,1),i.drawArrays(i.LINES,0,d.length/e.debugTextBuffer.itemSize),i.blendFunc(i.ONE_MINUS_DST_ALPHA,i.ONE)}var textVertices=require(&quot;../lib/debugtext&quot;),browser=require(&quot;../util/browser&quot;),TileCoord=require(&quot;../source/tile_coord&quot;);module.exports=drawDebug;
},{&quot;../lib/debugtext&quot;:19,&quot;../source/tile_coord&quot;:38,&quot;../util/browser&quot;:79}],23:[function(require,module,exports){
    &quot;use strict&quot;;function drawFill(e,t,r,i){if(i.buffers){var a=i.elementGroups[t.ref||t.id];if(a){var l,n,o,f,s=e.gl,u=e.translateMatrix(r,i,t.paint[&quot;fill-translate&quot;],t.paint[&quot;fill-translate-anchor&quot;]),m=t.paint[&quot;fill-color&quot;];s.stencilMask(63),s.clear(s.STENCIL_BUFFER_BIT),s.stencilFunc(s.NOTEQUAL,128,128),s.stencilOpSeparate(s.FRONT,s.INCR_WRAP,s.KEEP,s.KEEP),s.stencilOpSeparate(s.BACK,s.DECR_WRAP,s.KEEP,s.KEEP),s.colorMask(!1,!1,!1,!1),s.switchShader(e.fillShader,u),l=i.buffers.fillVertex,l.bind(s),n=i.buffers.fillElement,n.bind(s);for(var c,S,E=0;E&lt;a.groups.length;E++)o=a.groups[E],c=o.vertexStartIndex*l.itemSize,s.vertexAttribPointer(e.fillShader.a_pos,2,s.SHORT,!1,4,c+0),f=3*o.elementLength,S=o.elementStartIndex*n.itemSize,s.drawElements(s.TRIANGLES,f,s.UNSIGNED_SHORT,S);s.colorMask(!0,!0,!0,!0),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),s.stencilMask(0);var d=t.paint[&quot;fill-outline-color&quot;];if(t.paint[&quot;fill-antialias&quot;]===!0&amp;&amp;(!t.paint[&quot;fill-image&quot;]||d)){s.switchShader(e.outlineShader,u),s.lineWidth(2*browser.devicePixelRatio),d?s.stencilFunc(s.EQUAL,128,128):s.stencilFunc(s.EQUAL,128,191),s.uniform2f(e.outlineShader.u_world,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform4fv(e.outlineShader.u_color,d?d:m),l=i.buffers.fillVertex,n=i.buffers.outlineElement,n.bind(s);for(var p=0;p&lt;a.groups.length;p++)o=a.groups[p],c=o.vertexStartIndex*l.itemSize,s.vertexAttribPointer(e.outlineShader.a_pos,2,s.SHORT,!1,4,c+0),f=2*o.secondElementLength,S=o.secondElementStartIndex*n.itemSize,s.drawElements(s.LINES,f,s.UNSIGNED_SHORT,S)}var _,h=t.paint[&quot;fill-image&quot;],v=t.paint[&quot;fill-opacity&quot;]||1;if(h){var b=e.spriteAtlas.getPosition(h.from,!0),x=e.spriteAtlas.getPosition(h.to,!0);if(!b||!x)return;_=e.patternShader,s.switchShader(_,r),s.uniform1i(_.u_image,0),s.uniform2fv(_.u_pattern_tl_a,b.tl),s.uniform2fv(_.u_pattern_br_a,b.br),s.uniform2fv(_.u_pattern_tl_b,x.tl),s.uniform2fv(_.u_pattern_br_b,x.br),s.uniform1f(_.u_opacity,v),s.uniform1f(_.u_mix,h.t);var A=8/Math.pow(2,e.transform.tileZoom-i.zoom),g=mat3.create();mat3.scale(g,g,[1/(b.size[0]*A*h.fromScale),1/(b.size[1]*A*h.fromScale)]);var R=mat3.create();mat3.scale(R,R,[1/(x.size[0]*A*h.toScale),1/(x.size[1]*A*h.toScale)]),s.uniformMatrix3fv(_.u_patternmatrix_a,!1,g),s.uniformMatrix3fv(_.u_patternmatrix_b,!1,R),e.spriteAtlas.bind(s,!0)}else _=e.fillShader,s.switchShader(_,r),s.uniform4fv(_.u_color,m);s.stencilFunc(s.NOTEQUAL,0,63),s.bindBuffer(s.ARRAY_BUFFER,e.tileExtentBuffer),s.vertexAttribPointer(_.a_pos,e.tileExtentBuffer.itemSize,s.SHORT,!1,0,0),s.drawArrays(s.TRIANGLE_STRIP,0,e.tileExtentBuffer.itemCount),s.stencilMask(0),s.stencilFunc(s.EQUAL,128,128)}}}var browser=require(&quot;../util/browser&quot;),mat3=require(&quot;gl-matrix&quot;).mat3;module.exports=drawFill;
},{&quot;../util/browser&quot;:79,&quot;gl-matrix&quot;:98}],24:[function(require,module,exports){
    &quot;use strict&quot;;var browser=require(&quot;../util/browser&quot;);module.exports=function(i,t,e,r){if(r.buffers){var a=r.elementGroups[t.ref||t.id];if(a){var n=i.gl;if(!(t.paint[&quot;line-width&quot;]&lt;=0)){var o=1/browser.devicePixelRatio,f=t.paint[&quot;line-blur&quot;]+o,l=t.paint[&quot;line-width&quot;]/2,u=-1,s=0,m=0;t.paint[&quot;line-gap-width&quot;]&gt;0&amp;&amp;(u=t.paint[&quot;line-gap-width&quot;]/2+.5*o,l=t.paint[&quot;line-width&quot;],s=u-o/2);var _,d=s+l+o/2+m,h=t.paint[&quot;line-color&quot;],p=i.transform.scale/(1&lt;&lt;r.zoom)/8,v=i.translateMatrix(e,r,t.paint[&quot;line-translate&quot;],t.paint[&quot;line-translate-anchor&quot;]),b=t.paint[&quot;line-dasharray&quot;],c=t.paint[&quot;line-image&quot;];if(b){_=i.linesdfpatternShader,n.switchShader(_,v,r.exMatrix),n.uniform2fv(_.u_linewidth,[d,u]),n.uniform1f(_.u_ratio,p),n.uniform1f(_.u_blur,f),n.uniform4fv(_.u_color,h);var w=i.lineAtlas.getDash(b.from,&quot;round&quot;===t.layout[&quot;line-cap&quot;]),x=i.lineAtlas.getDash(b.to,&quot;round&quot;===t.layout[&quot;line-cap&quot;]);i.lineAtlas.bind(n);var S=Math.pow(2,Math.floor(Math.log(i.transform.scale)/Math.LN2)-r.zoom)/8,g=[S/w.width/b.fromScale,-w.height/2],z=i.lineAtlas.width/(b.fromScale*w.width*256*browser.devicePixelRatio)/2,A=[S/x.width/b.toScale,-x.height/2],M=i.lineAtlas.width/(b.toScale*x.width*256*browser.devicePixelRatio)/2;n.uniform2fv(_.u_patternscale_a,g),n.uniform1f(_.u_tex_y_a,w.y),n.uniform2fv(_.u_patternscale_b,A),n.uniform1f(_.u_tex_y_b,x.y),n.uniform1i(_.u_image,0),n.uniform1f(_.u_sdfgamma,Math.max(z,M)),n.uniform1f(_.u_mix,b.t)}else if(c){var y=i.spriteAtlas.getPosition(c.from,!0),P=i.spriteAtlas.getPosition(c.to,!0);if(!y||!P)return;var R=8/Math.pow(2,i.transform.tileZoom-r.zoom);i.spriteAtlas.bind(n,!0),_=i.linepatternShader,n.switchShader(_,v,r.exMatrix),n.uniform2fv(_.u_linewidth,[d,u]),n.uniform1f(_.u_ratio,p),n.uniform1f(_.u_blur,f),n.uniform2fv(_.u_pattern_size_a,[y.size[0]*R*c.fromScale,P.size[1]]),n.uniform2fv(_.u_pattern_size_b,[P.size[0]*R*c.toScale,P.size[1]]),n.uniform2fv(_.u_pattern_tl_a,y.tl),n.uniform2fv(_.u_pattern_br_a,y.br),n.uniform2fv(_.u_pattern_tl_b,P.tl),n.uniform2fv(_.u_pattern_br_b,P.br),n.uniform1f(_.u_fade,c.t),n.uniform1f(_.u_opacity,t.paint[&quot;line-opacity&quot;])}else _=i.lineShader,n.switchShader(_,v,r.exMatrix),n.uniform2fv(_.u_linewidth,[d,u]),n.uniform1f(_.u_ratio,p),n.uniform1f(_.u_blur,f),n.uniform4fv(_.u_color,h);var E=r.buffers.lineVertex;E.bind(n);var I=r.buffers.lineElement;I.bind(n);for(var N=0;N&lt;a.groups.length;N++){var T=a.groups[N],D=T.vertexStartIndex*E.itemSize;n.vertexAttribPointer(_.a_pos,2,n.SHORT,!1,8,D+0),n.vertexAttribPointer(_.a_data,4,n.BYTE,!1,8,D+4);var G=3*T.elementLength,L=T.elementStartIndex*I.itemSize;n.drawElements(n.TRIANGLES,G,n.UNSIGNED_SHORT,L)}}}}};
},{&quot;../util/browser&quot;:79}],25:[function(require,module,exports){
    &quot;use strict&quot;;function drawRaster(r,t,e,i){var a=r.gl;a.disable(a.STENCIL_TEST);var o=r.rasterShader;a.switchShader(o,e),a.uniform1f(o.u_brightness_low,t.paint[&quot;raster-brightness-min&quot;]),a.uniform1f(o.u_brightness_high,t.paint[&quot;raster-brightness-max&quot;]),a.uniform1f(o.u_saturation_factor,saturationFactor(t.paint[&quot;raster-saturation&quot;])),a.uniform1f(o.u_contrast_factor,contrastFactor(t.paint[&quot;raster-contrast&quot;])),a.uniform3fv(o.u_spin_weights,spinWeights(t.paint[&quot;raster-hue-rotate&quot;]));var n,u,s=i.source&amp;&amp;i.source._pyramid.findLoadedParent(i.id,0,{}),f=getOpacities(i,s,t,r.transform);if(a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,i.texture),s){a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,s.texture);var c=TileCoord.fromID(i.id),d=s&amp;&amp;TileCoord.fromID(s.id);n=Math.pow(2,d.z-c.z),u=[c.x*n%1,c.y*n%1]}else f[1]=0;a.uniform2fv(o.u_tl_parent,u||[0,0]),a.uniform1f(o.u_scale_parent,n||1),a.uniform1f(o.u_buffer_scale,1),a.uniform1f(o.u_opacity0,f[0]),a.uniform1f(o.u_opacity1,f[1]),a.uniform1i(o.u_image0,0),a.uniform1i(o.u_image1,1),a.bindBuffer(a.ARRAY_BUFFER,i.boundsBuffer||r.tileExtentBuffer),a.vertexAttribPointer(o.a_pos,2,a.SHORT,!1,8,0),a.vertexAttribPointer(o.a_texture_pos,2,a.SHORT,!1,8,4),a.drawArrays(a.TRIANGLE_STRIP,0,4),a.enable(a.STENCIL_TEST)}function spinWeights(r){r*=Math.PI/180;var t=Math.sin(r),e=Math.cos(r);return[(2*e+1)/3,(-Math.sqrt(3)*t-e+1)/3,(Math.sqrt(3)*t-e+1)/3]}function contrastFactor(r){return r&gt;0?1/(1-r):1+r}function saturationFactor(r){return r&gt;0?1-1/(1.001-r):-r}function getOpacities(r,t,e,i){if(!r.source)return[1,0];var a=(new Date).getTime(),o=e.paint[&quot;raster-fade-duration&quot;],n=(a-r.timeAdded)/o,u=t?(a-t.timeAdded)/o:-1,s=TileCoord.fromID(r.id),f=t&amp;&amp;TileCoord.fromID(t.id),c=r.source._pyramid.coveringZoomLevel(i),d=t?Math.abs(f.z-c)&gt;Math.abs(s.z-c):!1,_=[];!t||d?(_[0]=util.clamp(n,0,1),_[1]=1-_[0]):(_[0]=util.clamp(1-u,0,1),_[1]=1-_[0]);var m=e.paint[&quot;raster-opacity&quot;];return _[0]*=m,_[1]*=m,_}var TileCoord=require(&quot;../source/tile_coord&quot;),util=require(&quot;../util/util&quot;);module.exports=drawRaster;
},{&quot;../source/tile_coord&quot;:38,&quot;../util/util&quot;:90}],26:[function(require,module,exports){
    &quot;use strict&quot;;function drawSymbols(r,a,t,o){if(o.buffers){var e=o.elementGroups[a.ref||a.id];if(e){var i=r.gl;i.disable(i.STENCIL_TEST),e.text.groups.length&amp;&amp;drawSymbol(r,a,t,o,e.text,&quot;text&quot;,!0),e.icon.groups.length&amp;&amp;drawSymbol(r,a,t,o,e.icon,&quot;icon&quot;,e.sdfIcons),i.enable(i.STENCIL_TEST)}}}function drawSymbol(r,a,t,o,e,i,f){var n=r.gl;t=r.translateMatrix(t,o,a.paint[i+&quot;-translate&quot;],a.paint[i+&quot;-translate-anchor&quot;]);var u=mat4.clone(r.projectionMatrix),l=&quot;map&quot;===a.layout[i+&quot;-rotation-alignment&quot;],s=l?r.transform.angle:0;s&amp;&amp;mat4.rotateZ(u,u,s);var m=a.paint[i+&quot;-size&quot;]||a.layout[i+&quot;-max-size&quot;],d=m/defaultSizes[i];mat4.scale(u,u,[d,d,1]);var p,h,g,c=&quot;text&quot;===i;if(c||r.style.sprite.loaded()){n.activeTexture(n.TEXTURE0),p=f?r.sdfShader:r.iconShader,c?(r.glyphAtlas.updateTexture(n),h=o.buffers.glyphVertex,g=[r.glyphAtlas.width/4,r.glyphAtlas.height/4]):(r.spriteAtlas.bind(n,l||r.options.rotating||r.options.zooming||1!==d||f),h=o.buffers.iconVertex,g=[r.spriteAtlas.width/4,r.spriteAtlas.height/4]),n.switchShader(p,t,u),n.uniform1i(p.u_texture,0),n.uniform2fv(p.u_texsize,g),h.bind(n,p);var x=Math.round(r.transform.angle/Math.PI*128),y=Math.log(m/a.layout[i+&quot;-max-size&quot;])/Math.LN2||0,b=l&amp;&amp;a.layout[i+&quot;-keep-upright&quot;];n.uniform1f(p.u_flip,b?1:0),n.uniform1f(p.u_angle,(x+256)%256),n.uniform1f(p.u_zoom,10*(r.transform.zoom-y));var v=r.frameHistory.getFadeProperties(300);n.uniform1f(p.u_fadedist,10*v.fadedist),n.uniform1f(p.u_minfadezoom,Math.floor(10*v.minfadezoom)),n.uniform1f(p.u_maxfadezoom,Math.floor(10*v.maxfadezoom)),n.uniform1f(p.u_fadezoom,10*(r.transform.zoom+v.bump));var S=e.groups[0].vertexStartIndex,_=e.groups[0].vertexLength;if(f){var z=8,w=1.19,T=6,A=.105*defaultSizes[i]/m/browser.devicePixelRatio;n.uniform1f(p.u_gamma,A),n.uniform4fv(p.u_color,a.paint[i+&quot;-color&quot;]),n.uniform1f(p.u_buffer,.75),n.drawArrays(n.TRIANGLES,S,_),a.paint[i+&quot;-halo-color&quot;]&amp;&amp;(n.uniform1f(p.u_gamma,a.paint[i+&quot;-halo-blur&quot;]*w/d/z+A),n.uniform4fv(p.u_color,a.paint[i+&quot;-halo-color&quot;]),n.uniform1f(p.u_buffer,(T-a.paint[i+&quot;-halo-width&quot;]/d)/z),n.drawArrays(n.TRIANGLES,S,_))}else n.uniform1f(p.u_opacity,a.paint[&quot;icon-opacity&quot;]),n.drawArrays(n.TRIANGLES,S,_)}}var browser=require(&quot;../util/browser&quot;),mat4=require(&quot;gl-matrix&quot;).mat4;module.exports=drawSymbols;var defaultSizes={icon:1,text:24};
},{&quot;../util/browser&quot;:79,&quot;gl-matrix&quot;:98}],27:[function(require,module,exports){
    &quot;use strict&quot;;function drawVertices(r,e,t,o){r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.switchShader(e.dotShader,o.posMatrix),r.uniform1f(e.dotShader.u_size,4*browser.devicePixelRatio),r.uniform1f(e.dotShader.u_blur,.25),r.uniform4fv(e.dotShader.u_color,[.25,0,0,.25]);var a,i,d,s,n;if(t.layoutProperties.fill){a=t.buffers.fillVertex,a.bind(r),i=t.elementGroups.groups;for(var u=0;u&lt;i.length;u++)d=i[u],s=d.vertexStartIndex,n=d.vertexLength,r.vertexAttribPointer(e.dotShader.a_pos,2,r.SHORT,!1,0,0),r.drawArrays(r.POINTS,s,n)}var l=mat4.clone(o.posMatrix);if(mat4.scale(l,l,[.5,.5,1]),r.switchShader(e.dotShader,l),t.layoutProperties.line){a=t.buffers.lineVertex,a.bind(r),i=t.elementGroups.groups;for(var S=0;S&lt;i.length;S++)d=i[S],s=d.vertexStartIndex,n=d.vertexLength,r.vertexAttribPointer(e.dotShader.a_pos,2,r.SHORT,!1,0,0),r.drawArrays(r.POINTS,s,n)}r.blendFunc(r.ONE_MINUS_DST_ALPHA,r.ONE)}var browser=require(&quot;../util/browser&quot;),mat4=require(&quot;gl-matrix&quot;).mat4;module.exports=drawVertices;
},{&quot;../util/browser&quot;:79,&quot;gl-matrix&quot;:98}],28:[function(require,module,exports){
    &quot;use strict&quot;;function FrameHistory(){this.frameHistory=[]}module.exports=FrameHistory,FrameHistory.prototype.getFadeProperties=function(t){void 0===t&amp;&amp;(t=300);for(var e=(new Date).getTime();this.frameHistory.length&gt;3&amp;&amp;this.frameHistory[1].time+t&lt;e;)this.frameHistory.shift();this.frameHistory[1].time+t&lt;e&amp;&amp;(this.frameHistory[0].z=this.frameHistory[1].z);var r=this.frameHistory.length;3&gt;r&amp;&amp;console.warn(&quot;there should never be less than three frames in the history&quot;);var i=this.frameHistory[0].z,s=this.frameHistory[r-1],o=s.z,a=Math.min(i,o),m=Math.max(i,o),h=s.z-this.frameHistory[1].z,f=s.time-this.frameHistory[1].time,y=h/(f/t);isNaN(y)&amp;&amp;console.warn(&quot;fadedist should never be NaN&quot;);var n=(e-s.time)/t*y;return{fadedist:y,minfadezoom:a,maxfadezoom:m,bump:n}},FrameHistory.prototype.record=function(t){var e=(new Date).getTime();this.frameHistory.length||this.frameHistory.push({time:0,z:t},{time:0,z:t}),(2===this.frameHistory.length||this.frameHistory[this.frameHistory.length-1].z!==t)&amp;&amp;this.frameHistory.push({time:e,z:t})};
},{}],29:[function(require,module,exports){
    &quot;use strict&quot;;var shaders=require(&quot;./shaders&quot;),util=require(&quot;../util/util&quot;);exports.extend=function(r){var t=r.lineWidth,e=r.getParameter(r.ALIASED_LINE_WIDTH_RANGE);return r.lineWidth=function(a){t.call(r,util.clamp(a,e[0],e[1]))},r.getShader=function(r,t){var e=t===this.FRAGMENT_SHADER?&quot;fragment&quot;:&quot;vertex&quot;;if(!shaders[r]||!shaders[r][e])throw new Error(&quot;Could not find shader &quot;+r);var a=this.createShader(t);if(this.shaderSource(a,shaders[r][e]),this.compileShader(a),!this.getShaderParameter(a,this.COMPILE_STATUS))throw new Error(this.getShaderInfoLog(a));return a},r.initializeShader=function(r,t,e){var a={program:this.createProgram(),fragment:this.getShader(r,this.FRAGMENT_SHADER),vertex:this.getShader(r,this.VERTEX_SHADER),attributes:[]};if(this.attachShader(a.program,a.vertex),this.attachShader(a.program,a.fragment),this.linkProgram(a.program),this.getProgramParameter(a.program,this.LINK_STATUS)){for(var i=0;i&lt;t.length;i++)a[t[i]]=this.getAttribLocation(a.program,t[i]),a.attributes.push(a[t[i]]);for(var h=0;h&lt;e.length;h++)a[e[h]]=this.getUniformLocation(a.program,e[h])}else console.error(this.getProgramInfoLog(a.program));return a},r.switchShader=function(r,t,e){if(t||console.trace(&quot;posMatrix does not have required argument&quot;),this.currentShader!==r){this.useProgram(r.program);for(var a=this.currentShader?this.currentShader.attributes:[],i=r.attributes,h=0;h&lt;a.length;h++)i.indexOf(a[h])&lt;0&amp;&amp;this.disableVertexAttribArray(a[h]);for(var s=0;s&lt;i.length;s++)a.indexOf(i[s])&lt;0&amp;&amp;this.enableVertexAttribArray(i[s]);this.currentShader=r}r.posMatrix!==t&amp;&amp;(this.uniformMatrix4fv(r.u_matrix,!1,t),r.posMatrix=t),e&amp;&amp;r.exMatrix!==e&amp;&amp;r.u_exmatrix&amp;&amp;(this.uniformMatrix4fv(r.u_exmatrix,!1,e),r.exMatrix=e)},r};
},{&quot;../util/util&quot;:90,&quot;./shaders&quot;:32}],30:[function(require,module,exports){
    &quot;use strict&quot;;function LineAtlas(t,i){this.width=t,this.height=i,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}module.exports=LineAtlas,LineAtlas.prototype.setSprite=function(t){this.sprite=t},LineAtlas.prototype.getDash=function(t,i){var e=t.join(&quot;,&quot;)+i;return this.positions[e]||(this.positions[e]=this.addDash(t,i)),this.positions[e]},LineAtlas.prototype.addDash=function(t,i){var e=i?7:0,h=2*e+1,s=128;if(this.nextRow+h&gt;this.height)return console.warn(&quot;LineAtlas out of space&quot;),null;for(var a=0,r=0;r&lt;t.length;r++)a+=t[r];for(var n=this.width/a,o=n/2,d=t.length%2===1,E=-e;e&gt;=E;E++)for(var T=this.nextRow+e+E,l=this.width*T,R=d?-t[t.length-1]:0,u=t[0],g=1,p=0;p&lt;this.width;p++){for(;p/n&gt;u;)R=u,u+=t[g],d&amp;&amp;g===t.length-1&amp;&amp;(u+=t[0]),g++;var x,f=Math.abs(p-R*n),A=Math.abs(p-u*n),w=Math.min(f,A),_=g%2===1;if(i){var y=e?E/e*(o+1):0;if(_){var D=o-Math.abs(y);x=Math.sqrt(w*w+D*D)}else x=o-Math.sqrt(w*w+y*y)}else x=(_?1:-1)*w;this.data[3+4*(l+p)]=Math.max(0,Math.min(255,x+s))}var c={y:(this.nextRow+e+.5)/this.height,height:2*e/this.height,width:a};return this.nextRow+=h,this.dirty=!0,c},LineAtlas.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&amp;&amp;(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},LineAtlas.prototype.debug=function(){var t=document.createElement(&quot;canvas&quot;);document.body.appendChild(t),t.style.position=&quot;absolute&quot;,t.style.top=0,t.style.left=0,t.style.background=&quot;#ff0&quot;,t.width=this.width,t.height=this.height;for(var i=t.getContext(&quot;2d&quot;),e=i.getImageData(0,0,this.width,this.height),h=0;h&lt;this.data.length;h++)if(this.sdf){var s=4*h;e.data[s]=e.data[s+1]=e.data[s+2]=0,e.data[s+3]=this.data[h]}else e.data[h]=this.data[h];i.putImageData(e,0,0)};
},{}],31:[function(require,module,exports){
    &quot;use strict&quot;;function GLPainter(t,e){this.gl=glutil.extend(t),this.transform=e,this.reusableTextures={},this.preFbos={},this.tileExtent=4096,this.frameHistory=new FrameHistory,this.setup()}var glutil=require(&quot;./gl_util&quot;),browser=require(&quot;../util/browser&quot;),mat4=require(&quot;gl-matrix&quot;).mat4,FrameHistory=require(&quot;./frame_history&quot;);module.exports=GLPainter,GLPainter.prototype.resize=function(t,e){var i=this.gl;this.projectionMatrix=mat4.create(),mat4.ortho(this.projectionMatrix,0,t,e,0,0,-1),this.width=t*browser.devicePixelRatio,this.height=e*browser.devicePixelRatio,i.viewport(0,0,this.width,this.height)},GLPainter.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE_MINUS_DST_ALPHA,t.ONE),t.enable(t.STENCIL_TEST),this.debugShader=t.initializeShader(&quot;debug&quot;,[&quot;a_pos&quot;],[&quot;u_matrix&quot;,&quot;u_pointsize&quot;,&quot;u_color&quot;]),this.gaussianShader=t.initializeShader(&quot;gaussian&quot;,[&quot;a_pos&quot;],[&quot;u_matrix&quot;,&quot;u_image&quot;,&quot;u_offset&quot;]),this.rasterShader=t.initializeShader(&quot;raster&quot;,[&quot;a_pos&quot;,&quot;a_texture_pos&quot;],[&quot;u_matrix&quot;,&quot;u_brightness_low&quot;,&quot;u_brightness_high&quot;,&quot;u_saturation_factor&quot;,&quot;u_spin_weights&quot;,&quot;u_contrast_factor&quot;,&quot;u_opacity0&quot;,&quot;u_opacity1&quot;,&quot;u_image0&quot;,&quot;u_image1&quot;,&quot;u_tl_parent&quot;,&quot;u_scale_parent&quot;,&quot;u_buffer_scale&quot;]),this.lineShader=t.initializeShader(&quot;line&quot;,[&quot;a_pos&quot;,&quot;a_data&quot;],[&quot;u_matrix&quot;,&quot;u_exmatrix&quot;,&quot;u_linewidth&quot;,&quot;u_color&quot;,&quot;u_ratio&quot;,&quot;u_blur&quot;]),this.linepatternShader=t.initializeShader(&quot;linepattern&quot;,[&quot;a_pos&quot;,&quot;a_data&quot;],[&quot;u_matrix&quot;,&quot;u_exmatrix&quot;,&quot;u_linewidth&quot;,&quot;u_ratio&quot;,&quot;u_pattern_size_a&quot;,&quot;u_pattern_size_b&quot;,&quot;u_pattern_tl_a&quot;,&quot;u_pattern_br_a&quot;,&quot;u_pattern_tl_b&quot;,&quot;u_pattern_br_b&quot;,&quot;u_blur&quot;,&quot;u_fade&quot;,&quot;u_opacity&quot;]),this.linesdfpatternShader=t.initializeShader(&quot;linesdfpattern&quot;,[&quot;a_pos&quot;,&quot;a_data&quot;],[&quot;u_matrix&quot;,&quot;u_exmatrix&quot;,&quot;u_linewidth&quot;,&quot;u_color&quot;,&quot;u_ratio&quot;,&quot;u_blur&quot;,&quot;u_patternscale_a&quot;,&quot;u_tex_y_a&quot;,&quot;u_patternscale_b&quot;,&quot;u_tex_y_b&quot;,&quot;u_image&quot;,&quot;u_sdfgamma&quot;,&quot;u_mix&quot;]),this.dotShader=t.initializeShader(&quot;dot&quot;,[&quot;a_pos&quot;],[&quot;u_matrix&quot;,&quot;u_size&quot;,&quot;u_color&quot;,&quot;u_blur&quot;]),this.sdfShader=t.initializeShader(&quot;sdf&quot;,[&quot;a_pos&quot;,&quot;a_offset&quot;,&quot;a_data1&quot;,&quot;a_data2&quot;],[&quot;u_matrix&quot;,&quot;u_exmatrix&quot;,&quot;u_texture&quot;,&quot;u_texsize&quot;,&quot;u_color&quot;,&quot;u_gamma&quot;,&quot;u_buffer&quot;,&quot;u_angle&quot;,&quot;u_zoom&quot;,&quot;u_flip&quot;,&quot;u_fadedist&quot;,&quot;u_minfadezoom&quot;,&quot;u_maxfadezoom&quot;,&quot;u_fadezoom&quot;]),this.iconShader=t.initializeShader(&quot;icon&quot;,[&quot;a_pos&quot;,&quot;a_offset&quot;,&quot;a_data1&quot;,&quot;a_data2&quot;],[&quot;u_matrix&quot;,&quot;u_exmatrix&quot;,&quot;u_texture&quot;,&quot;u_texsize&quot;,&quot;u_angle&quot;,&quot;u_zoom&quot;,&quot;u_flip&quot;,&quot;u_fadedist&quot;,&quot;u_minfadezoom&quot;,&quot;u_maxfadezoom&quot;,&quot;u_fadezoom&quot;,&quot;u_opacity&quot;]),this.outlineShader=t.initializeShader(&quot;outline&quot;,[&quot;a_pos&quot;],[&quot;u_matrix&quot;,&quot;u_color&quot;,&quot;u_world&quot;]),this.patternShader=t.initializeShader(&quot;pattern&quot;,[&quot;a_pos&quot;],[&quot;u_matrix&quot;,&quot;u_pattern_tl_a&quot;,&quot;u_pattern_br_a&quot;,&quot;u_pattern_tl_b&quot;,&quot;u_pattern_br_b&quot;,&quot;u_mix&quot;,&quot;u_patternmatrix_a&quot;,&quot;u_patternmatrix_b&quot;,&quot;u_opacity&quot;,&quot;u_image&quot;]),this.fillShader=t.initializeShader(&quot;fill&quot;,[&quot;a_pos&quot;],[&quot;u_matrix&quot;,&quot;u_color&quot;]),this.identityMatrix=mat4.create(),this.backgroundBuffer=t.createBuffer(),this.backgroundBuffer.itemSize=2,this.backgroundBuffer.itemCount=4,t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([-1,-1,1,-1,-1,1,1,1]),t.STATIC_DRAW),this.tileExtentBuffer=t.createBuffer(),this.tileExtentBuffer.itemSize=4,this.tileExtentBuffer.itemCount=4,t.bindBuffer(t.ARRAY_BUFFER,this.tileExtentBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([0,0,0,0,this.tileExtent,0,32767,0,0,this.tileExtent,0,32767,this.tileExtent,this.tileExtent,32767,32767]),t.STATIC_DRAW),this.debugBuffer=t.createBuffer(),this.debugBuffer.itemSize=2,this.debugBuffer.itemCount=5,t.bindBuffer(t.ARRAY_BUFFER,this.debugBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([0,0,4095,0,4095,4095,0,4095,0,0]),t.STATIC_DRAW),this.debugTextBuffer=t.createBuffer(),this.debugTextBuffer.itemSize=2},GLPainter.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},GLPainter.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},GLPainter.prototype.drawClippingMask=function(t){var e=this.gl;e.switchShader(this.fillShader,t.posMatrix),e.colorMask(!1,!1,!1,!1),e.clearStencil(0),e.stencilMask(191),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.EQUAL,192,64),e.stencilMask(192),e.stencilOp(e.REPLACE,e.KEEP,e.KEEP),e.bindBuffer(e.ARRAY_BUFFER,this.tileExtentBuffer),e.vertexAttribPointer(this.fillShader.a_pos,this.tileExtentBuffer.itemSize,e.SHORT,!1,8,0),e.drawArrays(e.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount),e.stencilFunc(e.EQUAL,128,128),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.stencilMask(0),e.colorMask(!0,!0,!0,!0)},GLPainter.prototype.prepareBuffers=function(){},GLPainter.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};var draw={symbol:require(&quot;./draw_symbol&quot;),line:require(&quot;./draw_line&quot;),fill:require(&quot;./draw_fill&quot;),raster:require(&quot;./draw_raster&quot;),background:require(&quot;./draw_background&quot;),debug:require(&quot;./draw_debug&quot;),vertices:require(&quot;./draw_vertices&quot;)};GLPainter.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphAtlas=t.glyphAtlas,this.glyphAtlas.bind(this.gl),this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor();for(var i=t._groups.length-1;i&gt;=0;i--){var r=t._groups[i],a=t.sources[r.source];a?(this.clearStencil(),a.render(r,this)):void 0===r.source&amp;&amp;this.drawLayers(r,this.identityMatrix)}},GLPainter.prototype.drawTile=function(t,e){this.drawClippingMask(t),this.drawLayers(e,t.posMatrix,t),this.options.debug&amp;&amp;draw.debug(this,t)},GLPainter.prototype.drawLayers=function(t,e,i){for(var r=t.length-1;r&gt;=0;r--){var a=t[r];a.hidden||(draw[a.type](this,a,e,i),this.options.vertices&amp;&amp;draw.vertices(this,a,e,i))}},GLPainter.prototype.drawStencilBuffer=function(){var t=this.gl;t.switchShader(this.fillShader,this.identityMatrix),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.stencilMask(0),t.stencilFunc(t.EQUAL,128,128),t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.vertexAttribPointer(this.fillShader.a_pos,this.backgroundBuffer.itemSize,t.SHORT,!1,0,0),t.uniform4fv(this.fillShader.u_color,[0,0,0,.5]),t.drawArrays(t.TRIANGLE_STRIP,0,this.backgroundBuffer.itemCount),t.blendFunc(t.ONE_MINUS_DST_ALPHA,t.ONE)},GLPainter.prototype.translateMatrix=function(t,e,i,r){if(!i[0]&amp;&amp;!i[1])return t;if(&quot;viewport&quot;===r){var a=Math.sin(-this.transform.angle),s=Math.cos(-this.transform.angle);i=[i[0]*s-i[1]*a,i[0]*a+i[1]*s]}var u=this.transform.scale/(1&lt;&lt;e.zoom)/(e.tileExtent/e.tileSize),n=[i[0]/u,i[1]/u,0],_=new Float32Array(16);return mat4.translate(_,t,n),_},GLPainter.prototype.saveTexture=function(t){var e=this.reusableTextures[t.size];e?e.push(t):this.reusableTextures[t.size]=[t]},GLPainter.prototype.getTexture=function(t){var e=this.reusableTextures[t];return e&amp;&amp;e.length&gt;0?e.pop():null};
},{&quot;../util/browser&quot;:79,&quot;./draw_background&quot;:21,&quot;./draw_debug&quot;:22,&quot;./draw_fill&quot;:23,&quot;./draw_line&quot;:24,&quot;./draw_raster&quot;:25,&quot;./draw_symbol&quot;:26,&quot;./draw_vertices&quot;:27,&quot;./frame_history&quot;:28,&quot;./gl_util&quot;:29,&quot;gl-matrix&quot;:98}],32:[function(require,module,exports){
    &quot;use strict&quot;;var glify=void 0;module.exports={debug:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nuniform float u_pointsize;\nuniform mat4 u_matrix;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xy = a_pos;\n  tmpvar_1.z = float((a_pos.x &gt;= 32767.0));\n  gl_Position = (u_matrix * tmpvar_1);\n  gl_PointSize = u_pointsize;\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform vec4 u_color;\nvoid main ()\n{\n  gl_FragColor = u_color;\n}\n\n&quot;},dot:{vertex:&quot;precision mediump float;\nuniform mat4 u_matrix;\nuniform float u_size;\nattribute vec2 a_pos;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.zw = vec2(0.0, 1.0);\n  tmpvar_1.xy = a_pos;\n  gl_Position = (u_matrix * tmpvar_1);\n  gl_PointSize = u_size;\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform vec4 u_color;\nuniform float u_blur;\nvoid main ()\n{\n  mediump vec2 x_1;\n  x_1 = (gl_PointCoord - 0.5);\n  mediump float tmpvar_2;\n  tmpvar_2 = clamp (((\n    sqrt(dot (x_1, x_1))\n   - 0.5) / (\n    (0.5 - u_blur)\n   - 0.5)), 0.0, 1.0);\n  gl_FragColor = (u_color * (tmpvar_2 * (tmpvar_2 * \n    (3.0 - (2.0 * tmpvar_2))\n  )));\n}\n\n&quot;},fill:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.zw = vec2(0.0, 1.0);\n  tmpvar_1.xy = a_pos;\n  gl_Position = (u_matrix * tmpvar_1);\n  gl_PointSize = 2.0;\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform vec4 u_color;\nvoid main ()\n{\n  gl_FragColor = u_color;\n}\n\n&quot;},gaussian:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\nuniform vec2 u_offset;\nvarying highp vec2 a[3];\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.zw = vec2(0.0, 1.0);\n  tmpvar_1.xy = a_pos;\n  vec4 tmpvar_2;\n  tmpvar_2 = (u_matrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n  highp vec2 tmpvar_3;\n  tmpvar_3 = ((tmpvar_2.xy / 2.0) + 0.5);\n  a[0] = tmpvar_3;\n  vec2 cse_4;\n  cse_4 = (u_offset * 1.18243);\n  a[1] = (tmpvar_3 + cse_4);\n  a[2] = (tmpvar_3 - cse_4);\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 a[3];\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = (((texture2D (u_image, a[0]) * 0.40262) + (texture2D (u_image, a[1]) * 0.29869)) + (texture2D (u_image, a[2]) * 0.29869));\n  gl_FragColor = tmpvar_1;\n}\n\n&quot;},line:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nattribute vec4 a_data;\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform vec2 u_linewidth;\nvarying vec2 a;\nvoid main ()\n{\n  vec2 c_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (vec2(mod (a_pos, 2.0)));\n  c_1.x = tmpvar_2.x;\n  c_1.y = sign((tmpvar_2.y - 0.5));\n  a = c_1;\n  vec4 tmpvar_3;\n  tmpvar_3.zw = vec2(0.0, 0.0);\n  tmpvar_3.xy = ((u_linewidth.x * a_data.xy) * 0.015873);\n  vec4 tmpvar_4;\n  tmpvar_4.zw = vec2(0.0, 1.0);\n  tmpvar_4.xy = floor((a_pos * 0.5));\n  gl_Position = ((u_matrix * tmpvar_4) + (u_exmatrix * tmpvar_3));\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform vec2 u_linewidth;\nuniform vec4 u_color;\nuniform float u_blur;\nvarying vec2 a;\nvoid main ()\n{\n  float tmpvar_1;\n  tmpvar_1 = (sqrt(dot (a, a)) * u_linewidth.x);\n  gl_FragColor = (u_color * clamp ((\n    min ((tmpvar_1 - (u_linewidth.y - u_blur)), (u_linewidth.x - tmpvar_1))\n   / u_blur), 0.0, 1.0));\n}\n\n&quot;},linepattern:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nattribute vec4 a_data;\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform vec2 u_linewidth;\nvarying vec2 a;\nvarying float b;\nvoid main ()\n{\n  vec2 e_1;\n  vec2 tmpvar_2;\n  tmpvar_2 = (vec2(mod (a_pos, 2.0)));\n  e_1.x = tmpvar_2.x;\n  e_1.y = sign((tmpvar_2.y - 0.5));\n  a = e_1;\n  vec4 tmpvar_3;\n  tmpvar_3.zw = vec2(0.0, 1.0);\n  tmpvar_3.xy = floor((a_pos / 2.0));\n  vec4 tmpvar_4;\n  tmpvar_4.zw = vec2(0.0, 0.0);\n  tmpvar_4.xy = (u_linewidth.x * (a_data.xy * 0.015873));\n  gl_Position = ((u_matrix * tmpvar_3) + (u_exmatrix * tmpvar_4));\n  b = ((a_data.z * 128.0) + a_data.w);\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform vec2 u_linewidth;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_blur;\nuniform float u_fade;\nuniform float u_opacity;\nuniform sampler2D u_image;\nvarying vec2 a;\nvarying float b;\nvoid main ()\n{\n  float tmpvar_1;\n  tmpvar_1 = (sqrt(dot (a, a)) * u_linewidth.x);\n  vec2 tmpvar_2;\n  tmpvar_2.x = (float(mod ((b / u_pattern_size_a.x), 1.0)));\n  float cse_3;\n  cse_3 = (a.y * u_linewidth.x);\n  tmpvar_2.y = (0.5 + (cse_3 / u_pattern_size_a.y));\n  vec2 tmpvar_4;\n  tmpvar_4.x = (float(mod ((b / u_pattern_size_b.x), 1.0)));\n  tmpvar_4.y = (0.5 + (cse_3 / u_pattern_size_b.y));\n  lowp vec4 tmpvar_5;\n  tmpvar_5 = (mix (texture2D (u_image, mix (u_pattern_tl_a, u_pattern_br_a, tmpvar_2)), texture2D (u_image, mix (u_pattern_tl_b, u_pattern_br_b, tmpvar_4)), u_fade) * (clamp (\n    (min ((tmpvar_1 - (u_linewidth.y - u_blur)), (u_linewidth.x - tmpvar_1)) / u_blur)\n  , 0.0, 1.0) * u_opacity));\n  gl_FragColor = tmpvar_5;\n}\n\n&quot;},linesdfpattern:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nattribute vec4 a_data;\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform vec2 u_linewidth;\nuniform vec2 u_patternscale_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_a;\nuniform float u_tex_y_b;\nvarying vec2 a;\nvarying vec2 b;\nvarying vec2 c;\nvoid main ()\n{\n  vec2 f_1;\n  float tmpvar_2;\n  tmpvar_2 = ((a_data.z * 128.0) + a_data.w);\n  vec2 tmpvar_3;\n  tmpvar_3 = (vec2(mod (a_pos, 2.0)));\n  f_1.x = tmpvar_3.x;\n  f_1.y = sign((tmpvar_3.y - 0.5));\n  a = f_1;\n  vec4 tmpvar_4;\n  tmpvar_4.zw = vec2(0.0, 0.0);\n  tmpvar_4.xy = ((u_linewidth.x * a_data.xy) * 0.015873);\n  vec4 tmpvar_5;\n  tmpvar_5.zw = vec2(0.0, 1.0);\n  tmpvar_5.xy = floor((a_pos * 0.5));\n  gl_Position = ((u_matrix * tmpvar_5) + (u_exmatrix * tmpvar_4));\n  vec2 tmpvar_6;\n  tmpvar_6.x = (tmpvar_2 * u_patternscale_a.x);\n  tmpvar_6.y = ((f_1.y * u_patternscale_a.y) + u_tex_y_a);\n  b = tmpvar_6;\n  vec2 tmpvar_7;\n  tmpvar_7.x = (tmpvar_2 * u_patternscale_b.x);\n  tmpvar_7.y = ((f_1.y * u_patternscale_b.y) + u_tex_y_b);\n  c = tmpvar_7;\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform vec2 u_linewidth;\nuniform vec4 u_color;\nuniform float u_blur;\nuniform float u_sdfgamma;\nuniform float u_mix;\nuniform sampler2D u_image;\nvarying vec2 a;\nvarying vec2 b;\nvarying vec2 c;\nvoid main ()\n{\n  float tmpvar_1;\n  tmpvar_1 = (sqrt(dot (a, a)) * u_linewidth.x);\n  float edge0_2;\n  edge0_2 = (0.5 - u_sdfgamma);\n  lowp float tmpvar_3;\n  tmpvar_3 = clamp (((\n    mix (texture2D (u_image, b).w, texture2D (u_image, c).w, u_mix)\n   - edge0_2) / (\n    (0.5 + u_sdfgamma)\n   - edge0_2)), 0.0, 1.0);\n  lowp vec4 tmpvar_4;\n  tmpvar_4 = (u_color * (clamp (\n    (min ((tmpvar_1 - (u_linewidth.y - u_blur)), (u_linewidth.x - tmpvar_1)) / u_blur)\n  , 0.0, 1.0) * (tmpvar_3 * \n    (tmpvar_3 * (3.0 - (2.0 * tmpvar_3)))\n  )));\n  gl_FragColor = tmpvar_4;\n}\n\n&quot;},outline:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\nuniform vec2 u_world;\nvarying highp vec2 a;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.zw = vec2(0.0, 1.0);\n  tmpvar_1.xy = a_pos;\n  vec4 tmpvar_2;\n  tmpvar_2 = (u_matrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n  a = (((tmpvar_2.xy + 1.0) / 2.0) * u_world);\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform vec4 u_color;\nvarying vec2 a;\nvoid main ()\n{\n  highp vec2 x_1;\n  x_1 = (a - gl_FragCoord.xy);\n  highp float tmpvar_2;\n  tmpvar_2 = clamp (((\n    sqrt(dot (x_1, x_1))\n   - 1.0) / -1.0), 0.0, 1.0);\n  highp vec4 tmpvar_3;\n  tmpvar_3 = (u_color * (tmpvar_2 * (tmpvar_2 * \n    (3.0 - (2.0 * tmpvar_2))\n  )));\n  gl_FragColor = tmpvar_3;\n}\n\n&quot;},pattern:{vertex:&quot;precision mediump float;\nuniform mat4 u_matrix;\nuniform mat3 u_patternmatrix_a;\nuniform mat3 u_patternmatrix_b;\nattribute vec2 a_pos;\nvarying vec2 a;\nvarying vec2 b;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.zw = vec2(0.0, 1.0);\n  tmpvar_1.xy = a_pos;\n  gl_Position = (u_matrix * tmpvar_1);\n  vec3 tmpvar_2;\n  tmpvar_2.z = 1.0;\n  tmpvar_2.xy = a_pos;\n  a = (u_patternmatrix_a * tmpvar_2).xy;\n  vec3 tmpvar_3;\n  tmpvar_3.z = 1.0;\n  tmpvar_3.xy = a_pos;\n  b = (u_patternmatrix_b * tmpvar_3).xy;\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform float u_opacity;\nuniform float u_mix;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform sampler2D u_image;\nvarying vec2 a;\nvarying vec2 b;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = (mix (texture2D (u_image, mix (u_pattern_tl_a, u_pattern_br_a, \n    (vec2(mod (a, 1.0)))\n  )), texture2D (u_image, mix (u_pattern_tl_b, u_pattern_br_b, \n    (vec2(mod (b, 1.0)))\n  )), u_mix) * u_opacity);\n  gl_FragColor = tmpvar_1;\n}\n\n&quot;},raster:{vertex:&quot;precision mediump float;\nuniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\nvarying vec2 a;\nvarying vec2 b;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.zw = vec2(0.0, 1.0);\n  tmpvar_1.xy = a_pos;\n  gl_Position = (u_matrix * tmpvar_1);\n  vec2 tmpvar_2;\n  tmpvar_2 = (((\n    (a_texture_pos / 32767.0)\n   - 0.5) / u_buffer_scale) + 0.5);\n  a = tmpvar_2;\n  b = ((tmpvar_2 * u_scale_parent) + u_tl_parent);\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform float u_opacity0;\nuniform float u_opacity1;\nuniform float u_brightness_low;\nuniform float u_brightness_high;\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 a;\nvarying vec2 b;\nuniform vec3 u_spin_weights;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = ((texture2D (u_image0, a) * u_opacity0) + (texture2D (u_image1, b) * u_opacity1));\n  lowp vec3 tmpvar_2;\n  tmpvar_2.x = dot (tmpvar_1.xyz, u_spin_weights);\n  tmpvar_2.y = dot (tmpvar_1.xyz, u_spin_weights.zxy);\n  tmpvar_2.z = dot (tmpvar_1.xyz, u_spin_weights.yzx);\n  lowp vec4 tmpvar_3;\n  tmpvar_3.xyz = mix (vec3(u_brightness_low), vec3(u_brightness_high), ((\n    ((tmpvar_2 + ((\n      (((tmpvar_1.x + tmpvar_1.y) + tmpvar_1.z) / 3.0)\n     - tmpvar_2) * u_saturation_factor)) - 0.5)\n   * u_contrast_factor) + 0.5));\n  tmpvar_3.w = tmpvar_1.w;\n  gl_FragColor = tmpvar_3;\n}\n\n&quot;},icon:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec4 a_data1;\nattribute vec4 a_data2;\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform float u_angle;\nuniform float u_zoom;\nuniform float u_flip;\nuniform float u_fadedist;\nuniform float u_minfadezoom;\nuniform float u_maxfadezoom;\nuniform float u_fadezoom;\nuniform float u_opacity;\nuniform vec2 u_texsize;\nvarying vec2 a;\nvarying float b;\nvoid main ()\n{\n  float m_1;\n  m_1 = 0.0;\n  float tmpvar_2;\n  tmpvar_2 = (float(mod ((a_data1.w + u_angle), 256.0)));\n  if ((((u_flip &gt; 0.0) &amp;&amp; (tmpvar_2 &gt;= 64.0)) &amp;&amp; (tmpvar_2 &lt; 192.0))) {\n    m_1 = 1.0;\n  };\n  float tmpvar_3;\n  tmpvar_3 = (((2.0 - \n    float((u_zoom &gt;= a_data2.x))\n  ) - (1.0 - \n    float((u_zoom &gt;= a_data2.y))\n  )) + m_1);\n  float tmpvar_4;\n  tmpvar_4 = clamp (((u_fadezoom - a_data1.z) / u_fadedist), 0.0, 1.0);\n  if ((u_fadedist &gt;= 0.0)) {\n    b = tmpvar_4;\n  } else {\n    b = (1.0 - tmpvar_4);\n  };\n  if ((u_maxfadezoom &lt; a_data1.z)) {\n    b = 0.0;\n  };\n  if ((u_minfadezoom &gt;= a_data1.z)) {\n    b = 1.0;\n  };\n  vec4 tmpvar_5;\n  tmpvar_5.zw = vec2(0.0, 1.0);\n  tmpvar_5.xy = a_pos;\n  vec4 tmpvar_6;\n  tmpvar_6.w = 0.0;\n  tmpvar_6.xy = (a_offset / 64.0);\n  tmpvar_6.z = ((tmpvar_3 + float(\n    (0.0 &gt;= b)\n  )) + (float(\n    (u_angle &gt;= a_data2.z)\n  ) * (1.0 - \n    float((u_angle &gt;= a_data2.w))\n  )));\n  gl_Position = ((u_matrix * tmpvar_5) + (u_exmatrix * tmpvar_6));\n  a = (a_data1.xy / u_texsize);\n  b = (b * u_opacity);\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform sampler2D u_texture;\nvarying vec2 a;\nvarying float b;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = (texture2D (u_texture, a) * b);\n  gl_FragColor = tmpvar_1;\n}\n\n&quot;},sdf:{vertex:&quot;precision mediump float;\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec4 a_data1;\nattribute vec4 a_data2;\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform float u_angle;\nuniform float u_zoom;\nuniform float u_flip;\nuniform float u_fadedist;\nuniform float u_minfadezoom;\nuniform float u_maxfadezoom;\nuniform float u_fadezoom;\nuniform vec2 u_texsize;\nvarying vec2 a;\nvarying float b;\nvoid main ()\n{\n  float l_1;\n  l_1 = 0.0;\n  float tmpvar_2;\n  tmpvar_2 = (float(mod ((a_data1.w + u_angle), 256.0)));\n  if ((((u_flip &gt; 0.0) &amp;&amp; (tmpvar_2 &gt;= 64.0)) &amp;&amp; (tmpvar_2 &lt; 192.0))) {\n    l_1 = 1.0;\n  };\n  float tmpvar_3;\n  tmpvar_3 = (((2.0 - \n    float((u_zoom &gt;= a_data2.x))\n  ) - (1.0 - \n    float((u_zoom &gt;= a_data2.y))\n  )) + l_1);\n  float tmpvar_4;\n  tmpvar_4 = clamp (((u_fadezoom - a_data1.z) / u_fadedist), 0.0, 1.0);\n  if ((u_fadedist &gt;= 0.0)) {\n    b = tmpvar_4;\n  } else {\n    b = (1.0 - tmpvar_4);\n  };\n  if ((u_maxfadezoom &lt; a_data1.z)) {\n    b = 0.0;\n  };\n  if ((u_minfadezoom &gt;= a_data1.z)) {\n    b = 1.0;\n  };\n  vec4 tmpvar_5;\n  tmpvar_5.zw = vec2(0.0, 1.0);\n  tmpvar_5.xy = a_pos;\n  vec4 tmpvar_6;\n  tmpvar_6.w = 0.0;\n  tmpvar_6.xy = (a_offset / 64.0);\n  tmpvar_6.z = ((tmpvar_3 + float(\n    (0.0 &gt;= b)\n  )) + (float(\n    (u_angle &gt;= a_data2.z)\n  ) * (1.0 - \n    float((u_angle &gt;= a_data2.w))\n  )));\n  gl_Position = ((u_matrix * tmpvar_5) + (u_exmatrix * tmpvar_6));\n  a = (a_data1.xy / u_texsize);\n}\n\n&quot;,fragment:&quot;precision mediump float;\nuniform sampler2D u_texture;\nuniform vec4 u_color;\nuniform float u_buffer;\nuniform float u_gamma;\nvarying vec2 a;\nvarying float b;\nvoid main ()\n{\n  float edge0_1;\n  edge0_1 = (u_buffer - u_gamma);\n  lowp float tmpvar_2;\n  tmpvar_2 = clamp (((texture2D (u_texture, a).w - edge0_1) / (\n    (u_buffer + u_gamma)\n   - edge0_1)), 0.0, 1.0);\n  lowp vec4 tmpvar_3;\n  tmpvar_3 = (u_color * ((tmpvar_2 * \n    (tmpvar_2 * (3.0 - (2.0 * tmpvar_2)))\n  ) * b));\n  gl_FragColor = tmpvar_3;\n}\n\n&quot;}};
},{}],33:[function(require,module,exports){
    &quot;use strict&quot;;function GeoJSONSource(i){i=i||{},this._data=i.data,void 0!==i.maxzoom&amp;&amp;(this.maxzoom=i.maxzoom),this._pyramid=new TilePyramid({tileSize:512,minzoom:this.minzoom,maxzoom:this.maxzoom,cacheSize:20,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this)})}var util=require(&quot;../util/util&quot;),Evented=require(&quot;../util/evented&quot;),TilePyramid=require(&quot;./tile_pyramid&quot;),Source=require(&quot;./source&quot;);module.exports=GeoJSONSource,GeoJSONSource.prototype=util.inherit(Evented,{minzoom:0,maxzoom:14,_dirty:!0,setData:function(i){return this._data=i,this._dirty=!0,this.fire(&quot;change&quot;),this.map&amp;&amp;this.update(this.map.transform),this},onAdd:function(i){this.map=i},loaded:function(){return this._loaded&amp;&amp;this._pyramid.loaded()},update:function(i){this._dirty&amp;&amp;this._updateData(),this._loaded&amp;&amp;this._pyramid.update(this.used,i)},reload:function(){this._pyramid.reload()},render:Source._renderTiles,featuresAt:Source._vectorFeaturesAt,_updateData:function(){this._dirty=!1,this.workerID=this.dispatcher.send(&quot;parse geojson&quot;,{data:this._data,tileSize:512,source:this.id,maxZoom:this.maxzoom},function(i){return i?void this.fire(&quot;error&quot;,{error:i}):(this._loaded=!0,this._pyramid.reload(),void this.fire(&quot;change&quot;))}.bind(this))},_loadTile:function(i){var t={uid:i.uid,id:i.id,zoom:i.zoom,maxZoom:this.maxzoom,tileSize:512,source:this.id,depth:i.zoom&gt;=this.maxzoom?this.map.options.maxZoom-i.zoom:1};i.workerID=this.dispatcher.send(&quot;load geojson tile&quot;,t,function(t,e){if(i.unloadVectorData(this.map.painter),!i.aborted){if(t)return void this.fire(&quot;tile.error&quot;,{tile:i});i.loadVectorData(e),this.fire(&quot;tile.load&quot;,{tile:i})}}.bind(this),this.workerID)},_abortTile:function(i){i.aborted=!0},_addTile:function(i){this.fire(&quot;tile.add&quot;,{tile:i})},_removeTile:function(i){this.fire(&quot;tile.remove&quot;,{tile:i})},_unloadTile:function(i){i.unloadVectorData(this.map.painter),this.glyphAtlas.removeGlyphs(i.uid),this.dispatcher.send(&quot;remove tile&quot;,{uid:i.uid,source:this.id},null,i.workerID)}});
},{&quot;../util/evented&quot;:84,&quot;../util/util&quot;:90,&quot;./source&quot;:36,&quot;./tile_pyramid&quot;:39}],34:[function(require,module,exports){
    &quot;use strict&quot;;function GeoJSONWrapper(e){this.features=e,this.length=e.length}function FeatureWrapper(e){this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var Point=require(&quot;point-geometry&quot;),VectorTileFeature=require(&quot;vector-tile&quot;).VectorTileFeature;module.exports=GeoJSONWrapper,GeoJSONWrapper.prototype.feature=function(e){return new FeatureWrapper(this.features[e])},FeatureWrapper.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t&lt;e.length;t++){for(var r=e[t],o=[],a=0;a&lt;r.length;a++)o.push(new Point(r[a][0],r[a][1]));this.geometry.push(o)}return this.geometry},FeatureWrapper.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,o=1/0,a=-1/0,p=0;p&lt;e.length;p++)for(var i=e[p],n=0;n&lt;i.length;n++){var h=i[n];t=Math.min(t,h.x),r=Math.max(r,h.x),o=Math.min(o,h.y),a=Math.max(a,h.y)}return[t,o,r,a]},FeatureWrapper.prototype.toGeoJSON=VectorTileFeature.prototype.toGeoJSON;
},{&quot;point-geometry&quot;:104,&quot;vector-tile&quot;:107}],35:[function(require,module,exports){
    &quot;use strict&quot;;function RasterTileSource(e){util.extend(this,util.pick(e,&quot;url&quot;,&quot;tileSize&quot;)),Source._loadTileJSON.call(this,e)}var util=require(&quot;../util/util&quot;),ajax=require(&quot;../util/ajax&quot;),Evented=require(&quot;../util/evented&quot;),TileCoord=require(&quot;./tile_coord&quot;),Source=require(&quot;./source&quot;),normalizeURL=require(&quot;../util/mapbox&quot;).normalizeTileURL;module.exports=RasterTileSource,RasterTileSource.prototype=util.inherit(Evented,{minzoom:0,maxzoom:22,tileSize:512,_loaded:!1,onAdd:function(e){this.map=e},loaded:function(){return this._pyramid&amp;&amp;this._pyramid.loaded()},update:function(e){this._pyramid&amp;&amp;this._pyramid.update(this.used,e,this.map.style.rasterFadeDuration)},render:Source._renderTiles,_loadTile:function(e){ajax.getImage(normalizeURL(TileCoord.url(e.id,this.tiles),this.url),function(t,i){if(!e.aborted){if(t)return void this.fire(&quot;tile.error&quot;,{tile:e});var r=this.map.painter.gl;e.texture=this.map.painter.getTexture(i.width),e.texture?(r.bindTexture(r.TEXTURE_2D,e.texture),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,i)):(e.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,e.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),e.texture.size=i.width),r.generateMipmap(r.TEXTURE_2D),e.timeAdded=(new Date).getTime(),this.map.animationLoop.set(this.style.rasterFadeDuration),e.source=this,e.loaded=!0,this.fire(&quot;tile.load&quot;,{tile:e})}}.bind(this))},_abortTile:function(e){e.aborted=!0},_addTile:function(e){this.fire(&quot;tile.add&quot;,{tile:e})},_removeTile:function(e){this.fire(&quot;tile.remove&quot;,{tile:e})},_unloadTile:function(e){e.texture&amp;&amp;this.map.painter.saveTexture(e.texture)},featuresAt:function(e,t,i){i(null,[])}});
},{&quot;../util/ajax&quot;:78,&quot;../util/evented&quot;:84,&quot;../util/mapbox&quot;:87,&quot;../util/util&quot;:90,&quot;./source&quot;:36,&quot;./tile_coord&quot;:38}],36:[function(require,module,exports){
    &quot;use strict&quot;;var util=require(&quot;../util/util&quot;),ajax=require(&quot;../util/ajax&quot;),browser=require(&quot;../util/browser&quot;),TileCoord=require(&quot;./tile_coord&quot;),TilePyramid=require(&quot;./tile_pyramid&quot;),normalizeURL=require(&quot;../util/mapbox&quot;).normalizeSourceURL;exports._loadTileJSON=function(e){var i=function(e,i){return e?void this.fire(&quot;error&quot;,{error:e}):(util.extend(this,util.pick(i,&quot;tiles&quot;,&quot;minzoom&quot;,&quot;maxzoom&quot;,&quot;attribution&quot;)),this._pyramid=new TilePyramid({tileSize:this.tileSize,cacheSize:20,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:this.reparseOverscaled,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this)}),void this.fire(&quot;load&quot;))}.bind(this);e.url?ajax.getJSON(normalizeURL(e.url),i):browser.frame(i.bind(this,null,e))},exports._renderTiles=function(e,i){if(this._pyramid)for(var r=this._pyramid.renderedIDs(),t=0;t&lt;r.length;t++){var o=TileCoord.fromID(r[t]),a=this._pyramid.getTile(r[t]),s=o.z,l=o.x,u=o.y,n=o.w;s=Math.min(s,this.maxzoom),l+=n*(1&lt;&lt;s),a.calculateMatrices(s,l,u,i.transform,i),i.drawTile(a,e)}},exports._vectorFeaturesAt=function(e,i,r){if(!this._pyramid)return r(null,[]);var t=this._pyramid.tileAt(e);return t?void this.dispatcher.send(&quot;query features&quot;,{uid:t.tile.uid,x:t.x,y:t.y,scale:t.scale,source:this.id,params:i},r,t.tile.workerID):r(null,[])},exports.create=function(e){var i={vector:require(&quot;./vector_tile_source&quot;),raster:require(&quot;./raster_tile_source&quot;),geojson:require(&quot;./geojson_source&quot;),video:require(&quot;./video_source&quot;)};for(var r in i)if(e instanceof i[r])return e;return new i[e.type](e)};
},{&quot;../util/ajax&quot;:78,&quot;../util/browser&quot;:79,&quot;../util/mapbox&quot;:87,&quot;../util/util&quot;:90,&quot;./geojson_source&quot;:33,&quot;./raster_tile_source&quot;:35,&quot;./tile_coord&quot;:38,&quot;./tile_pyramid&quot;:39,&quot;./vector_tile_source&quot;:40,&quot;./video_source&quot;:41}],37:[function(require,module,exports){
    &quot;use strict&quot;;function Tile(t,i){this.id=t,this.uid=util.uniqueId(),this.loaded=!1,this.zoom=TileCoord.fromID(t).z,this.uses=0,this.tileSize=i}var glmatrix=require(&quot;gl-matrix&quot;),mat2=glmatrix.mat2,mat4=glmatrix.mat4,vec2=glmatrix.vec2,TileCoord=require(&quot;./tile_coord&quot;),util=require(&quot;../util/util&quot;),BufferSet=require(&quot;../data/buffer/buffer_set&quot;);module.exports=Tile,Tile.prototype={tileExtent:4096,calculateMatrices:function(t,i,e,a,r){var s=Math.pow(2,t),o=a.worldSize/s;this.scale=o,this.posMatrix=mat4.create(),mat4.translate(this.posMatrix,this.posMatrix,[a.centerPoint.x,a.centerPoint.y,0]),mat4.rotateZ(this.posMatrix,this.posMatrix,a.angle),mat4.translate(this.posMatrix,this.posMatrix,[-a.centerPoint.x,-a.centerPoint.y,0]);var n=a.width/2-a.x,l=a.height/2-a.y;mat4.translate(this.posMatrix,this.posMatrix,[n+i*o,l+e*o,1]),this.invPosMatrix=mat4.create(),mat4.invert(this.invPosMatrix,this.posMatrix),mat4.scale(this.posMatrix,this.posMatrix,[o/this.tileExtent,o/this.tileExtent,1]),mat4.multiply(this.posMatrix,r.projectionMatrix,this.posMatrix),this.exMatrix=mat4.clone(r.projectionMatrix),mat4.rotateZ(this.exMatrix,this.exMatrix,a.angle),this.rotationMatrix=mat2.create(),mat2.rotate(this.rotationMatrix,this.rotationMatrix,a.angle)},positionAt:function(t){if(!this.invPosMatrix)return null;var i=vec2.transformMat4([],[t.x,t.y],this.invPosMatrix);return vec2.scale(i,i,4096/this.scale),{x:i[0],y:i[1],scale:this.scale}},loadVectorData:function(t){this.loaded=!0,t&amp;&amp;(this.buffers=new BufferSet(t.buffers),this.elementGroups=t.elementGroups)},unloadVectorData:function(t){for(var i in this.buffers)this.buffers[i].destroy(t.gl);this.buffers=null}};
},{&quot;../data/buffer/buffer_set&quot;:2,&quot;../util/util&quot;:90,&quot;./tile_coord&quot;:38,&quot;gl-matrix&quot;:98}],38:[function(require,module,exports){
    &quot;use strict&quot;;function edge(o,r){if(o.row&gt;r.row){var n=o;o=r,r=n}return{x0:o.column,y0:o.row,x1:r.column,y1:r.row,dx:r.column-o.column,dy:r.row-o.row}}function scanSpans(o,r,n,e,t){var i=Math.max(n,Math.floor(r.y0)),a=Math.min(e,Math.ceil(r.y1));if(o.x0===r.x0&amp;&amp;o.y0===r.y0?o.x0+r.dy/o.dy*o.dx&lt;r.x1:o.x1-r.dy/o.dy*o.dx&lt;r.x0){var d=o;o=r,r=d}for(var l=o.dx/o.dy,y=r.dx/r.dy,x=o.dx&gt;0,c=r.dx&lt;0,f=i;a&gt;f;f++){var u=l*Math.max(0,Math.min(o.dy,f+x-o.y0))+o.x0,T=y*Math.max(0,Math.min(r.dy,f+c-r.y0))+r.x0;t(Math.floor(T),Math.ceil(u),f)}}function scanTriangle(o,r,n,e,t,i){var a,d=edge(o,r),l=edge(r,n),y=edge(n,o);d.dy&gt;l.dy&amp;&amp;(a=d,d=l,l=a),d.dy&gt;y.dy&amp;&amp;(a=d,d=y,y=a),l.dy&gt;y.dy&amp;&amp;(a=l,l=y,y=a),d.dy&amp;&amp;scanSpans(y,d,e,t,i),l.dy&amp;&amp;scanSpans(y,l,e,t,i)}var TileCoord=exports;TileCoord.toID=function(o,r,n,e){e=e||0,e*=2,0&gt;e&amp;&amp;(e=-1*e-1);var t=1&lt;&lt;o;return 32*(t*t*e+t*n+r)+o},TileCoord.asString=function(o){var r=TileCoord.fromID(o);return r.z+&quot;/&quot;+r.x+&quot;/&quot;+r.y},TileCoord.fromID=function(o){var r=o%32,n=1&lt;&lt;r,e=(o-r)/32,t=e%n,i=(e-t)/n%n,a=Math.floor(e/(n*n));return a%2!==0&amp;&amp;(a=-1*a-1),a/=2,{z:r,x:t,y:i,w:a}},TileCoord.zoom=function(o){return o%32},TileCoord.url=function(o,r,n){var e=TileCoord.fromID(o);return r[(e.x+e.y)%r.length].replace(&quot;{prefix}&quot;,(e.x%16).toString(16)+(e.y%16).toString(16)).replace(&quot;{z}&quot;,Math.min(e.z,n||e.z)).replace(&quot;{x}&quot;,e.x).replace(&quot;{y}&quot;,e.y)},TileCoord.parent=function(o,r){var n=TileCoord.fromID(o);return 0===n.z?null:n.z&gt;r?TileCoord.toID(n.z-1,n.x,n.y,n.w):TileCoord.toID(n.z-1,Math.floor(n.x/2),Math.floor(n.y/2),n.w)},TileCoord.parentWithZoom=function(o,r){for(var n=TileCoord.fromID(o);n.z&gt;r;)n.z--,n.x=Math.floor(n.x/2),n.y=Math.floor(n.y/2);return TileCoord.toID(n.z,n.x,n.y,n.w)},TileCoord.children=function(o,r){var n=TileCoord.fromID(o);return n.z&gt;=r?[TileCoord.toID(n.z+1,n.x,n.y,n.w)]:(n.z+=1,n.x*=2,n.y*=2,[TileCoord.toID(n.z,n.x,n.y,n.w),TileCoord.toID(n.z,n.x+1,n.y,n.w),TileCoord.toID(n.z,n.x,n.y+1,n.w),TileCoord.toID(n.z,n.x+1,n.y+1,n.w)])},TileCoord.zoomTo=function(o,r){return o.column=o.column*Math.pow(2,r-o.zoom),o.row=o.row*Math.pow(2,r-o.zoom),o.zoom=r,o},TileCoord.cover=function(o,r,n){function e(o,r,e){var a,d;if(e&gt;=0&amp;&amp;t&gt;=e)for(a=o;r&gt;a;a++)d=(a+t)%t,i[TileCoord.toID(n,d,e,Math.floor(a/t))]={x:d,y:e}}var t=1&lt;&lt;o,i={};return scanTriangle(r[0],r[1],r[2],0,t,e),scanTriangle(r[2],r[3],r[0],0,t,e),Object.keys(i)};
},{}],39:[function(require,module,exports){
    &quot;use strict&quot;;function TilePyramid(i){this.tileSize=i.tileSize,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,this.reparseOverscaled=i.reparseOverscaled,this._load=i.load,this._abort=i.abort,this._unload=i.unload,this._add=i.add,this._remove=i.remove,this._tiles={},this._cache=new Cache(i.cacheSize,function(i){return this._unload(i)}.bind(this))}var Tile=require(&quot;./tile&quot;),TileCoord=require(&quot;./tile_coord&quot;),Point=require(&quot;point-geometry&quot;),Cache=require(&quot;../util/mru_cache&quot;),util=require(&quot;../util/util&quot;);module.exports=TilePyramid,TilePyramid.prototype={loaded:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0},orderedIDs:function(){return Object.keys(this._tiles).sort(function(i,e){return e%32-i%32}).map(function(i){return+i})},renderedIDs:function(){return this.orderedIDs().filter(function(i){return this._tiles[i].loaded&amp;&amp;!this._coveredTiles[i]}.bind(this))},reload:function(){this._cache.reset();for(var i in this._tiles)this._load(this._tiles[i])},getTile:function(i){return this._tiles[i]},getZoom:function(i){return i.zoom+Math.log(i.tileSize/this.tileSize)/Math.LN2},coveringZoomLevel:function(i){return Math.floor(this.getZoom(i))},coveringTiles:function(i){var e=this.coveringZoomLevel(i),t=e;if(e&lt;this.minzoom)return[];e&gt;this.maxzoom&amp;&amp;(e=this.maxzoom);var o=i,r=TileCoord.zoomTo(o.locationCoordinate(o.center),e),s=new Point(r.column-.5,r.row-.5);return TileCoord.cover(e,[TileCoord.zoomTo(o.pointCoordinate(r,{x:0,y:0}),e),TileCoord.zoomTo(o.pointCoordinate(r,{x:o.width,y:0}),e),TileCoord.zoomTo(o.pointCoordinate(r,{x:o.width,y:o.height}),e),TileCoord.zoomTo(o.pointCoordinate(r,{x:0,y:o.height}),e)],this.reparseOverscaled?t:e).sort(function(i,e){return s.dist(TileCoord.fromID(i))-s.dist(TileCoord.fromID(e))})},findLoadedChildren:function(i,e,t){for(var o=!0,r=TileCoord.fromID(i).z,s=TileCoord.children(i,this.maxzoom),n=0;n&lt;s.length;n++)this._tiles[s[n]]&amp;&amp;this._tiles[s[n]].loaded?t[s[n]]=!0:(o=!1,e&gt;r&amp;&amp;this.findLoadedChildren(s[n],e,t));return o},findLoadedParent:function(i,e,t){for(var o=TileCoord.fromID(i).z;o&gt;=e;o--){i=TileCoord.parent(i,this.maxzoom);var r=this._tiles[i];if(r&amp;&amp;r.loaded)return t[i]=!0,r}},update:function(i,e,t){var o,r,s,n=Math.floor(this.getZoom(e)),d=util.clamp(n-10,this.minzoom,this.maxzoom),l=util.clamp(n+1,this.minzoom,this.maxzoom),a={},h=(new Date).getTime();this._coveredTiles={};var u=i?this.coveringTiles(e):[];for(o=0;o&lt;u.length;o++)r=+u[o],s=this.addTile(r),a[r]=!0,s.loaded||this.findLoadedChildren(r,l,a)||this.findLoadedParent(r,d,a);for(r in a)s=this._tiles[r],s&amp;&amp;s.timeAdded&gt;h-(t||0)&amp;&amp;(this.findLoadedChildren(r,l,a)?(this._coveredTiles[r]=!0,a[r]=!0):this.findLoadedParent(r,d,a));var m=util.keysDifference(this._tiles,a);for(o=0;o&lt;m.length;o++)this.removeTile(+m[o])},addTile:function(i){var e=this._tiles[i];if(e)return e;var t=this._wrappedID(i);if(e=this._tiles[t]||this._cache.get(t),!e){var o=TileCoord.fromID(i).z,r=o&gt;this.maxzoom?Math.pow(2,o-this.maxzoom):1;e=new Tile(t,this.tileSize*r),this._load(e)}return e.uses++,this._tiles[i]=e,this._add(e,i),e},removeTile:function(i){var e=this._tiles[i];e&amp;&amp;(e.uses--,delete this._tiles[i],this._remove(e,i),e.uses&gt;0||(e.loaded?this._cache.add(this._wrappedID(i),e):(this._abort(e),this._unload(e))))},clearTiles:function(){for(var i in this._tiles)this.removeTile(i);this._cache.reset()},tileAt:function(i){for(var e=this.orderedIDs(),t=0;t&lt;e.length;t++){var o=this._tiles[e[t]],r=o.positionAt(i);if(r&amp;&amp;r.x&gt;=0&amp;&amp;r.x&lt;4096&amp;&amp;r.y&gt;=0&amp;&amp;r.y&lt;4096)return{tile:o,x:r.x,y:r.y,scale:r.scale}}},_wrappedID:function(i){var e=TileCoord.fromID(i);return 0===e.w?i:TileCoord.toID(e.z,e.x,e.y,0)}};
},{&quot;../util/mru_cache&quot;:88,&quot;../util/util&quot;:90,&quot;./tile&quot;:37,&quot;./tile_coord&quot;:38,&quot;point-geometry&quot;:104}],40:[function(require,module,exports){
    &quot;use strict&quot;;function VectorTileSource(e){if(util.extend(this,util.pick(e,&quot;url&quot;,&quot;tileSize&quot;)),512!==this.tileSize)throw new Error(&quot;vector tile sources must have a tileSize of 512&quot;);Source._loadTileJSON.call(this,e)}var util=require(&quot;../util/util&quot;),Evented=require(&quot;../util/evented&quot;),TileCoord=require(&quot;./tile_coord&quot;),Source=require(&quot;./source&quot;);module.exports=VectorTileSource,VectorTileSource.prototype=util.inherit(Evented,{minzoom:0,maxzoom:22,tileSize:512,reparseOverscaled:!0,_loaded:!1,onAdd:function(e){this.map=e},loaded:function(){return this._pyramid&amp;&amp;this._pyramid.loaded()},update:function(e){this._pyramid&amp;&amp;this._pyramid.update(this.used,e)},reload:function(){this._pyramid.reload()},render:Source._renderTiles,featuresAt:Source._vectorFeaturesAt,_loadTile:function(e){var i=e.zoom&gt;this.maxzoom?Math.pow(2,e.zoom-this.maxzoom):1,t={url:TileCoord.url(e.id,this.tiles,this.maxzoom),uid:e.uid,id:e.id,zoom:e.zoom,maxZoom:this.maxzoom,tileSize:this.tileSize*i,source:this.id,overscaling:i};e.workerID?this.dispatcher.send(&quot;reload tile&quot;,t,this._tileLoaded.bind(this,e),e.workerID):e.workerID=this.dispatcher.send(&quot;load tile&quot;,t,this._tileLoaded.bind(this,e))},_tileLoaded:function(e,i,t){if(!e.aborted){if(i)return void this.fire(&quot;tile.error&quot;,{tile:e});e.loadVectorData(t),this.fire(&quot;tile.load&quot;,{tile:e})}},_abortTile:function(e){e.aborted=!0,this.dispatcher.send(&quot;abort tile&quot;,{uid:e.uid,source:this.id},null,e.workerID)},_addTile:function(e){this.fire(&quot;tile.add&quot;,{tile:e})},_removeTile:function(e){this.fire(&quot;tile.remove&quot;,{tile:e})},_unloadTile:function(e){e.unloadVectorData(this.map.painter),this.glyphAtlas.removeGlyphs(e.uid),this.dispatcher.send(&quot;remove tile&quot;,{uid:e.uid,source:this.id},null,e.workerID)}});
},{&quot;../util/evented&quot;:84,&quot;../util/util&quot;:90,&quot;./source&quot;:36,&quot;./tile_coord&quot;:38}],41:[function(require,module,exports){
    &quot;use strict&quot;;function VideoSource(e){this.coordinates=e.coordinates,ajax.getVideo(&quot;string&quot;==typeof e.url?[e.url]:e.url,function(e,t){if(!e){this.video=t,this.video.loop=!0;var i;this.video.addEventListener(&quot;playing&quot;,function(){i=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener(&quot;pause&quot;,function(){this.map.style.animationLoop.cancel(i)}.bind(this)),this._loaded=!0,this.map&amp;&amp;(this.video.play(),this.createTile(),this.fire(&quot;change&quot;))}}.bind(this))}var util=require(&quot;../util/util&quot;),Tile=require(&quot;./tile&quot;),TileCoord=require(&quot;./tile_coord&quot;),LatLng=require(&quot;../geo/lat_lng&quot;),Point=require(&quot;point-geometry&quot;),Evented=require(&quot;../util/evented&quot;),ajax=require(&quot;../util/ajax&quot;);module.exports=VideoSource,VideoSource.prototype=util.inherit(Evented,{onAdd:function(e){this.map=e,this.video&amp;&amp;(this.video.play(),this.createTile())},createTile:function(){for(var e=this.map,t=this.coordinates.map(function(t){var i=LatLng.convert(t);return TileCoord.zoomTo(e.transform.locationCoordinate(i),0)}),i=1/0,o=1/0,r=-1/0,a=-1/0,n=0;n&lt;t.length;n++)i=Math.min(i,t[n].column),o=Math.min(o,t[n].row),r=Math.max(r,t[n].column),a=Math.max(a,t[n].row);var u=r-i,s=a-o,l=Math.max(u,s),d=TileCoord.zoomTo({column:(i+r)/2,row:(o+a)/2,zoom:0},Math.floor(-Math.log(l)/Math.LN2)),h=4096,T=t.map(function(e){var t=TileCoord.zoomTo(e,d.zoom);return new Point(Math.round((t.column-d.column)*h),Math.round((t.row-d.row)*h))}),c=e.painter.gl,E=32767,m=new Int16Array([T[0].x,T[0].y,0,0,T[1].x,T[1].y,E,0,T[3].x,T[3].y,0,E,T[2].x,T[2].y,E,E]);this.tile=new Tile,this.tile.buckets={},this.tile.boundsBuffer=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.tile.boundsBuffer),c.bufferData(c.ARRAY_BUFFER,m,c.STATIC_DRAW),this.center=d},loaded:function(){return this.video&amp;&amp;this.video.readyState&gt;=2},update:function(){},render:function(e,t){if(this._loaded&amp;&amp;!(this.video.readyState&lt;2)){var i=this.center;this.tile.calculateMatrices(i.zoom,i.column,i.row,this.map.transform,t);var o=t.gl;this.tile.texture?(o.bindTexture(o.TEXTURE_2D,this.tile.texture),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.video)):(this.tile.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,this.tile.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,this.video)),t.drawLayers(e,this.tile.posMatrix,this.tile)}},featuresAt:function(e,t,i){return i(null,[])}});
},{&quot;../geo/lat_lng&quot;:16,&quot;../util/ajax&quot;:78,&quot;../util/evented&quot;:84,&quot;../util/util&quot;:90,&quot;./tile&quot;:37,&quot;./tile_coord&quot;:38,&quot;point-geometry&quot;:104}],42:[function(require,module,exports){
    &quot;use strict&quot;;function Worker(e){this.self=e,this.actor=new Actor(e,this),this.loading={},this.loaded={},this.layers=[],this.geoJSONIndexes={}}var Actor=require(&quot;../util/actor&quot;),WorkerTile=require(&quot;./worker_tile&quot;),util=require(&quot;../util/util&quot;),ajax=require(&quot;../util/ajax&quot;),vt=require(&quot;vector-tile&quot;),Protobuf=require(&quot;pbf&quot;),TileCoord=require(&quot;./tile_coord&quot;),geojsonvt=require(&quot;geojson-vt&quot;),GeoJSONWrapper=require(&quot;./geojson_wrapper&quot;);module.exports=Worker,util.extend(Worker.prototype,{&quot;set layers&quot;:function(e){this.layers=e},&quot;load tile&quot;:function(e,r){var t=e.source,i=e.uid;this.loading[t]||(this.loading[t]={}),this.loading[t][i]=ajax.getArrayBuffer(e.url,function(o,a){if(delete this.loading[t][i],o)return r(o);var s=new WorkerTile(e);s.data=new vt.VectorTile(new Protobuf(new Uint8Array(a))),s.parse(s.data,this.layers,this.actor,r),this.loaded[t]=this.loaded[t]||{},this.loaded[t][i]=s}.bind(this))},&quot;reload tile&quot;:function(e,r){var t=this.loaded[e.source],i=e.uid;if(t&amp;&amp;t[i]){var o=t[i];o.parse(o.data,this.layers,this.actor,r)}},&quot;abort tile&quot;:function(e){var r=this.loading[e.source],t=e.uid;r&amp;&amp;r[t]&amp;&amp;(r[t].abort(),delete r[t])},&quot;remove tile&quot;:function(e){var r=this.loaded[e.source],t=e.uid;r&amp;&amp;r[t]&amp;&amp;delete r[t]},&quot;parse geojson&quot;:function(e,r){var t=function(t,i){return t?r(t):(this.geoJSONIndexes[e.source]=geojsonvt(i,{baseZoom:e.maxZoom}),void r(null))}.bind(this);&quot;string&quot;==typeof e.data?ajax.getJSON(e.data,t):t(null,e.data)},&quot;load geojson tile&quot;:function(e,r){var t=e.source,i=TileCoord.fromID(e.id),o=this.geoJSONIndexes[t].getTile(i.z,i.x,i.y);if(!o)return r(null,null);var a=new WorkerTile(e);a.parse(new GeoJSONWrapper(o.features),this.layers,this.actor,r),this.loaded[t]=this.loaded[t]||{},this.loaded[t][e.uid]=a},&quot;query features&quot;:function(e,r){var t=this.loaded[e.source]&amp;&amp;this.loaded[e.source][e.uid];t?t.featureTree.query(e,r):r(null,[])}});
},{&quot;../util/actor&quot;:77,&quot;../util/ajax&quot;:78,&quot;../util/util&quot;:90,&quot;./geojson_wrapper&quot;:34,&quot;./tile_coord&quot;:38,&quot;./worker_tile&quot;:43,&quot;geojson-vt&quot;:95,&quot;pbf&quot;:102,&quot;vector-tile&quot;:107}],43:[function(require,module,exports){
    &quot;use strict&quot;;function WorkerTile(e){this.id=e.id,this.uid=e.uid,this.zoom=e.zoom,this.maxZoom=e.maxZoom,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling}var FeatureTree=require(&quot;../data/feature_tree&quot;),Collision=require(&quot;../symbol/collision&quot;),BufferSet=require(&quot;../data/buffer/buffer_set&quot;),createBucket=require(&quot;../data/create_bucket&quot;);module.exports=WorkerTile,WorkerTile.prototype.parse=function(e,t,i,r){function o(e,t){for(var i=0;i&lt;e.length;i++){var r=e.feature(i);for(var o in t){var s=t[o];s.filter(r)&amp;&amp;s.features.push(r)}}}function s(e){return function(t){e.dependenciesLoaded=!0,a(d,e,t)}}function a(e,t,i){if(!(t.getDependencies&amp;&amp;!t.dependenciesLoaded||t.collision&amp;&amp;!t.previousPlaced)){if(!i){var r=Date.now();t.features.length&amp;&amp;t.addFeatures();var o=Date.now()-r;if(t.interactive)for(var s=0;s&lt;t.features.length;s++){var u=t.features[s];e.featureTree.insert(u.bbox(),t.layers,u)}&quot;undefined&quot;!=typeof self&amp;&amp;(self.bucketStats=self.bucketStats||{_total:0},self.bucketStats._total+=o,self.bucketStats[t.id]=(self.bucketStats[t.id]||0)+o)}return S--,S?void(t.next&amp;&amp;(t.next.previousPlaced=!0,a(e,t.next))):void n()}}function n(){var e=[],t={};for(l in h)e.push(h[l].array);for(l in m)t[l]=m[l].elementGroups;r(null,{elementGroups:t,buffers:h},e)}this.featureTree=new FeatureTree(this.id);var u,l,f,c,d=this,h=new BufferSet,v=new Collision(this.zoom,4096,this.tileSize),m={},p=[],g={};for(u=0;u&lt;t.length;u++)if(f=t[u],f.source===this.source&amp;&amp;!f.ref){var b=f.minzoom;if(!(b&amp;&amp;this.zoom&lt;b&amp;&amp;b&lt;this.maxZoom)){var y=f.maxzoom;if(!(y&amp;&amp;this.zoom&gt;=y)){var k=f.layout.visibility;if(&quot;none&quot;!==k)if(c=createBucket(f,h,v,this.zoom,this.overscaling),c.layers=[f.id],m[c.id]=c,p.push(c),e.layers){var z=f[&quot;source-layer&quot;];g[z]||(g[z]={}),g[z][c.id]=c}else g[c.id]=c}}}for(u=0;u&lt;t.length;u++)f=t[u],f.source===this.source&amp;&amp;f.ref&amp;&amp;(c=m[f.ref],c&amp;&amp;c.layers.push(f.id));if(e.layers)for(l in g)f=e.layers[l],f&amp;&amp;o(f,g[l]);else o(e,g);var x,S=p.length;for(u=0;u&lt;p.length;u++)c=p[u],c.collision&amp;&amp;(x?x.next=c:c.previousPlaced=!0,x=c),c.getDependencies&amp;&amp;c.getDependencies(this,i,s(c)),c.collision||c.getDependencies||a(d,c)};
},{&quot;../data/buffer/buffer_set&quot;:2,&quot;../data/create_bucket&quot;:10,&quot;../data/feature_tree&quot;:12,&quot;../symbol/collision&quot;:57}],44:[function(require,module,exports){
    &quot;use strict&quot;;function AnimationLoop(){this.n=0,this.times=[]}module.exports=AnimationLoop,AnimationLoop.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time&gt;=(new Date).getTime()}),!this.times.length},AnimationLoop.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},AnimationLoop.prototype.cancel=function(t){this.times=this.times.filter(function(i){return i.id!==t})};
},{}],45:[function(require,module,exports){
    &quot;use strict&quot;;function ImageSprite(t){this.base=t,this.retina=browser.devicePixelRatio&gt;1,t=this.base+(this.retina?&quot;@2x&quot;:&quot;&quot;),ajax.getJSON(t+&quot;.json&quot;,function(t,i){return t?void this.fire(&quot;error&quot;,{error:t}):(this.data=i,void(this.img&amp;&amp;this.fire(&quot;load&quot;)))}.bind(this)),ajax.getImage(t+&quot;.png&quot;,function(t,i){if(t)return void this.fire(&quot;error&quot;,{error:t});for(var e=i.getData(),r=i.data=new Uint8Array(e.length),a=0;a&lt;e.length;a+=4){var o=e[a+3]/255;r[a+0]=e[a+0]*o,r[a+1]=e[a+1]*o,r[a+2]=e[a+2]*o,r[a+3]=e[a+3]}this.img=i,this.data&amp;&amp;this.fire(&quot;load&quot;)}.bind(this))}function SpritePosition(){}var Evented=require(&quot;../util/evented&quot;),ajax=require(&quot;../util/ajax&quot;),browser=require(&quot;../util/browser&quot;);module.exports=ImageSprite,ImageSprite.prototype=Object.create(Evented),ImageSprite.prototype.toJSON=function(){return this.base},ImageSprite.prototype.loaded=function(){return!(!this.data||!this.img)},ImageSprite.prototype.resize=function(){if(browser.devicePixelRatio&gt;1!==this.retina){var t=new ImageSprite(this.base);t.on(&quot;load&quot;,function(){this.img=t.img,this.data=t.data,this.retina=t.retina}.bind(this))}},SpritePosition.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},ImageSprite.prototype.getSpritePosition=function(t){if(!this.loaded())return new SpritePosition;var i=this.data&amp;&amp;this.data[t];return i&amp;&amp;this.img?i:new SpritePosition};
},{&quot;../util/ajax&quot;:78,&quot;../util/browser&quot;:79,&quot;../util/evented&quot;:84}],46:[function(require,module,exports){
    &quot;use strict&quot;;var reference=require(&quot;./reference&quot;);module.exports={},reference.layout.forEach(function(e){var r=function(e){for(var r in e)this[r]=e[r]},o=reference[e];for(var t in o)void 0!==o[t][&quot;default&quot;]&amp;&amp;(r.prototype[t]=o[t][&quot;default&quot;]);module.exports[e.replace(&quot;layout_&quot;,&quot;&quot;)]=r});
},{&quot;./reference&quot;:48}],47:[function(require,module,exports){
    &quot;use strict&quot;;var reference=require(&quot;./reference&quot;),parseCSSColor=require(&quot;csscolorparser&quot;).parseCSSColor;module.exports={},reference.paint.forEach(function(e){var r=function(){},o=reference[e];for(var p in o){var t=o[p],a=t[&quot;default&quot;];void 0!==a&amp;&amp;(&quot;color&quot;===t.type&amp;&amp;(a=parseCSSColor(a)),r.prototype[p]=a)}r.prototype.hidden=!1,module.exports[e.replace(&quot;paint_&quot;,&quot;&quot;)]=r});
},{&quot;./reference&quot;:48,&quot;csscolorparser&quot;:91}],48:[function(require,module,exports){
    module.exports=require(&quot;mapbox-gl-style-spec/reference/v7&quot;);
},{&quot;mapbox-gl-style-spec/reference/v7&quot;:100}],49:[function(require,module,exports){
    &quot;use strict&quot;;function Style(e,r){this.animationLoop=r||new AnimationLoop,this.dispatcher=new Dispatcher(Math.max(browser.hardwareConcurrency-1,1),this),this.glyphAtlas=new GlyphAtlas(1024,1024),this.spriteAtlas=new SpriteAtlas(512,512),this.spriteAtlas.resize(browser.devicePixelRatio),this.lineAtlas=new LineAtlas(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},util.bindAll([&quot;_forwardSourceEvent&quot;,&quot;_forwardTileEvent&quot;],this);var t=function(e,r){if(e)return void this.fire(&quot;error&quot;,{error:e});this._loaded=!0,this.stylesheet=r,7!==r.version&amp;&amp;console.warn(&quot;Stylesheet version must be 7&quot;),Array.isArray(r.layers)||console.warn(&quot;Stylesheet must have layers&quot;);var t=r.sources;for(var s in t)this.addSource(s,t[s]);r.sprite&amp;&amp;(this.sprite=new ImageSprite(r.sprite),this.sprite.on(&quot;load&quot;,this.fire.bind(this,&quot;change&quot;))),this.glyphSource=new GlyphSource(r.glyphs,this.glyphAtlas),this._resolve(),this.fire(&quot;load&quot;)}.bind(this);&quot;string&quot;==typeof e?ajax.getJSON(normalizeURL(e),t):browser.frame(t.bind(this,null,e))}var Evented=require(&quot;../util/evented&quot;),Source=require(&quot;../source/source&quot;),StyleLayer=require(&quot;./style_layer&quot;),ImageSprite=require(&quot;./image_sprite&quot;),GlyphSource=require(&quot;../symbol/glyph_source&quot;),GlyphAtlas=require(&quot;../symbol/glyph_atlas&quot;),SpriteAtlas=require(&quot;../symbol/sprite_atlas&quot;),LineAtlas=require(&quot;../render/line_atlas&quot;),util=require(&quot;../util/util&quot;),ajax=require(&quot;../util/ajax&quot;),normalizeURL=require(&quot;../util/mapbox&quot;).normalizeStyleURL,browser=require(&quot;../util/browser&quot;),Dispatcher=require(&quot;../util/dispatcher&quot;),Point=require(&quot;point-geometry&quot;),AnimationLoop=require(&quot;./animation_loop&quot;);module.exports=Style,Style.prototype=util.inherit(Evented,{_loaded:!1,loaded:function(){if(!this._loaded)return!1;for(var e in this.sources)if(!this.sources[e].loaded())return!1;return this.sprite&amp;&amp;!this.sprite.loaded()?!1:!0},_resolve:function(){var e,r;this._layers={},this._order=[];for(var t=0;t&lt;this.stylesheet.layers.length;t++)r=new StyleLayer(this.stylesheet.layers[t],this.stylesheet.constants||{}),this._layers[r.id]=r,this._order.push(r.id);for(e in this._layers)this._layers[e].resolveLayout();for(e in this._layers)this._layers[e].resolveReference(this._layers),this._layers[e].resolvePaint();this._groupLayers(),this._broadcastLayers()},_groupLayers:function(){var e;this._groups=[];for(var r=0;r&lt;this._order.length;++r){var t=this._layers[this._order[r]];e&amp;&amp;t.source===e.source||(e=[],e.source=t.source,this._groups.push(e)),e.push(t)}},_broadcastLayers:function(){var e=[];for(var r in this._layers)e.push(this._layers[r].json());this.dispatcher.broadcast(&quot;set layers&quot;,e)},_cascade:function(e,r){if(this._loaded){r=r||{transition:!0};for(var t in this._layers)this._layers[t].cascade(e,r,this.stylesheet.transition||{},this.animationLoop);this.fire(&quot;change&quot;)}},_recalculate:function(e){for(var r in this.sources)this.sources[r].used=!1;this._updateZoomHistory(e),this.rasterFadeDuration=300;for(r in this._layers){var t=this._layers[r];t.recalculate(e,this.zoomHistory)&amp;&amp;t.source&amp;&amp;(this.sources[t.source].used=!0)}var s=300;Math.floor(this.z)!==Math.floor(e)&amp;&amp;this.animationLoop.set(s),this.z=e,this.fire(&quot;zoom&quot;)},_updateZoomHistory:function(e){var r=this.zoomHistory;void 0===r.lastIntegerZoom&amp;&amp;(r.lastIntegerZoom=Math.floor(e),r.lastIntegerZoomTime=0,r.lastZoom=e),Math.floor(r.lastZoom)&lt;Math.floor(e)?(r.lastIntegerZoom=Math.floor(e),r.lastIntegerZoomTime=Date.now()):Math.floor(r.lastZoom)&gt;Math.floor(e)&amp;&amp;(r.lastIntegerZoom=Math.floor(e+1),r.lastIntegerZoomTime=Date.now()),r.lastZoom=e},addSource:function(e,r){if(void 0!==this.sources[e])throw new Error(&quot;There is already a source with this ID&quot;);return r=Source.create(r),this.sources[e]=r,r.id=e,r.style=this,r.dispatcher=this.dispatcher,r.glyphAtlas=this.glyphAtlas,r.on(&quot;load&quot;,this._forwardSourceEvent).on(&quot;error&quot;,this._forwardSourceEvent).on(&quot;change&quot;,this._forwardSourceEvent).on(&quot;tile.add&quot;,this._forwardTileEvent).on(&quot;tile.load&quot;,this._forwardTileEvent).on(&quot;tile.error&quot;,this._forwardTileEvent).on(&quot;tile.remove&quot;,this._forwardTileEvent),this.fire(&quot;source.add&quot;,{source:r}),this},removeSource:function(e){if(void 0===this.sources[e])throw new Error(&quot;There is no source with this ID&quot;);var r=this.sources[e];return delete this.sources[e],r.off(&quot;load&quot;,this._forwardSourceEvent).off(&quot;error&quot;,this._forwardSourceEvent).off(&quot;change&quot;,this._forwardSourceEvent).off(&quot;tile.add&quot;,this._forwardTileEvent).off(&quot;tile.load&quot;,this._forwardTileEvent).off(&quot;tile.error&quot;,this._forwardTileEvent).off(&quot;tile.remove&quot;,this._forwardTileEvent),this.fire(&quot;source.remove&quot;,{source:r}),this},getSource:function(e){return this.sources[e]},addLayer:function(e,r){if(void 0!==this._layers[e.id])throw new Error(&quot;There is already a layer with this ID&quot;);return e=new StyleLayer(e,this.stylesheet.constants||{}),this._layers[e.id]=e,this._order.splice(r?this._order.indexOf(r):1/0,0,e.id),e.resolveLayout(),e.resolveReference(this._layers),e.resolvePaint(),this._groupLayers(),this._broadcastLayers(),this.fire(&quot;layer.add&quot;,{layer:e}),this},removeLayer:function(e){var r=this._layers[e];if(void 0===r)throw new Error(&quot;There is no layer with this ID&quot;);for(var t in this._layers)this._layers[t].ref===e&amp;&amp;this.removeLayer(t);return delete this._layers[e],this._order.splice(this._order.indexOf(e),1),this._groupLayers(),this._broadcastLayers(),this.fire(&quot;layer.remove&quot;,{layer:r}),this},getLayer:function(e){return this._layers[e]},getReferentLayer:function(e){var r=this.getLayer(e);return r.ref&amp;&amp;(r=this.getLayer(r.ref)),r},setFilter:function(e,r){e=this.getReferentLayer(e),e.filter=r,this._broadcastLayers(),this.sources[e.source].reload()},getFilter:function(e){return this.getReferentLayer(e).filter},setLayoutProperty:function(e,r,t){e=this.getReferentLayer(e),e.setLayoutProperty(r,t),this._broadcastLayers(),this.sources[e.source].reload()},getLayoutProperty:function(e,r){return this.getReferentLayer(e).getLayoutProperty(r)},setPaintProperty:function(e,r,t,s){this.getLayer(e).setPaintProperty(r,t,s)},getPaintProperty:function(e,r,t){return this.getLayer(e).getPaintProperty(r,t)},featuresAt:function(e,r,t){var s=[],i=null;e=Point.convert(e),r.layer&amp;&amp;(r.layer={id:r.layer.id}),util.asyncEach(Object.keys(this.sources),function(t,o){var a=this.sources[t];a.featuresAt(e,r,function(e,r){r&amp;&amp;(s=s.concat(r)),e&amp;&amp;(i=e),o()})}.bind(this),function(){return i?t(i):(s.forEach(function(e){e.layer=this._layers[e.layer].json()}.bind(this)),void t(null,s))}.bind(this))},_remove:function(){this.dispatcher.remove()},_updateSources:function(e){for(var r in this.sources)this.sources[r].update(e)},_forwardSourceEvent:function(e){this.fire(&quot;source.&quot;+e.type,util.extend({source:e.target},e))},_forwardTileEvent:function(e){this.fire(e.type,util.extend({source:e.target},e))},&quot;get sprite json&quot;:function(e,r){var t=this.sprite;t.loaded()?r(null,{sprite:t.data,retina:t.retina}):t.on(&quot;load&quot;,function(){r(null,{sprite:t.data,retina:t.retina})})},&quot;get icons&quot;:function(e,r){var t=this.sprite,s=this.spriteAtlas;t.loaded()?(s.setSprite(t),s.addIcons(e.icons,r)):t.on(&quot;load&quot;,function(){s.setSprite(t),s.addIcons(e.icons,r)})},&quot;get glyphs&quot;:function(e,r){this.glyphSource.getRects(e.fontstack,e.codepoints,e.uid,r)}});
},{&quot;../render/line_atlas&quot;:30,&quot;../source/source&quot;:36,&quot;../symbol/glyph_atlas&quot;:58,&quot;../symbol/glyph_source&quot;:59,&quot;../symbol/sprite_atlas&quot;:67,&quot;../util/ajax&quot;:78,&quot;../util/browser&quot;:79,&quot;../util/dispatcher&quot;:81,&quot;../util/evented&quot;:84,&quot;../util/mapbox&quot;:87,&quot;../util/util&quot;:90,&quot;./animation_loop&quot;:44,&quot;./image_sprite&quot;:45,&quot;./style_layer&quot;:53,&quot;point-geometry&quot;:104}],50:[function(require,module,exports){
    &quot;use strict&quot;;var util=require(&quot;../util/util&quot;);exports.resolve=function(r,t){function s(r){return&quot;string&quot;==typeof r&amp;&amp;&quot;@&quot;===r[0]?t[r]:r}var e;if(r=s(r),Array.isArray(r))for(r=r.slice(),e=0;e&lt;r.length;e++)r[e]in t&amp;&amp;(r[e]=s(r[e]));if(r.stops)for(r=util.extend({},r),r.stops=r.stops.slice(),e=0;e&lt;r.stops.length;e++)r.stops[e][1]in t&amp;&amp;(r.stops[e]=[r.stops[e][0],s(r.stops[e][1])]);return r},exports.resolveAll=function(r,t){if(!t)return r;var s={};for(var e in r)s[e]=exports.resolve(r[e],t);return s};
},{&quot;../util/util&quot;:90}],51:[function(require,module,exports){
    &quot;use strict&quot;;function StyleDeclaration(t,o){this.type=t.type,this.transitionable=t.transition,this.json=JSON.stringify(o),this.value=&quot;color&quot;!==this.type?o:o.stops?prepareColorFunction(o):parseColor(o),&quot;interpolated&quot;===t[&quot;function&quot;]?this.calculate=mapboxGLFunction.interpolated(this.value):(this.calculate=mapboxGLFunction[&quot;piecewise-constant&quot;](this.value),t.transition&amp;&amp;(this.calculate=transitioned(this.calculate)))}function transitioned(t){return function(o,r,e){var n,a,i,l=o%1,c=Math.min((Date.now()-r.lastIntegerZoomTime)/e,1),s=1,u=1;return o&gt;r.lastIntegerZoom?(n=l+(1-l)*c,s*=2,a=t(o-1),i=t(o)):(n=1-(1-c)*l,i=t(o),a=t(o+1),s/=2),{from:a,fromScale:s,to:i,toScale:u,t:n}}}function parseColor(t){if(colorCache[t])return colorCache[t];var o=prepareColor(parseCSSColor(t));return colorCache[t]=o,o}function prepareColor(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]/1]}function prepareColorFunction(t){return util.extend({},t,{stops:t.stops.map(function(t){return[t[0],parseColor(t[1])]})})}var parseCSSColor=require(&quot;csscolorparser&quot;).parseCSSColor,mapboxGLFunction=require(&quot;mapbox-gl-function&quot;),util=require(&quot;../util/util&quot;);module.exports=StyleDeclaration;var colorCache={};
},{&quot;../util/util&quot;:90,&quot;csscolorparser&quot;:91,&quot;mapbox-gl-function&quot;:99}],52:[function(require,module,exports){
    &quot;use strict&quot;;function makeConstructor(t){function e(t,e){this._values={},this._transitions={},this._constants=e;for(var n in t)this[n]=StyleConstant.resolve(t[n],this._constants)}return Object.keys(t).forEach(function(n){var r=t[n];Object.defineProperty(e.prototype,n,{set:function(t){this._values[n]=new StyleDeclaration(r,StyleConstant.resolve(t,this._constants))},get:function(){return this._values[n].value}}),r.transition&amp;&amp;Object.defineProperty(e.prototype,n+&quot;-transition&quot;,{set:function(t){this._transitions[n]=t},get:function(){return this._transitions[n]}})}),e.prototype.values=function(){return this._values},e.prototype.transition=function(t,e){var n=this._transitions[t]||{};return{duration:util.coalesce(n.duration,e.duration,300),delay:util.coalesce(n.delay,e.delay,0)}},e.prototype.json=function(){var t={};for(var e in this._values)t[e]=this._values[e].value;for(var n in this._transitions)t[n+&quot;-transition&quot;]=this._transitions[e];return t},e}var util=require(&quot;../util/util&quot;),reference=require(&quot;./reference&quot;),StyleConstant=require(&quot;./style_constant&quot;),StyleDeclaration=require(&quot;./style_declaration&quot;),lookup={paint:{},layout:{}};reference.layer.type.values.forEach(function(t){lookup.paint[t]=makeConstructor(reference[&quot;paint_&quot;+t]),lookup.layout[t]=makeConstructor(reference[&quot;layout_&quot;+t])}),module.exports=function(t,e,n,r){return new lookup[t][e](n,r)};
},{&quot;../util/util&quot;:90,&quot;./reference&quot;:48,&quot;./style_constant&quot;:50,&quot;./style_declaration&quot;:51}],53:[function(require,module,exports){
    &quot;use strict&quot;;function StyleLayer(t,i){this._layer=t,this._constants=i,this.id=t.id,this.ref=t.ref,this._resolved={},this._cascaded={},this.assign(t)}function premultiplyLayer(t,i){var e=i+&quot;-color&quot;,o=i+&quot;-halo-color&quot;,a=i+&quot;-outline-color&quot;,s=t[e],n=t[o],r=t[a],l=t[i+&quot;-opacity&quot;],y=s&amp;&amp;l*s[3],h=n&amp;&amp;l*n[3],u=r&amp;&amp;l*r[3];void 0!==y&amp;&amp;1&gt;y&amp;&amp;(t[e]=util.premultiply([s[0],s[1],s[2],y])),void 0!==h&amp;&amp;1&gt;h&amp;&amp;(t[o]=util.premultiply([n[0],n[1],n[2],h])),void 0!==u&amp;&amp;1&gt;u&amp;&amp;(t[a]=util.premultiply([r[0],r[1],r[2],u]))}var util=require(&quot;../util/util&quot;),StyleConstant=require(&quot;./style_constant&quot;),StyleTransition=require(&quot;./style_transition&quot;),StyleDeclarationSet=require(&quot;./style_declaration_set&quot;),LayoutProperties=require(&quot;./layout_properties&quot;),PaintProperties=require(&quot;./paint_properties&quot;);module.exports=StyleLayer,StyleLayer.prototype={resolveLayout:function(){this.ref||(this.layout=new LayoutProperties[this.type](StyleConstant.resolveAll(this._layer.layout,this._constants)),&quot;line&quot;===this.layout[&quot;symbol-placement&quot;]&amp;&amp;(this.layout.hasOwnProperty(&quot;text-rotation-alignment&quot;)||(this.layout[&quot;text-rotation-alignment&quot;]=&quot;map&quot;),this.layout.hasOwnProperty(&quot;icon-rotation-alignment&quot;)||(this.layout[&quot;icon-rotation-alignment&quot;]=&quot;map&quot;),this.layout[&quot;symbol-avoid-edges&quot;]=!0))},setLayoutProperty:function(t,i){this.layout[t]=StyleConstant.resolve(i,this._constants)},getLayoutProperty:function(t){return this.layout[t]},resolveReference:function(t){this.ref&amp;&amp;this.assign(t[this.ref])},resolvePaint:function(){for(var t in this._layer){var i=t.match(/^paint(?:\.(.*))?$/);i&amp;&amp;(this._resolved[i[1]||&quot;&quot;]=new StyleDeclarationSet(&quot;paint&quot;,this.type,this._layer[t],this._constants))}},setPaintProperty:function(t,i,e){var o=this._resolved[e||&quot;&quot;];o||(o=this._resolved[e||&quot;&quot;]=new StyleDeclarationSet(&quot;paint&quot;,this.type,{},this._constants)),o[t]=i},getPaintProperty:function(t,i){var e=this._resolved[i||&quot;&quot;];return e?e[t]:void 0},cascade:function(t,i,e,o){for(var a in this._resolved)if(&quot;&quot;===a||t[a]){var s=this._resolved[a],n=s.values();for(var r in n){var l=n[r],y=this._cascaded[r];if(!y||y.declaration.json!==l.json){var h=i.transition?s.transition(r,e):{duration:0,delay:0},u=this._cascaded[r]=new StyleTransition(l,y,h);u.instant()||(u.loopID=o.set(u.endTime-(new Date).getTime())),y&amp;&amp;o.cancel(y.loopID)}}}},recalculate:function(t,i){var e=this.type,o=this.paint=new PaintProperties[e];for(var a in this._cascaded)o[a]=this._cascaded[a].at(t,i);if(this.hidden=this.minzoom&amp;&amp;t&lt;this.minzoom||this.maxzoom&amp;&amp;t&gt;=this.maxzoom||&quot;none&quot;===this.layout.visibility,&quot;symbol&quot;===e?0!==o[&quot;text-opacity&quot;]&amp;&amp;this.layout[&quot;text-field&quot;]||0!==o[&quot;icon-opacity&quot;]&amp;&amp;this.layout[&quot;icon-image&quot;]?(premultiplyLayer(o,&quot;text&quot;),premultiplyLayer(o,&quot;icon&quot;)):this.hidden=!0:0===o[e+&quot;-opacity&quot;]?this.hidden=!0:premultiplyLayer(o,e),this._cascaded[&quot;line-dasharray&quot;]){var s=o[&quot;line-dasharray&quot;],n=this._cascaded[&quot;line-width&quot;]?this._cascaded[&quot;line-width&quot;].at(Math.floor(t),1/0):o[&quot;line-width&quot;];s.fromScale*=n,s.toScale*=n}return!this.hidden},assign:function(t){util.extend(this,util.pick(t,&quot;type&quot;,&quot;source&quot;,&quot;source-layer&quot;,&quot;minzoom&quot;,&quot;maxzoom&quot;,&quot;filter&quot;,&quot;layout&quot;))},json:function(){return util.extend({},this._layer,util.pick(this,&quot;type&quot;,&quot;source&quot;,&quot;source-layer&quot;,&quot;minzoom&quot;,&quot;maxzoom&quot;,&quot;filter&quot;,&quot;layout&quot;,&quot;paint&quot;))}};
},{&quot;../util/util&quot;:90,&quot;./layout_properties&quot;:46,&quot;./paint_properties&quot;:47,&quot;./style_constant&quot;:50,&quot;./style_declaration_set&quot;:52,&quot;./style_transition&quot;:54}],54:[function(require,module,exports){
    &quot;use strict&quot;;function StyleTransition(t,i,e){this.declaration=t,this.startTime=this.endTime=(new Date).getTime();var n=t.type;this.interp=&quot;string&quot;!==n&amp;&amp;&quot;array&quot;!==n||!t.transitionable?interpolate[n]:interpZoomTransitioned,this.oldTransition=i,this.duration=e.duration||0,this.delay=e.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=util.easeCubicInOut),i&amp;&amp;i.endTime&lt;=this.startTime&amp;&amp;delete i.oldTransition}function interpZoomTransitioned(t,i,e){return{from:t.to,fromScale:t.toScale,to:i.to,toScale:i.toScale,t:e}}var util=require(&quot;../util/util&quot;),interpolate=require(&quot;../util/interpolate&quot;);module.exports=StyleTransition,StyleTransition.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&amp;&amp;0===this.delay},StyleTransition.prototype.at=function(t,i,e){var n=this.declaration.calculate(t,i,this.duration);if(this.instant())return n;if(e=e||Date.now(),e&lt;this.endTime){var a=this.oldTransition.at(t,i,this.startTime),r=this.ease((e-this.startTime-this.delay)/this.duration);n=this.interp(a,n,r)}return n};
},{&quot;../util/interpolate&quot;:86,&quot;../util/util&quot;:90}],55:[function(require,module,exports){
    &quot;use strict&quot;;function Anchor(t,e,o,n,i){this.x=t,this.y=e,this.angle=o,this.scale=n,void 0!==i&amp;&amp;(this.segment=i)}var Point=require(&quot;point-geometry&quot;);module.exports=Anchor,Anchor.prototype=Object.create(Point.prototype),Anchor.prototype.clone=function(){return new Anchor(this.x,this.y,this.angle,this.scale,this.segment)};
},{&quot;point-geometry&quot;:104}],56:[function(require,module,exports){
    &quot;use strict&quot;;function BinPack(e,h){this.width=e,this.height=h,this.free=[{x:0,y:0,w:e,h:h}]}module.exports=BinPack,BinPack.prototype.release=function(e){for(var h=0;h&lt;this.free.length;h++){var i=this.free[h];if(i.y===e.y&amp;&amp;i.h===e.h&amp;&amp;i.x+i.w===e.x)i.w+=e.w;else if(i.x===e.x&amp;&amp;i.w===e.w&amp;&amp;i.y+i.h===e.y)i.h+=e.h;else if(e.y===i.y&amp;&amp;e.h===i.h&amp;&amp;e.x+e.w===i.x)i.x=e.x,i.w+=e.w;else{if(e.x!==i.x||e.w!==i.w||e.y+e.h!==i.y)continue;i.y=e.y,i.h+=e.h}return this.free.splice(h,1),void this.release(i)}this.free.push(e)},BinPack.prototype.allocate=function(e,h){for(var i={x:1/0,y:1/0,w:1/0,h:1/0},t=-1,s=0;s&lt;this.free.length;s++){var r=this.free[s];e&lt;=r.w&amp;&amp;h&lt;=r.h&amp;&amp;r.y&lt;=i.y&amp;&amp;r.x&lt;=i.x&amp;&amp;(i=r,t=s)}return 0&gt;t?{x:-1,y:-1}:(this.free.splice(t,1),i.w&lt;i.h?(i.w&gt;e&amp;&amp;this.free.push({x:i.x+e,y:i.y,w:i.w-e,h:h}),i.h&gt;h&amp;&amp;this.free.push({x:i.x,y:i.y+h,w:i.w,h:i.h-h})):(i.w&gt;e&amp;&amp;this.free.push({x:i.x+e,y:i.y,w:i.w-e,h:i.h}),i.h&gt;h&amp;&amp;this.free.push({x:i.x,y:i.y+h,w:e,h:i.h-h})),{x:i.x,y:i.y,w:e,h:h})};
},{}],57:[function(require,module,exports){
    &quot;use strict&quot;;function Collision(a,e,t){this.hTree=rbush(),this.cTree=rbush(),this.tilePixelRatio=e/t,this.zoom=a,this.maxPlacementScale=2;var n=4096,o=n*this.tilePixelRatio*2,i=[2*Math.PI,0];this.left={anchor:new Point(0,0),box:{x1:-o,y1:-o,x2:0,y2:o},placementRange:i,placementScale:.5,maxScale:1/0,padding:0},this.top={anchor:new Point(0,0),box:{x1:-o,y1:-o,x2:o,y2:0},placementRange:i,placementScale:.5,maxScale:1/0,padding:0},this.bottom={anchor:new Point(n,n),box:{x1:-o,y1:0,x2:o,y2:o},placementRange:i,placementScale:.5,maxScale:1/0,padding:0},this.right={anchor:new Point(n,n),box:{x1:0,y1:-o,x2:o,y2:o},placementRange:i,placementScale:.5,maxScale:1/0,padding:0}}var rbush=require(&quot;rbush&quot;),rotationRange=require(&quot;./rotation_range&quot;),Point=require(&quot;point-geometry&quot;);module.exports=Collision,Collision.prototype.getPlacementScale=function(a,e,t){for(var n=this.left,o=this.right,i=this.top,h=this.bottom,r=0;r&lt;a.length;r++){var x=a[r],l=x.box,c=x.hBox||l,s=x.anchor,m=x.padding,p=Math.max(e,x.minScale),y=x.maxScale||1/0;if(!(p&gt;=y)){var g=this.getBox(s,c,p,y),u=this.hTree.search(g).concat(this.cTree.search(g));if(t&amp;&amp;(g[0]&lt;0&amp;&amp;u.push(n),g[1]&lt;0&amp;&amp;u.push(i),g[2]&gt;=4096&amp;&amp;u.push(o),g[3]&gt;=4096&amp;&amp;u.push(h)),u.length)for(var S=s,d=l,b=0;b&lt;u.length;b++){var f=u[b].anchor,v=u[b].box;if(S.equals(f))return null;var M=8*Math.max(m,u[b].padding),P=(v.x1-d.x2-M)/(S.x-f.x),R=(v.x2-d.x1+M)/(S.x-f.x),B=(v.y1-d.y2-M)/(S.y-f.y),N=(v.y2-d.y1+M)/(S.y-f.y);(isNaN(P)||isNaN(R))&amp;&amp;(P=R=1),(isNaN(B)||isNaN(N))&amp;&amp;(B=N=1);var T=Math.min(Math.max(P,R),Math.max(B,N));if(T&gt;e&amp;&amp;T&gt;p&amp;&amp;y&gt;T&amp;&amp;T&lt;u[b].maxScale&amp;&amp;(e=T),e&gt;this.maxPlacementScale)return null}}}return e},Collision.prototype.getPlacementRange=function(a,e,t){for(var n=[2*Math.PI,0],o=0;o&lt;a.length;o++){var i=a[o],h=i.hBox||i.box,r=i.anchor,x=r.x+h.x1/e,l=r.y+h.y1/e,c=r.x+h.x2/e,s=r.y+h.y2/e,m=[x,l,c,s],p=this.hTree.search(m);t&amp;&amp;(p=p.concat(this.cTree.search(m)));for(var y=0;y&lt;p.length;y++){var g,u,S,d,b,f,v=p[y],M=v.hBox||v.box;if(e&gt;v.placementScale?(g=v.anchor.x+M.x1/e,S=v.anchor.y+M.y1/e,u=v.anchor.x+M.x2/e,d=v.anchor.y+M.y2/e,b=c&gt;g&amp;&amp;u&gt;x,f=s&gt;S&amp;&amp;d&gt;l):(g=r.x+h.x1/v.placementScale,S=r.y+h.y1/v.placementScale,u=r.x+h.x2/v.placementScale,d=r.y+h.y2/v.placementScale,b=g&lt;v[2]&amp;&amp;u&gt;v[0],f=S&lt;v[3]&amp;&amp;d&gt;v[1]),b&amp;&amp;f){var P=Math.max(e,v.placementScale),R=rotationRange.rotationRange(i,v,P);n[0]=Math.min(n[0],R[0]),n[1]=Math.max(n[1],R[1])}}}return n},Collision.prototype.insert=function(a,e,t,n,o){for(var i=[],h=0;h&lt;a.length;h++){var r=a[h],x=r.hBox||r.box,l=Math.max(t,r.minScale),c=r.maxScale||1/0,s=this.getBox(e,x,l,c);s.anchor=e,s.box=r.box,r.hBox&amp;&amp;(s.hBox=x),s.placementRange=n,s.placementScale=l,s.maxScale=c,s.padding=r.padding,i.push(s)}(o?this.hTree:this.cTree).load(i)},Collision.prototype.getBox=function(a,e,t,n){return[a.x+Math.min(e.x1/t,e.x1/n),a.y+Math.min(e.y1/t,e.y1/n),a.x+Math.max(e.x2/t,e.x2/n),a.y+Math.max(e.y2/t,e.y2/n)]};
},{&quot;./rotation_range&quot;:65,&quot;point-geometry&quot;:104,&quot;rbush&quot;:105}],58:[function(require,module,exports){
    &quot;use strict&quot;;function GlyphAtlas(t,i){this.width=t,this.height=i,this.bin=new BinPack(t,i),this.index={},this.ids={},this.data=new Uint8Array(t*i)}var BinPack=require(&quot;./bin_pack&quot;);module.exports=GlyphAtlas,GlyphAtlas.prototype={get debug(){return&quot;canvas&quot;in this},set debug(t){t&amp;&amp;!this.canvas?(this.canvas=document.createElement(&quot;canvas&quot;),this.canvas.width=this.width,this.canvas.height=this.height,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext(&quot;2d&quot;)):!t&amp;&amp;this.canvas&amp;&amp;(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},GlyphAtlas.prototype.getGlyphs=function(){var t,i,e,s={};for(var h in this.ids)t=h.split(&quot;#&quot;),i=t[0],e=t[1],s[i]||(s[i]=[]),s[i].push(e);return s},GlyphAtlas.prototype.getRects=function(){var t,i,e,s={};for(var h in this.ids)t=h.split(&quot;#&quot;),i=t[0],e=t[1],s[i]||(s[i]={}),s[i][e]=this.index[h];return s},GlyphAtlas.prototype.removeGlyphs=function(t){for(var i in this.ids){var e=this.ids[i],s=e.indexOf(t);if(s&gt;=0&amp;&amp;e.splice(s,1),this.ids[i]=e,!e.length){for(var h=this.index[i],a=this.data,r=0;r&lt;h.h;r++)for(var n=this.width*(h.y+r)+h.x,d=0;d&lt;h.w;d++)a[n+d]=0;this.dirty=!0,this.bin.release(h),delete this.index[i],delete this.ids[i]}}this.updateTexture(this.gl)},GlyphAtlas.prototype.addGlyph=function(t,i,e,s){if(!e)return null;var h=i+&quot;#&quot;+e.id;if(this.index[h])return this.ids[h].indexOf(t)&lt;0&amp;&amp;this.ids[h].push(t),this.index[h];if(!e.bitmap)return null;var a=e.width+2*s,r=e.height+2*s,n=a,d=r;n+=4-n%4,d+=4-d%4;var l=this.bin.allocate(n,d);if(l.x&lt;0)return console.warn(&quot;glyph bitmap overflow&quot;),{glyph:e,rect:null};l.l=e.left,l.t=e.top,this.index[h]=l,this.ids[h]=[t];for(var o=this.data,c=e.bitmap,p=0;r&gt;p;p++)for(var u=this.width*(l.y+p)+l.x,x=a*p,E=0;a&gt;E;E++)o[u+E]=c[x+E];return this.dirty=!0,l},GlyphAtlas.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},GlyphAtlas.prototype.updateTexture=function(t){if(this.bind(t),this.dirty){if(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.ctx){for(var i=this.ctx.getImageData(0,0,this.width,this.height),e=0,s=0;e&lt;this.data.length;e++,s+=4)i.data[s]=this.data[e],i.data[s+1]=this.data[e],i.data[s+2]=this.data[e],i.data[s+3]=255;this.ctx.putImageData(i,0,0),this.ctx.strokeStyle=&quot;red&quot;;for(var h=0;h&lt;this.bin.free.length;h++){var a=this.bin.free[h];this.ctx.strokeRect(a.x,a.y,a.w,a.h)}}this.dirty=!1}};
},{&quot;./bin_pack&quot;:56}],59:[function(require,module,exports){
    &quot;use strict&quot;;function GlyphSource(t,e){this.url=t&amp;&amp;normalizeURL(t),this.glyphAtlas=e,this.stacks={},this.loading={}}function simpleGlyph(t){return{advance:t.advance,left:t.left,top:t.top}}function glyphUrl(t,e,r,l){return l=l||&quot;abc&quot;,r.replace(&quot;{s}&quot;,l[t.length%l.length]).replace(&quot;{fontstack}&quot;,t).replace(&quot;{range}&quot;,e)}var normalizeURL=require(&quot;../util/mapbox&quot;).normalizeGlyphsURL,getArrayBuffer=require(&quot;../util/ajax&quot;).getArrayBuffer,Glyphs=require(&quot;../util/glyphs&quot;),Protobuf=require(&quot;pbf&quot;);module.exports=GlyphSource,GlyphSource.prototype.getRects=function(t,e,r,l){void 0===this.stacks[t]&amp;&amp;(this.stacks[t]={});for(var i,s={},a={},o={rects:s,glyphs:a},h=this.stacks[t],n=this.glyphAtlas,p={},u=0,f=0;f&lt;e.length;f++){var c=e[f];if(i=Math.floor(c/256),h[i]){var y=h[i].glyphs[c],g=3;s[c]=n.addGlyph(r,t,y,g),y&amp;&amp;(a[c]=simpleGlyph(y))}else void 0===p[i]&amp;&amp;(p[i]=[],u++),p[i].push(c)}u||l(void 0,o);var d=function(e,i,h){if(!e)for(var f=this.stacks[t][i]=h.stacks[t],c=0;c&lt;p[i].length;c++){var y=p[i][c],g=f.glyphs[y],d=3;s[y]=n.addGlyph(r,t,g,d),g&amp;&amp;(a[y]=simpleGlyph(g))}u--,u||l(void 0,o)}.bind(this);for(var v in p)this.loadRange(t,v,d)},GlyphSource.prototype.loadRange=function(t,e,r){if(256*e&gt;=65280)return r(&quot;gyphs &gt; 65280 not supported&quot;);void 0===this.loading[t]&amp;&amp;(this.loading[t]={});var l=this.loading[t];if(l[e])l[e].push(r);else{l[e]=[r];var i=256*e+&quot;-&quot;+(256*e+255),s=glyphUrl(t,i,this.url);getArrayBuffer(s,function(t,r){for(var i=!t&amp;&amp;new Glyphs(new Protobuf(new Uint8Array(r))),s=0;s&lt;l[e].length;s++)l[e][s](t,e,i);delete l[e]})}};
},{&quot;../util/ajax&quot;:78,&quot;../util/glyphs&quot;:85,&quot;../util/mapbox&quot;:87,&quot;pbf&quot;:102}],60:[function(require,module,exports){
    &quot;use strict&quot;;function interpolate(r,e,n,a,i,t){void 0===n&amp;&amp;(n=0),a=Math.round(Math.max(Math.min(8,a/2),1)),e*=i/a,t*=i;for(var l=minScaleArrays[a],o=l.length,c=0,m=t?t-e:0,h=0,u=[],p=0;p&lt;r.length-1;p++){for(var s=r[p],S=r[p+1],v=s.dist(S),y=S.angleTo(s);c+v&gt;m+e;){m+=e;var d=(m-c)/v,x=interp(s.x,S.x,d),A=interp(s.y,S.y,d),f=l[h%o];x&gt;=0&amp;&amp;4096&gt;x&amp;&amp;A&gt;=0&amp;&amp;4096&gt;A&amp;&amp;u.push(new Anchor(x,A,y,f,p)),h++}c+=v}return u}var interp=require(&quot;../util/interpolate&quot;),Anchor=require(&quot;../symbol/anchor&quot;);module.exports=interpolate;var minScale=.5,minScaleArrays={1:[minScale],2:[minScale,2],4:[minScale,4,2,4],8:[minScale,8,4,8,2,8,4,8]};
},{&quot;../symbol/anchor&quot;:55,&quot;../util/interpolate&quot;:86}],61:[function(require,module,exports){
    &quot;use strict&quot;;module.exports=function(e,t,n){function r(r){c.push(e[r]),f.push(n[r]),v.push(t[r]),h++}function u(e,t,n){var r=l[e];return delete l[e],l[t]=r,f[r][0].pop(),f[r][0]=f[r][0].concat(n[0]),r}function i(e,t,n){var r=a[t];return delete a[t],a[e]=r,f[r][0].shift(),f[r][0]=n[0].concat(f[r][0]),r}function o(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+&quot;:&quot;+r.x+&quot;:&quot;+r.y}var s,a={},l={},c=[],f=[],v=[],h=0;for(s=0;s&lt;e.length;s++){var p=n[s],d=t[s];if(d){var g=o(d,p),x=o(d,p,!0);if(g in l&amp;&amp;x in a&amp;&amp;l[g]!==a[x]){var m=i(g,x,p),y=u(g,x,f[m]);delete a[g],delete l[x],l[o(d,f[y],!0)]=y,f[m]=null}else g in l?u(g,x,p):x in a?i(g,x,p):(r(s),a[g]=h-1,l[x]=h-1)}else r(s)}return{features:c,textFeatures:v,geometries:f}};
},{}],62:[function(require,module,exports){
    &quot;use strict&quot;;function getIcon(a,t,e,n,i){var x=i[&quot;icon-offset&quot;][0],l=i[&quot;icon-offset&quot;][1],h=x-t.originalWidth/2,o=h+t.w,r=l-t.originalHeight/2,m=r+t.h,c=new Point(h,r),y=new Point(o,r),s=new Point(o,m),g=new Point(h,m),M=i[&quot;icon-rotate&quot;]*Math.PI/180;if(void 0!==a.segment&amp;&amp;&quot;viewport&quot;!==i[&quot;icon-rotation-alignment&quot;]){var f=n[a.segment];M+=-Math.atan2(f.x-a.x,f.y-a.y)+Math.PI/2}if(M){var S=Math.sin(M),p=Math.cos(M),u=[p,-S,S,p];c=c.matMult(u),y=y.matMult(u),g=g.matMult(u),s=s.matMult(u),h=Math.min(c.x,y.x,g.x,s.x),o=Math.max(c.x,y.x,g.x,s.x),r=Math.min(c.y,y.y,g.y,s.y),m=Math.max(c.y,y.y,g.y,s.y)}var v={x1:h*e,x2:o*e,y1:r*e,y2:m*e},d={box:v,anchor:a,minScale:minScale,maxScale:1/0,padding:i[&quot;icon-padding&quot;]},P={tl:c,tr:y,br:s,bl:g,tex:t,angle:0,anchor:a,minScale:minScale,maxScale:1/0};return{shapes:[P],boxes:[d],minScale:a.scale}}function getGlyphs(a,t,e,n,i,x,l,h){for(var o=h[&quot;text-max-angle&quot;]*Math.PI/180,r=h[&quot;text-rotate&quot;]*Math.PI/180,m=h[&quot;text-padding&quot;],c=&quot;viewport&quot;!==h[&quot;text-rotation-alignment&quot;],y=h[&quot;text-keep-upright&quot;],s=[],g=[],M=3,f=0;f&lt;e.length;f++){var S=e[f],p=n[S.fontstack],u=p.glyphs[S.glyph],v=p.rects[S.glyph];if(u&amp;&amp;v&amp;&amp;v.w&gt;0&amp;&amp;v.h&gt;0){var d,P=(t.x+S.x+u.left-M+v.w/2)*i;void 0!==a.segment&amp;&amp;c?(d=[],getSegmentGlyphs(d,a,P,l,a.segment,1,o),y&amp;&amp;getSegmentGlyphs(d,a,P,l,a.segment,-1,o)):d=[{anchor:a,offset:0,angle:0,maxScale:1/0,minScale:minScale}];for(var b=t.x+S.x+u.left-M,I=t.y+S.y-u.top-M,w=b+v.w,G=I+v.h,k=new Point(b,I),q=new Point(w,I),B=new Point(b,G),_=new Point(w,G),H={x1:i*b,y1:i*I,x2:i*w,y2:i*G},W=0;W&lt;d.length;W++){var j=d[W],z=k,A=q,C=B,D=_,E=H,F=j.angle+r;if(F){var J=Math.sin(F),K=Math.cos(F),L=[K,-J,J,K];z=z.matMult(L),A=A.matMult(L),C=C.matMult(L),D=D.matMult(L)}var N=Math.max(j.minScale,a.scale);s.push({tl:z,tr:A,bl:C,br:D,tex:v,angle:(a.angle+r+j.offset+2*Math.PI)%(2*Math.PI),anchor:j.anchor,minScale:N,maxScale:j.maxScale}),j.offset||(F&amp;&amp;(E={x1:i*Math.min(z.x,A.x,C.x,D.x),y1:i*Math.min(z.y,A.y,C.y,D.y),x2:i*Math.max(z.x,A.x,C.x,D.x),y2:i*Math.max(z.y,A.y,C.y,D.y)}),g.push({box:E,anchor:j.anchor,minScale:N,maxScale:j.maxScale,padding:m}))}}}x&amp;&amp;(g=[getMergedBoxes(g,a)]);for(var O=a.scale,Q=1/0,R=0;R&lt;g.length;R++)Q=Math.min(Q,g[R].minScale);return Q=Math.max(O,minScale),{boxes:g,shapes:s,minScale:Q}}function getSegmentGlyphs(a,t,e,n,i,x,l){var h=0&gt;x;0&gt;e&amp;&amp;(x*=-1),x&gt;0&amp;&amp;i++;var o,r=t,m=n[i],c=1/0;e=Math.abs(e);for(var y=t.scale;;){var s=r.dist(m),g=e/s,M=-Math.atan2(m.x-r.x,m.y-r.y)+x*Math.PI/2;h&amp;&amp;(M+=Math.PI);var f=(M-o)%(2*Math.PI);if(o&amp;&amp;Math.abs(f)&gt;l){t.scale=c;break}if(a.push({anchor:r,offset:h?Math.PI:0,minScale:g,maxScale:c,angle:(M+2*Math.PI)%(2*Math.PI)}),y&gt;=g)break;for(r=m;r.equals(m);)if(i+=x,m=n[i],!m)return void(t.scale=g);var S=m.sub(r)._unit();r=r.sub(S._mult(s)),c=g,o=M}}function getMergedBoxes(a,t){for(var e={box:{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},anchor:t,minScale:0,padding:-1/0},n=e.box,i=0;i&lt;a.length;i++){var x=a[i].box;n.x1=Math.min(n.x1,x.x1),n.y1=Math.min(n.y1,x.y1),n.x2=Math.max(n.x2,x.x2),n.y2=Math.max(n.y2,x.y2),e.minScale=Math.max(e.minScale,a[i].minScale),e.padding=Math.max(e.padding,a[i].padding)}var l=n.x1*n.x1,h=n.y1*n.y1,o=n.x2*n.x2,r=n.y2*n.y2,m=Math.sqrt(Math.max(l+h,l+r,o+h,o+r));return e.hBox={x1:-m,y1:-m,x2:m,y2:m},e}var Point=require(&quot;point-geometry&quot;);module.exports={getIcon:getIcon,getGlyphs:getGlyphs};var minScale=.5;
},{&quot;point-geometry&quot;:104}],63:[function(require,module,exports){
    &quot;use strict&quot;;function resolveIcons(e,r){for(var o=[],s=0,n=e.length;n&gt;s;s++){var t=resolveTokens(e[s].properties,r[&quot;icon-image&quot;]);t&amp;&amp;o.indexOf(t)&lt;0&amp;&amp;o.push(t)}return o}var resolveTokens=require(&quot;../util/token&quot;);module.exports=resolveIcons;
},{&quot;../util/token&quot;:89}],64:[function(require,module,exports){
    &quot;use strict&quot;;function resolveText(e,r,t){for(var o=[],s=[],n=0,u=e.length;u&gt;n;n++){var a=resolveTokens(e[n].properties,r[&quot;text-field&quot;]),l=!1;if(a){a=a.toString();var i=r[&quot;text-transform&quot;];&quot;uppercase&quot;===i?a=a.toLocaleUpperCase():&quot;lowercase&quot;===i&amp;&amp;(a=a.toLocaleLowerCase());for(var c=0,v=a.length;v&gt;c;c++)a.charCodeAt(c)&lt;=65533&amp;&amp;(s.push(a.charCodeAt(c)),l=!0);l&amp;&amp;(o[n]=a)}else o[n]=null}return s=uniq(s,t),{textFeatures:o,codepoints:s}}function uniq(e,r){var t,o=[];e.sort(sortNumbers);for(var s=0;s&lt;e.length;s++)e[s]!==t&amp;&amp;(t=e[s],r[t]||o.push(e[s]));return o}function sortNumbers(e,r){return e-r}var resolveTokens=require(&quot;../util/token&quot;);module.exports=resolveText;
},{&quot;../util/token&quot;:89}],65:[function(require,module,exports){
    &quot;use strict&quot;;function rotationRange(o,n,t){var i,r,e=o,a=n,s=new Point((a.anchor.x-e.anchor.x)*t,(a.anchor.y-e.anchor.y)*t);return e.hBox&amp;&amp;a.hBox?i=rotatingRotatingCollisions(e.box,a.box,s):e.hBox?(r={x1:a.box.x1+s.x,y1:a.box.y1+s.y,x2:a.box.x2+s.x,y2:a.box.y2+s.y},i=rotatingFixedCollisions(e.box,r)):a.hBox?(r={x1:e.box.x1-s.x,y1:e.box.y1-s.y,x2:e.box.x2-s.x,y2:e.box.y2-s.y},i=rotatingFixedCollisions(a.box,r)):i=[],mergeCollisions(i,n.placementRange)}function mergeCollisions(o,n){for(var t=2*Math.PI,i=0,r=0;r&lt;o.length;r++){var e=o[r],a=n[0]&lt;=e[0]&amp;&amp;e[0]&lt;=n[1],s=n[0]&lt;=e[1]&amp;&amp;e[1]&lt;=n[1];a&amp;&amp;s||(a?(t=Math.min(t,n[1]),i=Math.max(i,e[1])):s?(t=Math.min(t,e[0]),i=Math.max(i,n[0])):(t=Math.min(t,e[0]),i=Math.max(i,e[1])))}return[t,i]}function rotatingRotatingCollisions(o,n,t){var i,r=t.mag(),e=t.angleWith(horizontal),a=[],s=[];a[0]=Math.asin((o.y2-n.y1)/r),a[1]=Math.asin((o.y2-n.y1)/r)+Math.PI,a[2]=2*Math.PI-Math.asin((-o.y1+n.y2)/r),a[3]=Math.PI-Math.asin((-o.y1+n.y2)/r),a[4]=2*Math.PI-Math.acos((o.x2-n.x1)/r),a[5]=Math.acos((o.x2-n.x1)/r),a[6]=Math.PI-Math.acos((-o.x1+n.x2)/r),a[7]=Math.PI+Math.acos((-o.x1+n.x2)/r);var x=o.x2-n.x1,l=-o.x1+n.x2,h=o.y2-n.y1,g=-o.y1+n.y2,y=[];for(y[0]=x*x+h*h,y[1]=l*l+h*h,y[2]=x*x+g*g,y[3]=l*l+g*g,y[4]=x*x+h*h,y[5]=x*x+g*g,y[6]=l*l+g*g,y[7]=l*l+h*h,a=a.filter(function(o,n){return!isNaN(o)&amp;&amp;r*r&lt;=y[n]}).map(function(o){return(o+e+2*Math.PI)%(2*Math.PI)}),a.sort(),i=0;i&lt;a.length;i+=2)s.push([a[i],a[i+1]]);return s}function rotatingFixedCollisions(o,n){for(var t=getCorners(o),i=getCorners(n),r=[],e=0;4&gt;e;e++)cornerBoxCollisions(r,t[e],i),cornerBoxCollisions(r,i[e],t,!0);return r}function cornerBoxCollisions(o,n,t,i){for(var r=n.mag(),e=[],a=0,s=3;4&gt;a;s=a++)circleEdgeCollisions(e,n,r,t[s],t[a]);if(e.length%2!==0)throw new Error(&quot;expecting an even number of intersections&quot;);e.sort();for(var x=0;x&lt;e.length;x+=2)o[x/2]=i?[2*Math.PI-e[x+1],2*Math.PI-e[x]]:[e[x],e[x+1]];return o}function circleEdgeCollisions(o,n,t,i,r){var e=r.x-i.x,a=r.y-i.y,s=e*e+a*a,x=2*(e*i.x+a*i.y),l=i.x*i.x+i.y*i.y-t*t,h=x*x-4*s*l;if(h&gt;0){var g=(-x-Math.sqrt(h))/(2*s),y=(-x+Math.sqrt(h))/(2*s);g&gt;0&amp;&amp;1&gt;g&amp;&amp;o.push(getAngle(i,r,g,n)),y&gt;0&amp;&amp;1&gt;y&amp;&amp;o.push(getAngle(i,r,y,n))}return o}function getAngle(o,n,t,i){return(-i.angleWithSep(interpolate(o.x,n.x,t),interpolate(o.y,n.y,t))+2*Math.PI)%(2*Math.PI)}function getCorners(o){return[new Point(o.x1,o.y1),new Point(o.x1,o.y2),new Point(o.x2,o.y2),new Point(o.x2,o.y1)]}var interpolate=require(&quot;../util/interpolate&quot;),Point=require(&quot;point-geometry&quot;);module.exports={rotationRange:rotationRange,mergeCollisions:mergeCollisions,rotatingFixedCollisions:rotatingFixedCollisions,rotatingRotatingCollisions:rotatingRotatingCollisions,cornerBoxCollisions:cornerBoxCollisions,circleEdgeCollisions:circleEdgeCollisions,getCorners:getCorners};var horizontal=new Point(1,0);
},{&quot;../util/interpolate&quot;:86,&quot;point-geometry&quot;:104}],66:[function(require,module,exports){
    &quot;use strict&quot;;function shape(n,a,e,r,l,t,i,h,f,u){for(var o,g,s=e[a].glyphs,p=[],v=u[0],x=u[1],y=0;y&lt;n.length;y++)g=n.charCodeAt(y),o=s[g],0!==g&amp;&amp;o&amp;&amp;(p.push({fontstack:a,glyph:g,x:v,y:x}),v+=o.advance+f);return p.length?p=linewrap(p,s,l,r,t,i,h):!1}function linewrap(n,a,e,r,l,t,i){var h=null,f=0,u=0,o=0,g=0;if(r)for(var s=0;s&lt;n.length;s++){var p=n[s];if(p.x-=f,p.y+=e*o,p.x&gt;r&amp;&amp;null!==h){var v=n[h+1].x;g=Math.max(v,g);for(var x=h+1;s&gt;=x;x++)n[x].y+=e,n[x].x-=v;i&amp;&amp;justifyLine(n,a,u,h-1,i),u=h+1,h=null,f+=v,o++}breakable[p.glyph]&amp;&amp;(h=s)}return g=g||n[n.length-1].x,justifyLine(n,a,u,n.length-1,i),align(n,i,l,t,g,e,o),n}function justifyLine(n,a,e,r,l){for(var t=a[n[r].glyph].advance,i=(n[r].x+t)*l,h=e;r&gt;=h;h++)n[h].x-=i}function align(n,a,e,r,l,t,i){for(var h=(a-e)*l,f=(-r*(i+1)+.5)*t,u=0;u&lt;n.length;u++)n[u].x+=h,n[u].y+=f}module.exports={shape:shape};var breakable={32:!0};
},{}],67:[function(require,module,exports){
    &quot;use strict&quot;;function SpriteAtlas(t,i){this.width=t,this.height=i,this.bin=new BinPack(t,i),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function copyBitmap(t,i,e,h,a,s,r,o,n,l,p){var d,c,x=h*i+e,f=o*s+r;if(p)for(f-=s,c=-1;l&gt;=c;c++,x=((c+l)%l+h)*i+e,f+=s)for(d=-1;n&gt;=d;d++)a[f+d]=t[x+(d+n)%n];else for(c=0;l&gt;c;c++,x+=i,f+=s)for(d=0;n&gt;d;d++)a[f+d]=t[x+d]}var BinPack=require(&quot;./bin_pack&quot;);module.exports=SpriteAtlas,SpriteAtlas.prototype={get debug(){return&quot;canvas&quot;in this},set debug(t){t&amp;&amp;!this.canvas?(this.canvas=document.createElement(&quot;canvas&quot;),this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.canvas.style.width=this.width+&quot;px&quot;,this.canvas.style.width=this.width+&quot;px&quot;,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext(&quot;2d&quot;)):!t&amp;&amp;this.canvas&amp;&amp;(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},SpriteAtlas.prototype.resize=function(t){if(this.pixelRatio===t)return!1;var i=this.pixelRatio;if(this.pixelRatio=t,this.canvas&amp;&amp;(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio),this.data){var e=this.data;this.data=!1,this.allocate(),this.texture=!1;for(var h=this.width*i,a=this.height*i,s=this.width*t,r=this.height*t,o=this.data,n=e,l=0;r&gt;l;l++)for(var p=Math.floor(l*a/r)*h,d=l*s,c=0;s&gt;c;c++){var x=Math.floor(c*h/s);o[d+c]=n[p+x]}e=null,this.dirty=!0}return this.dirty},SpriteAtlas.prototype.allocateImage=function(t,i){var e=2,h=t+e+(4-(t+e)%4),a=i+e+(4-(i+e)%4),s=this.bin.allocate(h,a);return 0===s.w?s:(s.originalWidth=t,s.originalHeight=i,s)},SpriteAtlas.prototype.getImage=function(t,i){if(this.images[t])return this.images[t];if(!this.sprite)return null;var e=this.sprite.getSpritePosition(t);if(!e.width||!e.height)return null;var h=this.allocateImage(e.width/e.pixelRatio,e.height/e.pixelRatio);return 0===h.w?h:(h.sdf=e.sdf,this.images[t]=h,this.copy(h,e,i),h)},SpriteAtlas.prototype.getPosition=function(t,i){var e=this.getImage(t,i);if(!e)return null;if(i){var h=this.sprite.getSpritePosition(t);if(!h.width||!h.height)return null;e.w=h.width/h.pixelRatio,e.h=h.height/h.pixelRatio}return{size:[e.w,e.h],tl:[e.x/this.width,e.y/this.height],br:[(e.x+e.w)/this.width,(e.y+e.h)/this.height]}},SpriteAtlas.prototype.allocate=function(){if(!this.data){var t=Math.floor(this.width*this.pixelRatio),i=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*i);for(var e=0;e&lt;this.data.length;e++)this.data[e]=0}},SpriteAtlas.prototype.copy=function(t,i,e){if(this.sprite.img.data){var h=new Uint32Array(this.sprite.img.data.buffer);this.allocate();var a=this.data;copyBitmap(h,this.sprite.img.width,i.x,i.y,a,this.width*this.pixelRatio,t.x*this.pixelRatio,t.y*this.pixelRatio,i.width,i.height,e),this.dirty=!0}},SpriteAtlas.prototype.setSprite=function(t){this.sprite=t},SpriteAtlas.prototype.addIcons=function(t,i){for(var e=0;e&lt;t.length;e++)this.getImage(t[e]);i(null,this.images)},SpriteAtlas.prototype.bind=function(t,i){var e=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e=!0);var h=i?t.LINEAR:t.NEAREST;if(h!==this.filter&amp;&amp;(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,h),this.filter=h),this.dirty&amp;&amp;(this.allocate(),e?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1,this.ctx)){var a=this.ctx.getImageData(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);a.data.set(new Uint8ClampedArray(this.data.buffer)),this.ctx.putImageData(a,0,0),this.ctx.strokeStyle=&quot;red&quot;;for(var s=0;s&lt;this.bin.free.length;s++){var r=this.bin.free[s];this.ctx.strokeRect(r.x*this.pixelRatio,r.y*this.pixelRatio,r.w*this.pixelRatio,r.h*this.pixelRatio)}}};
},{&quot;./bin_pack&quot;:56}],68:[function(require,module,exports){
    &quot;use strict&quot;;function Attribution(){}var Control=require(&quot;./control&quot;),DOM=require(&quot;../../util/dom&quot;),util=require(&quot;../../util/util&quot;);module.exports=Attribution,Attribution.prototype=util.inherit(Control,{onAdd:function(t){var i=&quot;mapboxgl-ctrl-attrib&quot;,e=this._container=DOM.create(&quot;div&quot;,i,t.getContainer());return this._update(),t.on(&quot;source.load&quot;,this._update.bind(this)),t.on(&quot;source.change&quot;,this._update.bind(this)),t.on(&quot;source.remove&quot;,this._update.bind(this)),t.on(&quot;moveend&quot;,this._updateEditLink.bind(this)),e},_update:function(){var t=[];if(this._map.style)for(var i in this._map.style.sources){var e=this._map.style.sources[i];e.attribution&amp;&amp;t.indexOf(e.attribution)&lt;0&amp;&amp;t.push(e.attribution)}this._container.innerHTML=t.join(&quot; | &quot;),this._editLink=this._container.getElementsByClassName(&quot;mapbox-improve-map&quot;)[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var t=this._map.getCenter();this._editLink.href=&quot;https://www.mapbox.com/map-feedback/#/&quot;+t.lng+&quot;/&quot;+t.lat+&quot;/&quot;+Math.round(this._map.getZoom()+1)}}});
},{&quot;../../util/dom&quot;:82,&quot;../../util/util&quot;:90,&quot;./control&quot;:69}],69:[function(require,module,exports){
    &quot;use strict&quot;;function Control(){}module.exports=Control,Control.prototype={addTo:function(t){return this._map=t,this._container=this.onAdd(t),this.options&amp;&amp;this.options.position&amp;&amp;(this._container.className+=&quot; mapboxgl-ctrl-&quot;+this.options.position),this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&amp;&amp;this.onRemove(this._map),this._map=null,this}};
},{}],70:[function(require,module,exports){
    &quot;use strict&quot;;function Navigation(t){util.setOptions(this,t)}var Control=require(&quot;./control&quot;),DOM=require(&quot;../../util/dom&quot;),util=require(&quot;../../util/util&quot;);module.exports=Navigation,Navigation.prototype=util.inherit(Control,{options:{position:&quot;topright&quot;},onAdd:function(t){var o=&quot;mapboxgl-ctrl-nav&quot;,e=this._container=DOM.create(&quot;div&quot;,o,t.getContainer());this._zoomInButton=this._createButton(o+&quot;-zoom-in&quot;,t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(o+&quot;-zoom-out&quot;,t.zoomOut.bind(t)),this._compass=this._createButton(o+&quot;-compass&quot;,t.resetNorth.bind(t));var s=this._compassCanvas=DOM.create(&quot;canvas&quot;,o+&quot;-compass-canvas&quot;,this._compass);return s.style.cssText=&quot;width:26px; height:26px;&quot;,s.width=52,s.height=52,this._compass.addEventListener(&quot;mousedown&quot;,this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._compassCtx=s.getContext(&quot;2d&quot;),t.on(&quot;rotate&quot;,this._drawNorth.bind(this)),this._drawNorth(),e},_onCompassDown:function(t){DOM.disableDrag(),document.addEventListener(&quot;mousemove&quot;,this._onCompassMove),document.addEventListener(&quot;mouseup&quot;,this._onCompassUp),this._prevX=t.screenX,t.stopPropagation()},_onCompassMove:function(t){var o=t.screenX,e=2&gt;o?-5:o&gt;window.screen.width-2?5:(o-this._prevX)/4;this._map.setBearing(this._map.getBearing()-e),this._prevX=t.screenX,t.preventDefault()},_onCompassUp:function(){document.removeEventListener(&quot;mousemove&quot;,this._onCompassMove),document.removeEventListener(&quot;mouseup&quot;,this._onCompassUp),DOM.enableDrag()},_createButton:function(t,o){var e=DOM.create(&quot;button&quot;,t,this._container);return e.addEventListener(&quot;click&quot;,function(){o()}),e},_drawNorth:function(){var t=20,o=8,e=26,s=this._map.transform.angle+Math.PI/2,i=this._compassCtx;this._compassCanvas.width=this._compassCanvas.width,i.translate(e,e),i.rotate(s),i.beginPath(),i.fillStyle=&quot;#000&quot;,i.lineTo(0,-o),i.lineTo(-t,0),i.lineTo(0,o),i.fill(),i.beginPath(),i.fillStyle=&quot;#bbb&quot;,i.moveTo(0,0),i.lineTo(0,o),i.lineTo(t,0),i.lineTo(0,-o),i.fill(),i.beginPath(),i.strokeStyle=&quot;#fff&quot;,i.lineWidth=4,i.moveTo(0,-o),i.lineTo(0,o),i.stroke()}});
},{&quot;../../util/dom&quot;:82,&quot;../../util/util&quot;:90,&quot;./control&quot;:69}],71:[function(require,module,exports){
    &quot;use strict&quot;;var util=require(&quot;../util/util&quot;),interpolate=require(&quot;../util/interpolate&quot;),browser=require(&quot;../util/browser&quot;),LatLng=require(&quot;../geo/lat_lng&quot;),LatLngBounds=require(&quot;../geo/lat_lng_bounds&quot;),Point=require(&quot;point-geometry&quot;);util.extend(exports,{isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&amp;&amp;(this._abortFn.call(this),delete this._abortFn,this._finishFn.call(this),delete this._finishFn),this},_ease:function(t,i,e){this._finishFn=i,this._abortFn=browser.timed(function(i){t.call(this,e.easing(i)),1===i&amp;&amp;(delete this._abortFn,this._finishFn.call(this),delete this._finishFn)},e.animate===!1?0:e.duration,this)},panBy:function(t,i){return this.panTo(this.transform.center,util.extend({offset:Point.convert(t).mult(-1)},i)),this},panTo:function(t,i){this.stop(),t=LatLng.convert(t),i=util.extend({duration:500,easing:util.ease,offset:[0,0]},i);var e=this.transform,n=Point.convert(i.offset).rotate(-e.angle),o=e.point,r=e.project(t).sub(n);return i.noMoveStart||this.fire(&quot;movestart&quot;),this._ease(function(t){e.center=e.unproject(o.add(r.sub(o).mult(t))),this._move()},function(){this.fire(&quot;moveend&quot;)},i),this},zoomTo:function(t,i){this.stop(),i=util.extend({duration:500},i),i.easing=this._updateEasing(i.duration,t,i.easing);var e=this.transform,n=e.center,o=e.zoom;return i.around?n=LatLng.convert(i.around):i.offset&amp;&amp;(n=e.pointLocation(e.centerPoint.add(Point.convert(i.offset)))),i.animate===!1&amp;&amp;(i.duration=0),this.zooming||(this.zooming=!0,this.fire(&quot;movestart&quot;)),this._ease(function(i){e.setZoomAround(interpolate(o,t,i),n),this.animationLoop.set(300),this._move(!0)},function(){this.ease=null,i.duration&gt;=200&amp;&amp;(this.zooming=!1,this.fire(&quot;moveend&quot;))},i),i.duration&lt;200&amp;&amp;(clearTimeout(this._onZoomEnd),this._onZoomEnd=setTimeout(function(){this.zooming=!1,this._rerender(),this.fire(&quot;moveend&quot;)}.bind(this),200)),this},zoomIn:function(t){this.zoomTo(this.getZoom()+1,t)},zoomOut:function(t){this.zoomTo(this.getZoom()-1,t)},rotateTo:function(t,i){this.stop(),i=util.extend({duration:500,easing:util.ease},i);var e=this.transform,n=this.getBearing(),o=e.center;return i.around?o=LatLng.convert(i.around):i.offset&amp;&amp;(o=e.pointLocation(e.centerPoint.add(Point.convert(i.offset)))),t=this._normalizeBearing(t,n),this.rotating=!0,this.fire(&quot;movestart&quot;),this._ease(function(i){e.setBearingAround(interpolate(n,t,i),o),this._move(!1,!0)},function(){this.rotating=!1,this.fire(&quot;moveend&quot;)},i),this},resetNorth:function(t){return this.rotateTo(0,util.extend({duration:1e3},t))},fitBounds:function(t,i){i=util.extend({padding:0,offset:[0,0],maxZoom:1/0},i),t=LatLngBounds.convert(t);var e=Point.convert(i.offset),n=this.transform,o=n.project(t.getNorthWest()),r=n.project(t.getSouthEast()),s=r.sub(o),a=n.unproject(o.add(r).div(2)),u=(n.width-2*i.padding-2*Math.abs(e.x))/s.x,h=(n.height-2*i.padding-2*Math.abs(e.y))/s.y,f=Math.min(n.scaleZoom(n.scale*Math.min(u,h)),i.maxZoom);return i.linear?this.easeTo(a,f,0,i):this.flyTo(a,f,0,i)},easeTo:function(t,i,e,n){this.stop(),n=util.extend({offset:[0,0],duration:500,easing:util.ease},n);var o=this.transform,r=Point.convert(n.offset).rotate(-o.angle),s=this.getZoom(),a=this.getBearing();t=LatLng.convert(t),i=void 0===i?s:i,e=void 0===e?a:this._normalizeBearing(e,a);var u,h=o.zoomScale(i-s),f=o.point,d=t?o.project(t).sub(r.div(h)):o.point;return i!==s&amp;&amp;(u=o.pointLocation(o.centerPoint.add(d.sub(f).div(1-1/h))),this.zooming=!0),a!==e&amp;&amp;(this.rotating=!0),this.fire(&quot;movestart&quot;),this._ease(function(t){i!==s?o.setZoomAround(interpolate(s,i,t),u):o.center=o.unproject(f.add(d.sub(f).mult(t))),e!==a&amp;&amp;(o.bearing=interpolate(a,e,t)),this.animationLoop.set(300),this._move(i!==s,e!==a)},function(){this.zooming=!1,this.rotating=!1,this.fire(&quot;moveend&quot;)},n),this},flyTo:function(t,i,e,n){function o(t){var i=(b*b-_*_+(t?-1:1)*M*M*z*z)/(2*(t?b:_)*M*z);return Math.log(Math.sqrt(i*i+1)-i)}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return r(t)/s(t)}this.stop(),n=util.extend({offset:[0,0],speed:1.2,curve:1.42,easing:util.ease},n),t=LatLng.convert(t);var u=Point.convert(n.offset),h=this.transform,f=this.getZoom(),d=this.getBearing();i=void 0===i?f:i,e=void 0===e?d:this._normalizeBearing(e,d);var c=h.zoomScale(i-f),m=h.point,l=h.project(t).sub(u.div(c));if(n.animate===!1)return this.setView(t,i,e);var g=h.worldSize,v=n.curve,p=n.speed,_=Math.max(h.width,h.height),b=_/c,z=l.sub(m).mag(),M=v*v,L=o(0),x=function(t){return s(L)/s(L+v*t)},T=function(t){return _*((s(L)*a(L+v*t)-r(L))/M)/z},B=(o(1)-L)/v;if(Math.abs(z)&lt;1e-6){if(Math.abs(_-b)&lt;1e-6)return this;var Z=_&gt;b?-1:1;B=Math.abs(Math.log(b/_))/v,T=function(){return 0},x=function(t){return Math.exp(Z*v*t)}}return n.duration=1e3*B/p,this.zooming=!0,d!==e&amp;&amp;(this.rotating=!0),this.fire(&quot;movestart&quot;),this._ease(function(t){var i=t*B,n=T(i);h.zoom=f+h.scaleZoom(1/x(i)),h.center=h.unproject(m.add(l.sub(m).mult(n)),g),e!==d&amp;&amp;(h.bearing=interpolate(d,e,t)),this.animationLoop.set(300),this._move(!0,e!==d)},function(){this.zooming=!1,this.rotating=!1,this.fire(&quot;moveend&quot;)},n),this},_normalizeBearing:function(t,i){t=util.wrap(t,-180,180);var e=Math.abs(t-i);return Math.abs(t-360-i)&lt;e&amp;&amp;(t-=360),Math.abs(t+360-i)&lt;e&amp;&amp;(t+=360),t},_updateEasing:function(t,i,e){var n;if(this.ease){var o=this.ease,r=(Date.now()-o.start)/o.duration,s=o.easing(r+.01)-o.easing(r),a=.27/Math.sqrt(s*s+1e-4)*.01,u=Math.sqrt(.0729-a*a);n=util.bezier(a,u,.25,1)}else n=e?util.bezier.apply(util,e):util.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,i),duration:t,easing:n},n}});
},{&quot;../geo/lat_lng&quot;:16,&quot;../geo/lat_lng_bounds&quot;:17,&quot;../util/browser&quot;:79,&quot;../util/interpolate&quot;:86,&quot;../util/util&quot;:90,&quot;point-geometry&quot;:104}],72:[function(require,module,exports){
    &quot;use strict&quot;;function Handlers(e){function t(){o&amp;&amp;(o.parentNode.removeChild(o),e.getContainer().classList.remove(&quot;mapboxgl-crosshair&quot;),o=!1,DOM.enableDrag())}var n,o,a=.2,r=util.bezier(0,0,a,1);this.interaction=new Interaction(e.getCanvas()).on(&quot;click&quot;,function(t){e.fire(&quot;click&quot;,t)}).on(&quot;mousemove&quot;,function(t){e.fire(&quot;mousemove&quot;,t)}).on(&quot;down&quot;,function(){e.fire(&quot;movestart&quot;)}).on(&quot;resize&quot;,function(){e.stop(),e.resize(),e.update()}).on(&quot;keydown&quot;,function(t){function n(n){e.zoomTo(Math.round(e.getZoom())+(t.shiftKey?2:1)*n)}function o(t){e.panBy(t)}function a(t){e.setBearing(e.getBearing()+t)}if(!(t.altKey||t.ctrlKey||t.metaKey)){var r=80,i=2;switch(t.keyCode){case 61:case 107:case 171:case 187:n(1);break;case 189:case 109:case 173:n(-1);break;case 37:t.shiftKey?a(-i):o([-r,0]);break;case 39:t.shiftKey?a(i):o([r,0]);break;case 38:o([0,-r]);break;case 40:o([0,r]);break;default:return}}}).on(&quot;pan&quot;,function(t){e.stop(),e.transform.panBy(t.offset),e._move()}).on(&quot;panend&quot;,function(t){if(t.inertia){var n=t.inertia.mult(1e3*a),o=n.mag(),i=4e3;o&gt;=i&amp;&amp;(o=i,n._unit()._mult(i));var s=8e3,u=o/(s*a),c=n.mult(-u/2).round();e.panBy(c,{duration:1e3*u,easing:r,noMoveStart:!0})}else e.fire(&quot;moveend&quot;)}).on(&quot;zoom&quot;,function(t){var n=2/(1+Math.exp(-Math.abs(t.delta/100)));t.delta&lt;0&amp;&amp;0!==n&amp;&amp;(n=1/n);var o=e.ease&amp;&amp;isFinite(t.delta)?e.ease.to:e.transform.scale,a=isFinite(t.delta)?&quot;trackpad&quot;===t.source?0:300:800;e.zoomTo(e.transform.scaleZoom(o*n),{duration:a,around:e.unproject(t.point)})}).on(&quot;rotate&quot;,function(t){var o=e.transform.centerPoint,a=t.start.sub(o),r=a.mag();e.rotating=!0,200&gt;r&amp;&amp;(o=t.start.add(new Point(-200,0)._rotate(a.angle())));var i=t.prev.sub(o).angleWith(t.current.sub(o))/Math.PI*180;e.transform.bearing=e.getBearing()-i,e._move(!1,!0),window.clearTimeout(n),n=window.setTimeout(function(){e.rotating=!1,e._rerender()},200)}).on(&quot;boxzoomstart&quot;,function(t){o||(o=DOM.create(&quot;div&quot;,&quot;mapboxgl-boxzoom&quot;,e.getContainer()),e.getContainer().classList.add(&quot;mapboxgl-crosshair&quot;),e.fire(&quot;boxzoomstart&quot;),DOM.disableDrag());var n=Math.min(t.start.x,t.current.x),a=Math.max(t.start.x,t.current.x),r=Math.min(t.start.y,t.current.y),i=Math.max(t.start.y,t.current.y);DOM.setTransform(o,&quot;translate(&quot;+n+&quot;px,&quot;+r+&quot;px)&quot;),o.style.width=a-n+&quot;px&quot;,o.style.height=i-r+&quot;px&quot;}).on(&quot;boxzoomend&quot;,function(n){t();var o=new LatLngBounds(e.unproject(n.start),e.unproject(n.current));e.fitBounds(o,{linear:!0}).fire(&quot;boxzoomend&quot;,{boxZoomBounds:o})}).on(&quot;boxzoomcancel&quot;,t)}var Interaction=require(&quot;./interaction&quot;),Point=require(&quot;point-geometry&quot;),util=require(&quot;../util/util&quot;),DOM=require(&quot;../util/dom&quot;),LatLngBounds=require(&quot;../geo/lat_lng_bounds&quot;);module.exports=Handlers;
},{&quot;../geo/lat_lng_bounds&quot;:17,&quot;../util/dom&quot;:82,&quot;../util/util&quot;:90,&quot;./interaction&quot;:74,&quot;point-geometry&quot;:104}],73:[function(require,module,exports){
    &quot;use strict&quot;;function Hash(){util.bindAll([&quot;_onHashChange&quot;,&quot;_updateHash&quot;],this)}module.exports=Hash;var util=require(&quot;../util/util&quot;);Hash.prototype={addTo:function(t){return this._map=t,window.addEventListener(&quot;hashchange&quot;,this._onHashChange,!1),this._map.on(&quot;moveend&quot;,this._updateHash),this},remove:function(){return window.removeEventListener(&quot;hashchange&quot;,this._onHashChange,!1),this._map.off(&quot;moveend&quot;,this._updateHash),delete this._map,this},_onHashChange:function(){var t=location.hash.replace(&quot;#&quot;,&quot;&quot;).split(&quot;/&quot;);return t.length&gt;=3?(this._map.setView([+t[1],+t[2]],+t[0],+(t[3]||0)),!0):!1},_updateHash:function(){var t=this._map.getCenter(),e=this._map.getZoom(),a=this._map.getBearing(),h=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),n=&quot;#&quot;+Math.round(100*e)/100+&quot;/&quot;+t.lat.toFixed(h)+&quot;/&quot;+t.lng.toFixed(h)+(a?&quot;/&quot;+Math.round(10*a)/10:&quot;&quot;);window.history.replaceState(&quot;&quot;,&quot;&quot;,n)}};
},{&quot;../util/util&quot;:90}],74:[function(require,module,exports){
    &quot;use strict&quot;;function Interaction(e){function t(t){var n=e.getBoundingClientRect();return new Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)}function n(e,t,n){h.fire(&quot;zoom&quot;,{source:e,delta:t,point:n}),y=null,m=null}function i(e){h.fire(&quot;click&quot;,{point:e})}function r(e){h.fire(&quot;mousemove&quot;,{point:e})}function o(e){if(D){var t=D.sub(e);if(h.fire(&quot;pan&quot;,{offset:t}),y){var n=Date.now()-m;if(n){var i=n+m;for(y.push([i,e]);y.length&gt;2&amp;&amp;i-y[0][0]&gt;100;)y.shift()}}else y=[];m=Date.now(),D=e}}function l(){h.fire(&quot;resize&quot;)}function a(e){b&amp;&amp;27===e.keyCode&amp;&amp;(h.fire(&quot;boxzoomcancel&quot;),b=!1),h.fire(&quot;keydown&quot;,e)}function u(e){D&amp;&amp;(h.fire(&quot;rotate&quot;,{start:g,prev:D,current:e}),D=e)}function f(e){h.fire(&quot;dblclick&quot;,{point:e})}function c(e){g=D=t(e),h.fire(&quot;down&quot;),(e.shiftKey||1===e.which&amp;&amp;1===e.button)&amp;&amp;(b=!0)}function d(e){if(L=D&amp;&amp;g&amp;&amp;(D.x!==g.x||D.y!==g.y),E=!1,D=null,b)h.fire(&quot;boxzoomend&quot;,{start:g,current:t(e)}),b=!1;else if(y&amp;&amp;y.length&gt;=2&amp;&amp;m&gt;Date.now()-100){var n=y[y.length-1],i=y[0],r=n[1].sub(i[1]).div(n[0]-i[0]);h.fire(&quot;panend&quot;,{inertia:r})}else h.fire(&quot;panend&quot;);y=null,m=null}function s(n){var i=t(n);if(b)h.fire(&quot;boxzoomstart&quot;,{start:g,current:i});else if(E)u(i);else if(D)o(i);else{for(var l=n.toElement||n.target;l&amp;&amp;l!==e&amp;&amp;l.parentNode;)l=l.parentNode;l===e&amp;&amp;r(i)}}function v(e){L||i(t(e))}function w(e){f(t(e)),n(&quot;wheel&quot;,1/0*(e.shiftKey?-1:1),t(e)),e.preventDefault()}function p(n){function i(e,i){var r=u.now(),o=r-f;f=r;var l=t(i);0!==e&amp;&amp;e%4.000244140625===0?c=&quot;wheel&quot;:0!==e&amp;&amp;Math.abs(e)&lt;4?c=&quot;trackpad&quot;:o&gt;400?(c=null,s=e,d=setTimeout(function(){c=&quot;wheel&quot;,n(c,-s,l)},40)):null===c&amp;&amp;(c=Math.abs(o*e)&lt;200?&quot;trackpad&quot;:&quot;wheel&quot;,d&amp;&amp;(clearTimeout(d),d=null,e+=s)),i.shiftKey&amp;&amp;e&amp;&amp;(e/=4),null!==c&amp;&amp;n(c,-e,l)}function r(e){var t=e.deltaY;l&amp;&amp;e.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&amp;&amp;(t/=browser.devicePixelRatio),e.deltaMode===window.WheelEvent.DOM_DELTA_LINE&amp;&amp;(t*=40),i(t,e),e.preventDefault()}function o(e){var t=-e.wheelDeltaY;a&amp;&amp;(t/=3),i(t,e),e.preventDefault()}var l=/Firefox/i.test(navigator.userAgent),a=/Safari/i.test(navigator.userAgent)&amp;&amp;!/Chrom(ium|e)/i.test(navigator.userAgent),u=window.performance||Date;e.addEventListener(&quot;wheel&quot;,r,!1),e.addEventListener(&quot;mousewheel&quot;,o,!1);var f=0,c=null,d=null,s=null}var h=this;if(e){var m,E=!1,L=!1,b=!1,g=null,D=null,y=null;e.addEventListener(&quot;contextmenu&quot;,function(e){E=!0,g=D=t(e),e.preventDefault()},!1),e.addEventListener(&quot;mousedown&quot;,c,!1),document.addEventListener(&quot;mouseup&quot;,d,!1),document.addEventListener(&quot;mousemove&quot;,s,!1),e.addEventListener(&quot;click&quot;,v,!1),p(n),e.addEventListener(&quot;dblclick&quot;,w,!1),window.addEventListener(&quot;resize&quot;,l,!1),e.addEventListener(&quot;keydown&quot;,a,!1)}}var Evented=require(&quot;../util/evented&quot;),browser=require(&quot;../util/browser&quot;),Point=require(&quot;point-geometry&quot;);module.exports=Interaction,Interaction.prototype=Object.create(Evented);
},{&quot;../util/browser&quot;:79,&quot;../util/evented&quot;:84,&quot;point-geometry&quot;:104}],75:[function(require,module,exports){
    &quot;use strict&quot;;var Canvas=require(&quot;../util/canvas&quot;),util=require(&quot;../util/util&quot;),browser=require(&quot;../util/browser&quot;),Evented=require(&quot;../util/evented&quot;),Style=require(&quot;../style/style&quot;),AnimationLoop=require(&quot;../style/animation_loop&quot;),GLPainter=require(&quot;../render/painter&quot;),Transform=require(&quot;../geo/transform&quot;),Hash=require(&quot;./hash&quot;),Handlers=require(&quot;./handlers&quot;),Easings=require(&quot;./easings&quot;),LatLng=require(&quot;../geo/lat_lng&quot;),LatLngBounds=require(&quot;../geo/lat_lng_bounds&quot;),Point=require(&quot;point-geometry&quot;),Attribution=require(&quot;./control/attribution&quot;),Map=module.exports=function(t){if(t=this.options=util.inherit(this.options,t),this.animationLoop=new AnimationLoop,this.transform=new Transform(t.minZoom,t.maxZoom),t.maxBounds){var e=LatLngBounds.convert(t.maxBounds);this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform.lngRange=[e.getWest(),e.getEast()]}util.bindAll([&quot;_forwardStyleEvent&quot;,&quot;_forwardSourceEvent&quot;,&quot;_forwardLayerEvent&quot;,&quot;_forwardTileEvent&quot;,&quot;_onStyleLoad&quot;,&quot;_onStyleChange&quot;,&quot;_onSourceAdd&quot;,&quot;_onSourceRemove&quot;,&quot;_onSourceUpdate&quot;,&quot;update&quot;,&quot;render&quot;],this),this._setupContainer(),this._setupPainter(),this.handlers=t.interactive&amp;&amp;new Handlers(this),this._hash=t.hash&amp;&amp;(new Hash).addTo(this),this._hash&amp;&amp;this._hash._onHashChange()||this.setView(t.center,t.zoom,t.bearing),this.sources={},this.stacks={},this._classes={},this.resize(),t.classes&amp;&amp;this.setClasses(t.classes),t.style&amp;&amp;this.setStyle(t.style),t.attributionControl&amp;&amp;this.addControl(new Attribution)};util.extend(Map.prototype,Evented),util.extend(Map.prototype,Easings),util.extend(Map.prototype,{options:{center:[0,0],zoom:0,bearing:0,minZoom:0,maxZoom:20,interactive:!0,hash:!1,attributionControl:!0},addControl:function(t){return t.addTo(this),this},setView:function(t,e,s){this.stop();var i=this.transform,r=i.zoom!==+e,o=i.bearing!==+s;return i.center=LatLng.convert(t),i.zoom=+e,i.bearing=+s,this.fire(&quot;movestart&quot;)._move(r,o).fire(&quot;moveend&quot;)},setCenter:function(t){this.setView(t,this.getZoom(),this.getBearing())},setZoom:function(t){this.setView(this.getCenter(),t,this.getBearing())},setBearing:function(t){this.setView(this.getCenter(),this.getZoom(),t)},getCenter:function(){return this.transform.center},getZoom:function(){return this.transform.zoom},getBearing:function(){return this.transform.bearing},addClass:function(t,e){this._classes[t]||(this._classes[t]=!0,this.style&amp;&amp;this.style._cascade(this._classes,e))},removeClass:function(t,e){this._classes[t]&amp;&amp;(delete this._classes[t],this.style&amp;&amp;this.style._cascade(this._classes,e))},setClasses:function(t,e){this._classes={};for(var s=0;s&lt;t.length;s++)this._classes[t[s]]=!0;this.style&amp;&amp;this.style._cascade(this._classes,e)},hasClass:function(t){return!!this._classes[t]},getClasses:function(){return Object.keys(this._classes)},resize:function(){var t=0,e=0;return this._container&amp;&amp;(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),this._canvas.resize(t,e),this.transform.width=t,this.transform.height=e,this.transform._constrain(),this.painter.resize(t,e),this.fire(&quot;movestart&quot;)._move().fire(&quot;resize&quot;).fire(&quot;moveend&quot;)},getBounds:function(){return new LatLngBounds(this.transform.pointLocation(new Point(0,0)),this.transform.pointLocation(this.transform.size))},project:function(t){return this.transform.locationPoint(LatLng.convert(t))},unproject:function(t){return this.transform.pointLocation(Point.convert(t))},featuresAt:function(t,e,s){return this.style.featuresAt(t,e,s),this},setStyle:function(t){return this.style&amp;&amp;this.style.off(&quot;load&quot;,this._onStyleLoad).off(&quot;error&quot;,this._forwardStyleEvent).off(&quot;change&quot;,this._onStyleChange).off(&quot;source.add&quot;,this._onSourceAdd).off(&quot;source.remove&quot;,this._onSourceRemove).off(&quot;source.load&quot;,this._onSourceUpdate).off(&quot;source.error&quot;,this._forwardSourceEvent).off(&quot;source.change&quot;,this._onSourceUpdate).off(&quot;layer.add&quot;,this._forwardLayerEvent).off(&quot;layer.remove&quot;,this._forwardLayerEvent).off(&quot;tile.add&quot;,this._forwardTileEvent).off(&quot;tile.remove&quot;,this._forwardTileEvent).off(&quot;tile.load&quot;,this.update).off(&quot;tile.error&quot;,this._forwardTileEvent)._remove(),t?(this.style=t instanceof Style?t:new Style(t,this.animationLoop),this.style.on(&quot;load&quot;,this._onStyleLoad).on(&quot;error&quot;,this._forwardStyleEvent).on(&quot;change&quot;,this._onStyleChange).on(&quot;source.add&quot;,this._onSourceAdd).on(&quot;source.remove&quot;,this._onSourceRemove).on(&quot;source.load&quot;,this._onSourceUpdate).on(&quot;source.error&quot;,this._forwardSourceEvent).on(&quot;source.change&quot;,this._onSourceUpdate).on(&quot;layer.add&quot;,this._forwardLayerEvent).on(&quot;layer.remove&quot;,this._forwardLayerEvent).on(&quot;tile.add&quot;,this._forwardTileEvent).on(&quot;tile.remove&quot;,this._forwardTileEvent).on(&quot;tile.load&quot;,this.update).on(&quot;tile.error&quot;,this._forwardTileEvent),this):(this.style=null,this)},addSource:function(t,e){return this.style.addSource(t,e),this},removeSource:function(t){return this.style.removeSource(t),this},addLayer:function(t,e){return this.style.addLayer(t,e),this.style._cascade(this._classes),this},removeLayer:function(t){return this.style.removeLayer(t),this.style._cascade(this._classes),this},setFilter:function(t,e){return this.style.setFilter(t,e),this},getFilter:function(t){return this.style.getFilter(t)},setPaintProperty:function(t,e,s,i){return this.style.setPaintProperty(t,e,s,i),this.style._cascade(this._classes),this.update(!0),this},getPaintProperty:function(t,e,s){return this.style.getPaintProperty(t,e,s)},setLayoutProperty:function(t,e,s){return this.style.setLayoutProperty(t,e,s),this},getLayoutProperty:function(t,e){return this.style.getLayoutProperty(t,e)},getContainer:function(){return this._container},getCanvas:function(){return this._canvas.getElement()},_move:function(t,e){return this.update(t).fire(&quot;move&quot;),t&amp;&amp;this.fire(&quot;zoom&quot;),e&amp;&amp;this.fire(&quot;rotate&quot;),this},_setupContainer:function(){var t=this.options.container,e=this._container=&quot;string&quot;==typeof t?document.getElementById(t):t;e&amp;&amp;e.classList.add(&quot;mapboxgl-map&quot;),this._canvas=new Canvas(this,e)},_setupPainter:function(){var t=this._canvas.getWebGLContext();return t?void(this.painter=new GLPainter(t,this.transform)):void console.error(&quot;Failed to initialize WebGL&quot;)},_contextLost:function(t){t.preventDefault(),this._frameId&amp;&amp;browser.cancelFrame(this._frameId)},_contextRestored:function(){this._setupPainter(),this.resize(),this.update()},loaded:function(){return this._styleDirty||this._sourcesDirty?!1:this.style&amp;&amp;!this.style.loaded()?!1:!0},update:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},render:function(){return this.style&amp;&amp;this._styleDirty&amp;&amp;(this._styleDirty=!1,this.style._recalculate(this.transform.zoom)),this.style&amp;&amp;this._sourcesDirty&amp;&amp;!this._sourcesDirtyTimeout&amp;&amp;(this._sourcesDirty=!1,this._sourcesDirtyTimeout=setTimeout(function(){this._sourcesDirtyTimeout=null}.bind(this),50),this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.debug,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire(&quot;render&quot;),this.loaded()&amp;&amp;!this._loaded&amp;&amp;(this._loaded=!0,this.fire(&quot;load&quot;)),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||!this.animationLoop.stopped())&amp;&amp;this._rerender(),this},remove:function(){return this._hash&amp;&amp;this._hash.remove(),browser.cancelFrame(this._frameId),clearTimeout(this._sourcesDirtyTimeout),this.setStyle(null),this},_rerender:function(){this.style&amp;&amp;!this._frameId&amp;&amp;(this._frameId=browser.frame(this.render))},_forwardStyleEvent:function(t){this.fire(&quot;style.&quot;+t.type,util.extend({style:t.target},t))},_forwardSourceEvent:function(t){this.fire(t.type,util.extend({style:t.target},t))},_forwardLayerEvent:function(t){this.fire(t.type,util.extend({style:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,util.extend({style:t.target},t))},_onStyleLoad:function(t){this.style._cascade(this._classes,{transition:!1}),this._forwardStyleEvent(t)},_onStyleChange:function(t){this.update(!0),this._forwardStyleEvent(t)},_onSourceAdd:function(t){var e=t.source;e.onAdd&amp;&amp;e.onAdd(this),this._forwardSourceEvent(t)},_onSourceRemove:function(t){var e=t.source;e.onRemove&amp;&amp;e.onRemove(this),this._forwardSourceEvent(t)},_onSourceUpdate:function(t){this.update(),this._forwardSourceEvent(t)}}),util.extendAll(Map.prototype,{_debug:!1,get debug(){return this._debug},set debug(t){this._debug=t,this.update()},_repaint:!1,get repaint(){return this._repaint},set repaint(t){this._repaint=t,this.update()},_vertices:!1,get vertices(){return this._vertices},set vertices(t){this._vertices=t,this.update()}});
},{&quot;../geo/lat_lng&quot;:16,&quot;../geo/lat_lng_bounds&quot;:17,&quot;../geo/transform&quot;:18,&quot;../render/painter&quot;:31,&quot;../style/animation_loop&quot;:44,&quot;../style/style&quot;:49,&quot;../util/browser&quot;:79,&quot;../util/canvas&quot;:80,&quot;../util/evented&quot;:84,&quot;../util/util&quot;:90,&quot;./control/attribution&quot;:68,&quot;./easings&quot;:71,&quot;./handlers&quot;:72,&quot;./hash&quot;:73,&quot;point-geometry&quot;:104}],76:[function(require,module,exports){
    &quot;use strict&quot;;function Popup(t){util.setOptions(this,t),util.bindAll([&quot;_updatePosition&quot;,&quot;_onClickClose&quot;],this)}module.exports=Popup;var util=require(&quot;../util/util&quot;),Evented=require(&quot;../util/evented&quot;),DOM=require(&quot;../util/dom&quot;),LatLng=require(&quot;../geo/lat_lng&quot;);Popup.prototype=util.inherit(Evented,{options:{closeButton:!0,closeOnClick:!0},addTo:function(t){return this._map=t,this._map.on(&quot;move&quot;,this._updatePosition),this.options.closeOnClick&amp;&amp;this._map.on(&quot;click&quot;,this._onClickClose),this._update(),this},remove:function(){return this._container&amp;&amp;this._container.parentNode.removeChild(this._container),this._map&amp;&amp;(this._map.off(&quot;move&quot;,this._updatePosition),this._map.off(&quot;click&quot;,this._onClickClose),delete this._map),this},getLatLng:function(){return this._latLng},setLatLng:function(t){return this._latLng=LatLng.convert(t),this._update(),this},setText:function(t){return this._content=document.createTextNode(t),this._updateContent(),this},setHTML:function(t){this._content=document.createDocumentFragment();var i,e=document.createElement(&quot;body&quot;);for(e.innerHTML=t;;){if(i=e.firstChild,!i)break;this._content.appendChild(i)}return this._updateContent(),this},_update:function(){this._map&amp;&amp;(this._container||(this._container=DOM.create(&quot;div&quot;,&quot;mapboxgl-popup&quot;,this._map.getContainer()),this.options.closeButton&amp;&amp;(this._closeButton=DOM.create(&quot;button&quot;,&quot;mapboxgl-popup-close-button&quot;,this._container),this._closeButton.innerHTML=&quot;&amp;#215;&quot;,this._closeButton.addEventListener(&quot;click&quot;,this._onClickClose)),this._wrapper=DOM.create(&quot;div&quot;,&quot;mapboxgl-popup-content&quot;,this._container),this._tip=DOM.create(&quot;div&quot;,&quot;mapboxgl-popup-tip&quot;,this._container)),this._updateContent(),this._updatePosition())},_updateContent:function(){if(this._content&amp;&amp;this._container){for(var t=this._wrapper;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(this._content)}},_updatePosition:function(){if(this._latLng&amp;&amp;this._container){var t=this._map.project(this._latLng).round();DOM.setTransform(this._container,&quot;translate(-50%,-100%) translate(&quot;+t.x+&quot;px,&quot;+t.y+&quot;px)&quot;)}},_onClickClose:function(){this.remove()}});
},{&quot;../geo/lat_lng&quot;:16,&quot;../util/dom&quot;:82,&quot;../util/evented&quot;:84,&quot;../util/util&quot;:90}],77:[function(require,module,exports){
    &quot;use strict&quot;;function Actor(t,e){this.target=t,this.parent=e,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener(&quot;message&quot;,this.receive,!1)}module.exports=Actor,Actor.prototype.receive=function(t){var e,s=t.data;if(&quot;&lt;response&gt;&quot;===s.type)e=this.callbacks[s.id],delete this.callbacks[s.id],e(s.error||null,s.data);else if(&quot;undefined&quot;!=typeof s.id){var i=s.id;this.parent[s.type](s.data,function(t,e,s){this.postMessage({type:&quot;&lt;response&gt;&quot;,id:String(i),error:t?String(t):null,data:e},s)}.bind(this))}else this.parent[s.type](s.data)},Actor.prototype.send=function(t,e,s,i){var a=null;s&amp;&amp;(this.callbacks[a=this.callbackID++]=s),this.postMessage({type:t,id:String(a),data:e},i)},Actor.prototype.postMessage=function(t,e){try{this.target.postMessage(t,e)}catch(s){this.target.postMessage(t)}};
},{}],78:[function(require,module,exports){
    &quot;use strict&quot;;exports.getJSON=function(e,t){var n=new XMLHttpRequest;return n.open(&quot;GET&quot;,e,!0),n.onerror=function(e){t(e)},n.onload=function(){if(n.status&gt;=200&amp;&amp;n.status&lt;300&amp;&amp;n.response){var e;try{e=JSON.parse(n.response)}catch(r){return t(r)}t(null,e)}else t(new Error(n.statusText))},n.send(),n},exports.getArrayBuffer=function(e,t){var n=new XMLHttpRequest;return n.open(&quot;GET&quot;,e,!0),n.responseType=&quot;arraybuffer&quot;,n.onerror=function(e){t(e)},n.onload=function(){n.status&gt;=200&amp;&amp;n.status&lt;300&amp;&amp;n.response?t(null,n.response):t(new Error(n.statusText))},n.send(),n},exports.getImage=function(e,t){var n=new Image;return n.crossOrigin=&quot;Anonymous&quot;,n.onload=function(){t(null,n)},n.src=e,n.getData=function(){var e=document.createElement(&quot;canvas&quot;),t=e.getContext(&quot;2d&quot;);return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height).data},n},exports.getVideo=function(e,t){var n=document.createElement(&quot;video&quot;);n.crossOrigin=&quot;Anonymous&quot;,n.onloadstart=function(){t(null,n)};for(var r=0;r&lt;e.length;r++){var o=document.createElement(&quot;source&quot;);o.src=e[r],n.appendChild(o)}return n.getData=function(){return n},n};
},{}],79:[function(require,module,exports){
    &quot;use strict&quot;;var frame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;exports.frame=function(e){return frame(e)};var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;exports.cancelFrame=function(e){cancel(e)},exports.timed=function(e,t,r){function n(a){o||(window.performance||(a=Date.now()),a&gt;=i+t?e.call(r,1):(e.call(r,(a-i)/t),exports.frame(n)))}if(!t)return e.call(r,1),null;var o=!1,i=window.performance?window.performance.now():Date.now();return exports.frame(n),function(){o=!0}},exports.supported=function(){for(var e=([function(){return&quot;undefined&quot;!=typeof window},function(){return&quot;undefined&quot;!=typeof document},function(){return!!(Array.prototype&amp;&amp;Array.prototype.every&amp;&amp;Array.prototype.filter&amp;&amp;Array.prototype.forEach&amp;&amp;Array.prototype.indexOf&amp;&amp;Array.prototype.lastIndexOf&amp;&amp;Array.prototype.map&amp;&amp;Array.prototype.some&amp;&amp;Array.prototype.reduce&amp;&amp;Array.prototype.reduceRight&amp;&amp;Array.isArray)},function(){return!(!Function.prototype||!Function.prototype.bind||!(Object.keys&amp;&amp;Object.create&amp;&amp;Object.getPrototypeOf&amp;&amp;Object.getOwnPropertyNames&amp;&amp;Object.isSealed&amp;&amp;Object.isFrozen&amp;&amp;Object.isExtensible&amp;&amp;Object.getOwnPropertyDescriptor&amp;&amp;Object.defineProperty&amp;&amp;Object.defineProperties&amp;&amp;Object.seal&amp;&amp;Object.freeze&amp;&amp;Object.preventExtensions))},function(){return&quot;JSON&quot;in window&amp;&amp;&quot;parse&quot;in JSON&amp;&amp;&quot;stringify&quot;in JSON},function(){var e=document.createElement(&quot;canvas&quot;);return&quot;supportsContext&quot;in e?e.supportsContext(&quot;webgl&quot;)||e.supportsContext(&quot;experimental-webgl&quot;):!(!window.WebGLRenderingContext||!e.getContext(&quot;webgl&quot;)&amp;&amp;!e.getContext(&quot;experimental-webgl&quot;))},function(){return&quot;Worker&quot;in window}]),t=0;t&lt;e.length;t++)if(!e[t]())return!1;return!0},exports.hardwareConcurrency=navigator.hardwareConcurrency||8,Object.defineProperty(exports,&quot;devicePixelRatio&quot;,{get:function(){return window.devicePixelRatio}});
},{}],80:[function(require,module,exports){
    &quot;use strict&quot;;function Canvas(t,a){this.canvas=document.createElement(&quot;canvas&quot;),this.canvas.style.position=&quot;absolute&quot;,this.canvas.classList.add(&quot;mapboxgl-canvas&quot;),t.options.interactive&amp;&amp;this.canvas.classList.add(&quot;mapboxgl-interactive&quot;),this.canvas.addEventListener(&quot;webglcontextlost&quot;,t._contextLost.bind(t),!1),this.canvas.addEventListener(&quot;webglcontextrestored&quot;,t._contextRestored.bind(t),!1),this.canvas.setAttribute(&quot;tabindex&quot;,0),a.appendChild(this.canvas)}module.exports=Canvas,Canvas.prototype.resize=function(t,a){var e=window.devicePixelRatio||1;this.canvas.width=e*t,this.canvas.height=e*a,this.canvas.style.width=t+&quot;px&quot;,this.canvas.style.height=a+&quot;px&quot;},Canvas.prototype.getWebGLContext=function(){return this.canvas.getContext(&quot;experimental-webgl&quot;,{antialias:!1,alpha:!0,stencil:!0,depth:!1})},Canvas.prototype.getElement=function(){return this.canvas};
},{}],81:[function(require,module,exports){
    &quot;use strict&quot;;function Dispatcher(t,r){this.actors=[],this.currentActor=0;var e,s,o;for(o=0;t&gt;o;o++){absolute?(s=new Blob([&#039;importScripts(&quot;&#039;+workerFile+&#039;&quot;);&#039;],{type:&quot;application/javascript&quot;}),e=window.URL.createObjectURL(s)):e=workerFile;var c=new window.Worker(e),i=new Actor(c,r);i.name=&quot;Worker &quot;+o,this.actors.push(i)}}var Actor=require(&quot;../actor&quot;),scripts=document.getElementsByTagName(&quot;script&quot;),workerFile=(document.currentScript||scripts[scripts.length-1]).getAttribute(&quot;src&quot;),absolute=-1!==workerFile.indexOf(&quot;http&quot;);module.exports=Dispatcher,Dispatcher.prototype={broadcast:function(t,r){for(var e=0;e&lt;this.actors.length;e++)this.actors[e].send(t,r)},send:function(t,r,e,s,o){return(&quot;number&quot;!=typeof s||isNaN(s))&amp;&amp;(s=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[s].send(t,r,e,o),s},remove:function(){for(var t=0;t&lt;this.actors.length;t++)this.actors[t].target.terminate();this.actors=[]}};
},{&quot;../actor&quot;:77}],82:[function(require,module,exports){
    &quot;use strict&quot;;function testProp(e){for(var t=0;t&lt;e.length;t++)if(e[t]in docStyle)return e[t]}exports.create=function(e,t,r){var o=document.createElement(e);return t&amp;&amp;(o.className=t),r&amp;&amp;r.appendChild(o),o};var docStyle=document.documentElement.style,selectProp=testProp([&quot;userSelect&quot;,&quot;MozUserSelect&quot;,&quot;WebkitUserSelect&quot;,&quot;msUserSelect&quot;]),userSelect;exports.disableDrag=function(){selectProp&amp;&amp;(userSelect=docStyle[selectProp],docStyle[selectProp]=&quot;none&quot;)},exports.enableDrag=function(){selectProp&amp;&amp;(docStyle[selectProp]=userSelect)};var transformProp=testProp([&quot;transform&quot;,&quot;WebkitTransform&quot;]);exports.setTransform=function(e,t){e.style[transformProp]=t};
},{}],83:[function(require,module,exports){
    &quot;use strict&quot;;module.exports={HTTP_URL:&quot;http://a.tiles.mapbox.com&quot;,HTTPS_URL:&quot;https://a.tiles.mapbox.com&quot;,FORCE_HTTPS:!1,REQUIRE_ACCESS_TOKEN:!0};
},{}],84:[function(require,module,exports){
    &quot;use strict&quot;;var util=require(&quot;./util&quot;);module.exports={on:function(t,e){return this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){if(!t)return delete this._events,this;if(!this.listens(t))return this;if(e){var s=this._events[t].indexOf(e);s&gt;=0&amp;&amp;this._events[t].splice(s,1),this._events[t].length||delete this._events[t]}else delete this._events[t];return this},once:function(t,e){var s=function(i){this.off(t,s),e.call(this,i)}.bind(this);return this.on(t,s),this},fire:function(t,e){if(!this.listens(t))return this;e=util.extend({},e),util.extend(e,{type:t,target:this});for(var s=this._events[t].slice(),i=0;i&lt;s.length;i++)s[i].call(this,e);return this},listens:function(t){return!(!this._events||!this._events[t])}};
},{&quot;./util&quot;:90}],85:[function(require,module,exports){
    &quot;use strict&quot;;function Glyphs(a,e){this.stacks=a.readFields(readFontstacks,{},e)}function readFontstacks(a,e,r){if(1===a){var t=r.readMessage(readFontstack,{glyphs:{}});e[t.name]=t}}function readFontstack(a,e,r){if(1===a)e.name=r.readString();else if(2===a)e.range=r.readString();else if(3===a){var t=r.readMessage(readGlyph,{});e.glyphs[t.id]=t}}function readGlyph(a,e,r){1===a?e.id=r.readVarint():2===a?e.bitmap=r.readBytes():3===a?e.width=r.readVarint():4===a?e.height=r.readVarint():5===a?e.left=r.readSVarint():6===a?e.top=r.readSVarint():7===a&amp;&amp;(e.advance=r.readVarint())}module.exports=Glyphs;
},{}],86:[function(require,module,exports){
    &quot;use strict&quot;;function interpolate(t,e,n){return t*(1-n)+e*n}module.exports=interpolate,interpolate.number=interpolate,interpolate.vec2=function(t,e,n){return[interpolate(t[0],e[0],n),interpolate(t[1],e[1],n)]},interpolate.color=function(t,e,n){return[interpolate(t[0],e[0],n),interpolate(t[1],e[1],n),interpolate(t[2],e[2],n),interpolate(t[3],e[3],n)]},interpolate.array=function(t,e,n){return t.map(function(t,r){return interpolate(t,e[r],n)})};
},{}],87:[function(require,module,exports){
    &quot;use strict&quot;;function normalizeURL(e,o,r){if(r=r||config.ACCESS_TOKEN,!r&amp;&amp;config.REQUIRE_ACCESS_TOKEN)throw new Error(&quot;An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens&quot;);var n=config.FORCE_HTTPS||&quot;undefined&quot;!=typeof document&amp;&amp;&quot;https:&quot;===document.location.protocol;if(e=e.replace(/^mapbox:\/\//,(n?config.HTTPS_URL:config.HTTP_URL)+o),e+=-1!==e.indexOf(&quot;?&quot;)?&quot;&amp;access_token=&quot;:&quot;?access_token=&quot;,config.REQUIRE_ACCESS_TOKEN){if(&quot;s&quot;===r[0])throw new Error(&quot;Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens&quot;);e+=r}return e}var config=require(&quot;./config&quot;),browser=require(&quot;./browser&quot;);module.exports.normalizeStyleURL=function(e,o){var r=e.match(/^mapbox:\/\/([^.]+)/);return r?normalizeURL(e,&quot;/styles/v1/&quot;+r[1]+&quot;/&quot;,o):e},module.exports.normalizeSourceURL=function(e,o){return e.match(/^mapbox:\/\//)?(e=normalizeURL(e+&quot;.json&quot;,&quot;/v4/&quot;,o),0===e.indexOf(&quot;https&quot;)&amp;&amp;(e+=&quot;&amp;secure&quot;),e):e},module.exports.normalizeGlyphsURL=function(e,o){return e.match(/^mapbox:\/\//)?normalizeURL(e,&quot;/v4/&quot;,o):e},module.exports.normalizeTileURL=function(e,o){return o&amp;&amp;o.match(/^mapbox:\/\//)?e.replace(/\.((?:png|jpg)\d*)(?=$|\?)/,browser.devicePixelRatio&gt;=2?&quot;@2x.$1&quot;:&quot;.$1&quot;):e};
},{&quot;./browser&quot;:79,&quot;./config&quot;:83}],88:[function(require,module,exports){
    &quot;use strict&quot;;function MRUCache(t,e){this.max=t,this.onRemove=e,this.reset()}module.exports=MRUCache,MRUCache.prototype.reset=function(){for(var t in this.list)this.onRemove(this.list[t]);return this.list={},this.order=[],this},MRUCache.prototype.add=function(t,e){if(this.list[t]=e,this.order.push(t),this.order.length&gt;this.max){var i=this.get(this.order[0]);i&amp;&amp;this.onRemove(i)}return this},MRUCache.prototype.has=function(t){return t in this.list},MRUCache.prototype.keys=function(){return this.order},MRUCache.prototype.get=function(t){if(!this.has(t))return null;var e=this.list[t];return delete this.list[t],this.order.splice(this.order.indexOf(t),1),e};
},{}],89:[function(require,module,exports){
    &quot;use strict&quot;;function resolveTokens(e,t){for(var r,n,o=t;r=o.match(tokenPattern);)n=&quot;undefined&quot;==typeof e[r[1]]?&quot;&quot;:e[r[1]],o=o.replace(r[0],n);return o}module.exports=resolveTokens;var tokenPattern=/{([^{}()\[\]&lt;&gt;$=:;.,^]+)}/;
},{}],90:[function(require,module,exports){
    &quot;use strict&quot;;var UnitBezier=require(&quot;unitbezier&quot;);exports.easeCubicInOut=function(r){if(0&gt;=r)return 0;if(r&gt;=1)return 1;var t=r*r,n=t*r;return 4*(.5&gt;r?n:3*(r-t)+n-.75)},exports.bezier=function(r,t,n,e){var o=new UnitBezier(r,t,n,e);return function(r){return o.solve(r)}},exports.ease=exports.bezier(.25,.1,.25,1),exports.premultiply=function(r){return r[0]*=r[3],r[1]*=r[3],r[2]*=r[3],r},exports.clamp=function(r,t,n){return Math.min(n,Math.max(t,r))},exports.wrap=function(r,t,n){var e=n-t;return r===n?r:((r-t)%e+e)%e+t},exports.coalesce=function(){for(var r=0;r&lt;arguments.length;r++){var t=arguments[r];if(null!==t&amp;&amp;void 0!==t)return t}},exports.asyncEach=function(r,t,n){function e(){0===--o&amp;&amp;n()}var o=r.length;if(0===o)return n();for(var i=0;i&lt;r.length;i++)t(r[i],e)},exports.keysDifference=function(r,t){var n=[];for(var e in r)e in t||n.push(e);return n},exports.extend=function(r){for(var t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var e in n)r[e]=n[e]}return r},exports.extendAll=function(r,t){for(var n in t)Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n));return r},exports.inherit=function(r,t){var n=&quot;function&quot;==typeof r?r.prototype:r,e=Object.create(n);return exports.extendAll(e,t),e},exports.pick=function(r){for(var t={},n=1;n&lt;arguments.length;n++){var e=arguments[n];e in r&amp;&amp;(t[e]=r[e])}return t};var id=1;exports.uniqueId=function(){return id++},exports.throttle=function(r,t,n){var e,o,i,u;return u=function(){e=!1,o&amp;&amp;(i.apply(n,o),o=!1)},i=function(){e?o=arguments:(r.apply(n,arguments),setTimeout(u,t),e=!0)}},exports.debounce=function(r,t){var n,e;return function(){e=arguments,clearTimeout(n),n=setTimeout(function(){r.apply(null,e)},t)}},exports.bindAll=function(r,t){r.forEach(function(r){t[r]=t[r].bind(t)})},exports.setOptions=function(r,t){r.hasOwnProperty(&quot;options&quot;)||(r.options=r.options?Object.create(r.options):{});for(var n in t)r.options[n]=t[n];return r.options};
},{&quot;unitbezier&quot;:106}],91:[function(require,module,exports){
    function clamp_css_byte(e){return e=Math.round(e),0&gt;e?0:e&gt;255?255:e}function clamp_css_float(e){return 0&gt;e?0:e&gt;1?1:e}function parse_css_int(e){return clamp_css_byte(&quot;%&quot;===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function parse_css_float(e){return clamp_css_float(&quot;%&quot;===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function css_hue_to_rgb(e,r,l){return 0&gt;l?l+=1:l&gt;1&amp;&amp;(l-=1),1&gt;6*l?e+(r-e)*l*6:1&gt;2*l?r:2&gt;3*l?e+(r-e)*(2/3-l)*6:e}function parseCSSColor(e){var r=e.replace(/ /g,&quot;&quot;).toLowerCase();if(r in kCSSColorTable)return kCSSColorTable[r].slice();if(&quot;#&quot;===r[0]){if(4===r.length){var l=parseInt(r.substr(1),16);return l&gt;=0&amp;&amp;4095&gt;=l?[(3840&amp;l)&gt;&gt;4|(3840&amp;l)&gt;&gt;8,240&amp;l|(240&amp;l)&gt;&gt;4,15&amp;l|(15&amp;l)&lt;&lt;4,1]:null}if(7===r.length){var l=parseInt(r.substr(1),16);return l&gt;=0&amp;&amp;16777215&gt;=l?[(16711680&amp;l)&gt;&gt;16,(65280&amp;l)&gt;&gt;8,255&amp;l,1]:null}return null}var a=r.indexOf(&quot;(&quot;),t=r.indexOf(&quot;)&quot;);if(-1!==a&amp;&amp;t+1===r.length){var n=r.substr(0,a),s=r.substr(a+1,t-(a+1)).split(&quot;,&quot;),o=1;switch(n){case&quot;rgba&quot;:if(4!==s.length)return null;o=parse_css_float(s.pop());case&quot;rgb&quot;:return 3!==s.length?null:[parse_css_int(s[0]),parse_css_int(s[1]),parse_css_int(s[2]),o];case&quot;hsla&quot;:if(4!==s.length)return null;o=parse_css_float(s.pop());case&quot;hsl&quot;:if(3!==s.length)return null;var i=(parseFloat(s[0])%360+360)%360/360,u=parse_css_float(s[1]),g=parse_css_float(s[2]),d=.5&gt;=g?g*(u+1):g+u-g*u,c=2*g-d;return[clamp_css_byte(255*css_hue_to_rgb(c,d,i+1/3)),clamp_css_byte(255*css_hue_to_rgb(c,d,i)),clamp_css_byte(255*css_hue_to_rgb(c,d,i-1/3)),o];default:return null}}return null}var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{exports.parseCSSColor=parseCSSColor}catch(e){}
},{}],92:[function(require,module,exports){
    &quot;use strict&quot;;function infix(t){return function(n,r,i){return&quot;$type&quot;===r?&quot;t&quot;+t+VectorTileFeatureTypes.indexOf(i):&quot;p[&quot;+JSON.stringify(r)+&quot;]&quot;+t+JSON.stringify(i)}}function strictInfix(t){var n=infix(t);return function(t,r,i){return&quot;$type&quot;===r?n(t,r,i):&quot;typeof(p[&quot;+JSON.stringify(r)+&quot;]) === typeof(&quot;+JSON.stringify(i)+&quot;) &amp;&amp; &quot;+n(t,r,i)}}function compile(t){return operators[t[0]].apply(t,t)}function truth(){return!0}var VectorTileFeatureTypes=[&quot;Unknown&quot;,&quot;Point&quot;,&quot;LineString&quot;,&quot;Polygon&quot;],operators={&quot;==&quot;:infix(&quot;===&quot;),&quot;!=&quot;:infix(&quot;!==&quot;),&quot;&gt;&quot;:strictInfix(&quot;&gt;&quot;),&quot;&lt;&quot;:strictInfix(&quot;&lt;&quot;),&quot;&lt;=&quot;:strictInfix(&quot;&lt;=&quot;),&quot;&gt;=&quot;:strictInfix(&quot;&gt;=&quot;),&quot;in&quot;:function(t,n){return Array.prototype.slice.call(arguments,2).map(function(r){return&quot;(&quot;+operators[&quot;==&quot;](t,n,r)+&quot;)&quot;}).join(&quot;||&quot;)||&quot;false&quot;},&quot;!in&quot;:function(){return&quot;!(&quot;+operators[&quot;in&quot;].apply(this,arguments)+&quot;)&quot;},any:function(){return Array.prototype.slice.call(arguments,1).map(function(t){return&quot;(&quot;+compile(t)+&quot;)&quot;}).join(&quot;||&quot;)||&quot;false&quot;},all:function(){return Array.prototype.slice.call(arguments,1).map(function(t){return&quot;(&quot;+compile(t)+&quot;)&quot;}).join(&quot;&amp;&amp;&quot;)||&quot;true&quot;},none:function(){return&quot;!(&quot;+operators.any.apply(this,arguments)+&quot;)&quot;}};module.exports=function(t){if(!t)return truth;var n=&quot;var p = f.properties || f.tags || {}, t = f.type; return &quot;+compile(t)+&quot;;&quot;;return new Function(&quot;f&quot;,n)};
},{}],93:[function(require,module,exports){
    &quot;use strict&quot;;function clip(e,n,t,i,u,l){t/=n,i/=n;for(var r=[],p=0;p&lt;e.length;p++){var s,h,c=e[p],o=c.geometry,a=c.type;if(c.min){if(s=c.min[u],h=c.max[u],s&gt;=t&amp;&amp;i&gt;=h){r.push(c);continue}if(s&gt;i||t&gt;h)continue}var g=1===a?clipPoints(o,t,i,u):clipGeometry(o,t,i,u,l,3===a);g.length&amp;&amp;r.push({geometry:g,type:a,tags:e[p].tags||null})}return r.length?r:null}function clipPoints(e,n,t,i){for(var u=[],l=0;l&lt;e.length;l++){var r=e[l],p=r[i];p&gt;=n&amp;&amp;t&gt;=p&amp;&amp;u.push(r)}return u}function clipGeometry(e,n,t,i,u,l){for(var r=[],p=0;p&lt;e.length;p++){var s,h,c=0,o=0,a=null,g=e[p],f=g.area,m=g.dist,v=g.length,w=[];for(h=0;v-1&gt;h;h++)s=a||g[h],a=g[h+1],c=o||s[i],o=a[i],n&gt;c?o&gt;t?(w.push(u(s,a,n),u(s,a,t)),l||(w=newSlice(r,w,f,m))):o&gt;=n&amp;&amp;w.push(u(s,a,n)):c&gt;t?n&gt;o?(w.push(u(s,a,t),u(s,a,n)),l||(w=newSlice(r,w,f,m))):t&gt;=o&amp;&amp;w.push(u(s,a,t)):(w.push(s),n&gt;o?(w.push(u(s,a,n)),l||(w=newSlice(r,w,f,m))):o&gt;t&amp;&amp;(w.push(u(s,a,t)),l||(w=newSlice(r,w,f,m))));s=g[v-1],c=s[i],c&gt;=n&amp;&amp;t&gt;=c&amp;&amp;w.push(s),l&amp;&amp;w[0]!==w[w.length-1]&amp;&amp;w.push(w[0]),newSlice(r,w,f,m)}return r}function newSlice(e,n,t,i){return n.length&amp;&amp;(n.area=t,n.dist=i,e.push(n)),[]}module.exports=clip;
},{}],94:[function(require,module,exports){
    &quot;use strict&quot;;function convert(e,t){var r=[];if(&quot;FeatureCollection&quot;===e.type)for(var o=0;o&lt;e.features.length;o++)convertFeature(r,e.features[o],t);else&quot;Feature&quot;===e.type?convertFeature(r,e,t):convertFeature(r,{geometry:e},t);return r}function convertFeature(e,t,r){var o,n,a,i=t.geometry,c=i.type,l=i.coordinates,u=t.properties;if(&quot;Point&quot;===c)e.push(create(u,1,[projectPoint(l)]));else if(&quot;MultiPoint&quot;===c)e.push(create(u,1,project(l)));else if(&quot;LineString&quot;===c)e.push(create(u,2,[project(l,r)]));else if(&quot;MultiLineString&quot;===c||&quot;Polygon&quot;===c){for(a=[],o=0;o&lt;l.length;o++)a.push(project(l[o],r));e.push(create(u,&quot;Polygon&quot;===c?3:2,a))}else if(&quot;MultiPolygon&quot;===c){for(a=[],o=0;o&lt;l.length;o++)for(n=0;n&lt;l[o].length;n++)a.push(project(l[o][n],r));e.push(create(u,3,a))}else if(&quot;GeometryCollection&quot;===c)for(o=0;o&lt;i.geometries.length;o++)convertFeature(e,{geometry:i.geometries[o],properties:u},r);else console.warn(&quot;Unsupported GeoJSON type: &quot;+i.type)}function create(e,t,r){var o={geometry:r,type:t,tags:e||null,min:[1,1],max:[0,0]};return calcBBox(o),o}function project(e,t){for(var r=[],o=0;o&lt;e.length;o++)r.push(projectPoint(e[o]));return t&amp;&amp;(simplify(r,t),calcSize(r)),r}function projectPoint(e){var t=Math.sin(e[1]*Math.PI/180),r=e[0]/360+.5,o=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return[r,o,0]}function calcSize(e){for(var t,r,o=0,n=0,a=0;a&lt;e.length-1;a++)t=r||e[a],r=e[a+1],o+=t[0]*r[1]-r[0]*t[1],n+=Math.abs(r[0]-t[0])+Math.abs(r[1]-t[1]);e.area=Math.abs(o/2),e.dist=n}function calcBBox(e){var t=e.geometry,r=e.min,o=e.max;if(1===e.type)calcRingBBox(r,o,t);else for(var n=0;n&lt;t.length;n++)calcRingBBox(r,o,t[n]);return e}function calcRingBBox(e,t,r){for(var o,n=0;n&lt;r.length;n++)o=r[n],e[0]=Math.min(o[0],e[0]),t[0]=Math.max(o[0],t[0]),e[1]=Math.min(o[1],e[1]),t[1]=Math.max(o[1],t[1])}module.exports=convert;var simplify=require(&quot;./simplify&quot;);
},{&quot;./simplify&quot;:96}],95:[function(require,module,exports){
    &quot;use strict&quot;;function geojsonvt(e,t){return new GeoJSONVT(e,t)}function GeoJSONVT(e,t){t=this.options=extend(Object.create(this.options),t);var i=t.debug;i&amp;&amp;console.time(&quot;preprocess data&quot;);var o=1&lt;&lt;t.baseZoom,s=convert(e,t.tolerance/(o*t.extent));this.tiles={},i&amp;&amp;(console.timeEnd(&quot;preprocess data&quot;),console.time(&quot;generate tiles up to z&quot;+t.maxZoom),this.stats={},this.total=0),this.splitTile(s,0,0,0),i&amp;&amp;(console.log(&quot;features: %d, points: %d&quot;,this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(&quot;generate tiles up to z&quot;+t.maxZoom),console.log(&quot;tiles generated:&quot;,this.total,JSON.stringify(this.stats)))}function isClippedSquare(e,t,i){if(1!==e.length)return!1;var o=e[0];if(3!==o.type||o.geometry.length&gt;1)return!1;for(var s=0;s&lt;o.geometry[0].length;s++){var n=o.geometry[0][s];if(n[0]!==-i&amp;&amp;n[0]!==t+i||n[1]!==-i&amp;&amp;n[1]!==t+i)return!1}return!0}function toID(e,t,i){return 32*((1&lt;&lt;e)*i+t)+e}function intersectX(e,t,i){return[i,(i-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function intersectY(e,t,i){return[(i-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],i,1]}function extend(e,t){for(var i in t)e[i]=t[i];return e}module.exports=geojsonvt;var convert=require(&quot;./convert&quot;),clip=require(&quot;./clip&quot;),createTile=require(&quot;./tile&quot;);GeoJSONVT.prototype.options={baseZoom:14,maxZoom:4,maxPoints:100,tolerance:3,extent:4096,buffer:64,debug:0},GeoJSONVT.prototype.splitTile=function(e,t,i,o,s,n,r){for(var l=[e,t,i,o],c=this.options,u=c.debug,a=c.extent,p=c.buffer;l.length;){e=l.shift(),t=l.shift(),i=l.shift(),o=l.shift();var d=1&lt;&lt;t,f=toID(t,i,o),m=this.tiles[f],h=t===c.baseZoom?0:c.tolerance/(d*a);if(!m&amp;&amp;(u&gt;1&amp;&amp;console.time(&quot;creation&quot;),m=this.tiles[f]=createTile(e,d,i,o,h,a,t===c.baseZoom),u)){u&gt;1&amp;&amp;(console.log(&quot;tile z%d-%d-%d (features: %d, points: %d, simplified: %d)&quot;,t,i,o,m.numFeatures,m.numPoints,m.numSimplified),console.timeEnd(&quot;creation&quot;));var g=&quot;z&quot;+t+&quot;:&quot;;this.stats[g]=(this.stats[g]||0)+1,this.total++}if(!s&amp;&amp;(t===c.maxZoom||m.numPoints&lt;=c.maxPoints||isClippedSquare(m.features,a,p))||t===c.baseZoom||t===s)m.source=e;else{m.source=s?e:null,u&gt;1&amp;&amp;console.time(&quot;clipping&quot;);var v,b,x,T,S,Z,y,O,q,z=.5*p/a,J=.5-z,N=.5+z,E=1+z;s&amp;&amp;(y=1&lt;&lt;s-t,O=.5&gt;n/y-i,q=.5&gt;r/y-o),v=b=x=T=S=Z=null,(!s||O)&amp;&amp;(S=clip(e,d,i-z,i+N,0,intersectX)),s&amp;&amp;O||(Z=clip(e,d,i+J,i+E,0,intersectX)),S&amp;&amp;((!s||q)&amp;&amp;(v=clip(S,d,o-z,o+N,1,intersectY)),s&amp;&amp;q||(b=clip(S,d,o+J,o+E,1,intersectY))),Z&amp;&amp;((!s||q)&amp;&amp;(x=clip(Z,d,o-z,o+N,1,intersectY)),s&amp;&amp;q||(T=clip(Z,d,o+J,o+E,1,intersectY))),u&gt;1&amp;&amp;console.timeEnd(&quot;clipping&quot;),v&amp;&amp;l.push(v,t+1,2*i,2*o),b&amp;&amp;l.push(b,t+1,2*i,2*o+1),x&amp;&amp;l.push(x,t+1,2*i+1,2*o),T&amp;&amp;l.push(T,t+1,2*i+1,2*o+1)}}},GeoJSONVT.prototype.getTile=function(e,t,i){var o=toID(e,t,i);if(this.tiles[o])return this.tiles[o];var s=this.options,n=s.debug;n&gt;1&amp;&amp;console.log(&quot;drilling down to z%d-%d-%d&quot;,e,t,i);for(var r,l=e,c=t,u=i;!r&amp;&amp;l&gt;0;)l--,c=Math.floor(c/2),u=Math.floor(u/2),r=this.tiles[toID(l,c,u)];if(n&gt;1&amp;&amp;console.log(&quot;found parent tile z%d-%d-%d&quot;,l,c,u),r.source){if(isClippedSquare(r.features,s.extent,s.buffer))return r;n&amp;&amp;console.time(&quot;drilling down&quot;),this.splitTile(r.source,l,c,u,e,t,i),n&amp;&amp;console.timeEnd(&quot;drilling down&quot;)}return this.tiles[o]};
},{&quot;./clip&quot;:93,&quot;./convert&quot;:94,&quot;./tile&quot;:97}],96:[function(require,module,exports){
    &quot;use strict&quot;;function simplify(t,i){var e,r,o,p,s=i*i,f=t.length,n=0,u=f-1,g=[];for(t[n][2]=1,t[u][2]=1;u;){for(r=0,e=n+1;u&gt;e;e++)o=getSqSegDist(t[e],t[n],t[u]),o&gt;r&amp;&amp;(p=e,r=o);r&gt;s&amp;&amp;(t[p][2]=r,g.push(n,p,p,u)),u=g.pop(),n=g.pop()}}function getSqSegDist(t,i,e){var r=i[0],o=i[1],p=e[0],s=e[1],f=t[0],n=t[1],u=p-r,g=s-o;if(0!==u||0!==g){var l=((f-r)*u+(n-o)*g)/(u*u+g*g);l&gt;1?(r=p,o=s):l&gt;0&amp;&amp;(r+=u*l,o+=g*l)}return u=f-r,g=n-o,u*u+g*g}module.exports=simplify;
},{}],97:[function(require,module,exports){
    &quot;use strict&quot;;function createTile(e,t,n,r,u,i,o){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null},a=0;a&lt;e.length;a++)s.numFeatures++,addFeature(s,e[a],t,n,r,u,i,o);return s}function addFeature(e,t,n,r,u,i,o,s){var a,l,m,f,h=t.geometry,d=t.type,g=[],p=i*i;if(1===d)for(a=0;a&lt;h.length;a++)g.push(transformPoint(h[a],n,r,u,o)),e.numPoints++,e.numSimplified++;else for(a=0;a&lt;h.length;a++)if(m=h[a],s||!(2===d&amp;&amp;m.dist&lt;i||3===d&amp;&amp;m.area&lt;p)){var c=[];for(l=0;l&lt;m.length;l++)f=m[l],(s||f[2]&gt;p)&amp;&amp;(c.push(transformPoint(f,n,r,u,o)),e.numSimplified++),e.numPoints++;g.push(c)}else e.numPoints+=m.length;g.length&amp;&amp;e.features.push({geometry:g,type:d,tags:t.tags||null})}function transformPoint(e,t,n,r,u){var i=Math.round(u*(e[0]*t-n)),o=Math.round(u*(e[1]*t-r));return[i,o]}module.exports=createTile;
},{}],98:[function(require,module,exports){
    !function(t){&quot;use strict&quot;;var n={};&quot;undefined&quot;==typeof exports?&quot;function&quot;==typeof define&amp;&amp;&quot;object&quot;==typeof define.amd&amp;&amp;define.amd?(n.exports={},define(function(){return n.exports})):n.exports=&quot;undefined&quot;!=typeof window?window:t:n.exports=exports,function(t){if(!n)var n=1e-6;if(!r)var r=&quot;undefined&quot;!=typeof Float32Array?Float32Array:Array;if(!e)var e=Math.random;var a={};a.setMatrixArrayType=function(t){r=t},&quot;undefined&quot;!=typeof t&amp;&amp;(t.glMatrix=a);var u=Math.PI/180;a.toRadian=function(t){return t*u};var o={};o.create=function(){var t=new r(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var n=new r(2);return n[0]=t[0],n[1]=t[1],n},o.fromValues=function(t,n){var e=new r(2);return e[0]=t,e[1]=n,e},o.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},o.set=function(t,n,r){return t[0]=n,t[1]=r,t},o.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t},o.subtract=function(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t},o.sub=o.subtract,o.multiply=function(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t},o.mul=o.multiply,o.divide=function(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t},o.div=o.divide,o.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t},o.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t},o.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t},o.scaleAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t},o.distance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1];return Math.sqrt(r*r+e*e)},o.dist=o.distance,o.squaredDistance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1];return r*r+e*e},o.sqrDist=o.squaredDistance,o.length=function(t){var n=t[0],r=t[1];return Math.sqrt(n*n+r*r)},o.len=o.length,o.squaredLength=function(t){var n=t[0],r=t[1];return n*n+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},o.normalize=function(t,n){var r=n[0],e=n[1],a=r*r+e*e;return a&gt;0&amp;&amp;(a=1/Math.sqrt(a),t[0]=n[0]*a,t[1]=n[1]*a),t},o.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},o.cross=function(t,n,r){var e=n[0]*r[1]-n[1]*r[0];return t[0]=t[1]=0,t[2]=e,t},o.lerp=function(t,n,r,e){var a=n[0],u=n[1];return t[0]=a+e*(r[0]-a),t[1]=u+e*(r[1]-u),t},o.random=function(t,n){n=n||1;var r=2*e()*Math.PI;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t},o.transformMat2=function(t,n,r){var e=n[0],a=n[1];return t[0]=r[0]*e+r[2]*a,t[1]=r[1]*e+r[3]*a,t},o.transformMat2d=function(t,n,r){var e=n[0],a=n[1];return t[0]=r[0]*e+r[2]*a+r[4],t[1]=r[1]*e+r[3]*a+r[5],t},o.transformMat3=function(t,n,r){var e=n[0],a=n[1];return t[0]=r[0]*e+r[3]*a+r[6],t[1]=r[1]*e+r[4]*a+r[7],t},o.transformMat4=function(t,n,r){var e=n[0],a=n[1];return t[0]=r[0]*e+r[4]*a+r[12],t[1]=r[1]*e+r[5]*a+r[13],t},o.forEach=function(){var t=o.create();return function(n,r,e,a,u,o){var i,c;for(r||(r=2),e||(e=0),c=a?Math.min(a*r+e,n.length):n.length,i=e;c&gt;i;i+=r)t[0]=n[i],t[1]=n[i+1],u(t,t,o),n[i]=t[0],n[i+1]=t[1];return n}}(),o.str=function(t){return&quot;vec2(&quot;+t[0]+&quot;, &quot;+t[1]+&quot;)&quot;},&quot;undefined&quot;!=typeof t&amp;&amp;(t.vec2=o);var i={};i.create=function(){var t=new r(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var n=new r(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},i.fromValues=function(t,n,e){var a=new r(3);return a[0]=t,a[1]=n,a[2]=e,a},i.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},i.set=function(t,n,r,e){return t[0]=n,t[1]=r,t[2]=e,t},i.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},i.subtract=function(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t},i.sub=i.subtract,i.multiply=function(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t},i.mul=i.multiply,i.divide=function(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t},i.div=i.divide,i.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t},i.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t},i.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t},i.scaleAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t},i.distance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],a=n[2]-t[2];return Math.sqrt(r*r+e*e+a*a)},i.dist=i.distance,i.squaredDistance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],a=n[2]-t[2];return r*r+e*e+a*a},i.sqrDist=i.squaredDistance,i.length=function(t){var n=t[0],r=t[1],e=t[2];return Math.sqrt(n*n+r*r+e*e)},i.len=i.length,i.squaredLength=function(t){var n=t[0],r=t[1],e=t[2];return n*n+r*r+e*e},i.sqrLen=i.squaredLength,i.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},i.normalize=function(t,n){var r=n[0],e=n[1],a=n[2],u=r*r+e*e+a*a;return u&gt;0&amp;&amp;(u=1/Math.sqrt(u),t[0]=n[0]*u,t[1]=n[1]*u,t[2]=n[2]*u),t},i.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},i.cross=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=r[0],i=r[1],c=r[2];return t[0]=a*c-u*i,t[1]=u*o-e*c,t[2]=e*i-a*o,t},i.lerp=function(t,n,r,e){var a=n[0],u=n[1],o=n[2];return t[0]=a+e*(r[0]-a),t[1]=u+e*(r[1]-u),t[2]=o+e*(r[2]-o),t},i.random=function(t,n){n=n||1;var r=2*e()*Math.PI,a=2*e()-1,u=Math.sqrt(1-a*a)*n;return t[0]=Math.cos(r)*u,t[1]=Math.sin(r)*u,t[2]=a*n,t},i.transformMat4=function(t,n,r){var e=n[0],a=n[1],u=n[2];return t[0]=r[0]*e+r[4]*a+r[8]*u+r[12],t[1]=r[1]*e+r[5]*a+r[9]*u+r[13],t[2]=r[2]*e+r[6]*a+r[10]*u+r[14],t},i.transformMat3=function(t,n,r){var e=n[0],a=n[1],u=n[2];return t[0]=e*r[0]+a*r[3]+u*r[6],t[1]=e*r[1]+a*r[4]+u*r[7],t[2]=e*r[2]+a*r[5]+u*r[8],t},i.transformQuat=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=r[0],i=r[1],c=r[2],f=r[3],s=f*e+i*u-c*a,h=f*a+c*e-o*u,v=f*u+o*a-i*e,M=-o*e-i*a-c*u;return t[0]=s*f+M*-o+h*-c-v*-i,t[1]=h*f+M*-i+v*-o-s*-c,t[2]=v*f+M*-c+s*-i-h*-o,t},i.rotateX=function(t,n,r,e){var a=[],u=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],u[0]=a[0],u[1]=a[1]*Math.cos(e)-a[2]*Math.sin(e),u[2]=a[1]*Math.sin(e)+a[2]*Math.cos(e),t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},i.rotateY=function(t,n,r,e){var a=[],u=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],u[0]=a[2]*Math.sin(e)+a[0]*Math.cos(e),u[1]=a[1],u[2]=a[2]*Math.cos(e)-a[0]*Math.sin(e),t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},i.rotateZ=function(t,n,r,e){var a=[],u=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],u[0]=a[0]*Math.cos(e)-a[1]*Math.sin(e),u[1]=a[0]*Math.sin(e)+a[1]*Math.cos(e),u[2]=a[2],t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t},i.forEach=function(){var t=i.create();return function(n,r,e,a,u,o){var i,c;for(r||(r=3),e||(e=0),c=a?Math.min(a*r+e,n.length):n.length,i=e;c&gt;i;i+=r)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],u(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2];return n}}(),i.str=function(t){return&quot;vec3(&quot;+t[0]+&quot;, &quot;+t[1]+&quot;, &quot;+t[2]+&quot;)&quot;},&quot;undefined&quot;!=typeof t&amp;&amp;(t.vec3=i);var c={};c.create=function(){var t=new r(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},c.clone=function(t){var n=new r(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},c.fromValues=function(t,n,e,a){var u=new r(4);return u[0]=t,u[1]=n,u[2]=e,u[3]=a,u},c.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},c.set=function(t,n,r,e,a){return t[0]=n,t[1]=r,t[2]=e,t[3]=a,t},c.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},c.subtract=function(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t},c.sub=c.subtract,c.multiply=function(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t[3]=n[3]*r[3],t},c.mul=c.multiply,c.divide=function(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t[3]=n[3]/r[3],t},c.div=c.divide,c.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t[3]=Math.min(n[3],r[3]),t},c.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t[3]=Math.max(n[3],r[3]),t},c.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},c.scaleAndAdd=function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t},c.distance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],a=n[2]-t[2],u=n[3]-t[3];return Math.sqrt(r*r+e*e+a*a+u*u)},c.dist=c.distance,c.squaredDistance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],a=n[2]-t[2],u=n[3]-t[3];return r*r+e*e+a*a+u*u},c.sqrDist=c.squaredDistance,c.length=function(t){var n=t[0],r=t[1],e=t[2],a=t[3];return Math.sqrt(n*n+r*r+e*e+a*a)},c.len=c.length,c.squaredLength=function(t){var n=t[0],r=t[1],e=t[2],a=t[3];return n*n+r*r+e*e+a*a},c.sqrLen=c.squaredLength,c.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},c.normalize=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=r*r+e*e+a*a+u*u;return o&gt;0&amp;&amp;(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o,t[3]=n[3]*o),t},c.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},c.lerp=function(t,n,r,e){var a=n[0],u=n[1],o=n[2],i=n[3];return t[0]=a+e*(r[0]-a),t[1]=u+e*(r[1]-u),t[2]=o+e*(r[2]-o),t[3]=i+e*(r[3]-i),t},c.random=function(t,n){return n=n||1,t[0]=e(),t[1]=e(),t[2]=e(),t[3]=e(),c.normalize(t,t),c.scale(t,t,n),t},c.transformMat4=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3];return t[0]=r[0]*e+r[4]*a+r[8]*u+r[12]*o,t[1]=r[1]*e+r[5]*a+r[9]*u+r[13]*o,t[2]=r[2]*e+r[6]*a+r[10]*u+r[14]*o,t[3]=r[3]*e+r[7]*a+r[11]*u+r[15]*o,t},c.transformQuat=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=r[0],i=r[1],c=r[2],f=r[3],s=f*e+i*u-c*a,h=f*a+c*e-o*u,v=f*u+o*a-i*e,M=-o*e-i*a-c*u;return t[0]=s*f+M*-o+h*-c-v*-i,t[1]=h*f+M*-i+v*-o-s*-c,t[2]=v*f+M*-c+s*-i-h*-o,t},c.forEach=function(){var t=c.create();return function(n,r,e,a,u,o){var i,c;for(r||(r=4),e||(e=0),c=a?Math.min(a*r+e,n.length):n.length,i=e;c&gt;i;i+=r)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],t[3]=n[i+3],u(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2],n[i+3]=t[3];return n}}(),c.str=function(t){return&quot;vec4(&quot;+t[0]+&quot;, &quot;+t[1]+&quot;, &quot;+t[2]+&quot;, &quot;+t[3]+&quot;)&quot;},&quot;undefined&quot;!=typeof t&amp;&amp;(t.vec4=c);var f={};f.create=function(){var t=new r(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},f.clone=function(t){var n=new r(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},f.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},f.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},f.transpose=function(t,n){if(t===n){var r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},f.invert=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=r*u-a*e;return o?(o=1/o,t[0]=u*o,t[1]=-e*o,t[2]=-a*o,t[3]=r*o,t):null},f.adjoint=function(t,n){var r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t},f.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},f.multiply=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=r[0],c=r[1],f=r[2],s=r[3];return t[0]=e*i+u*c,t[1]=a*i+o*c,t[2]=e*f+u*s,t[3]=a*f+o*s,t},f.mul=f.multiply,f.rotate=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=e*c+u*i,t[1]=a*c+o*i,t[2]=e*-i+u*c,t[3]=a*-i+o*c,t},f.scale=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=r[0],c=r[1];return t[0]=e*i,t[1]=a*i,t[2]=u*c,t[3]=o*c,t},f.str=function(t){return&quot;mat2(&quot;+t[0]+&quot;, &quot;+t[1]+&quot;, &quot;+t[2]+&quot;, &quot;+t[3]+&quot;)&quot;},f.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},f.LDU=function(t,n,r,e){return t[2]=e[2]/e[0],r[0]=e[0],r[1]=e[1],r[3]=e[3]-t[2]*r[1],[t,n,r]},&quot;undefined&quot;!=typeof t&amp;&amp;(t.mat2=f);var s={};s.create=function(){var t=new r(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},s.clone=function(t){var n=new r(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},s.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},s.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},s.invert=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=n[4],i=n[5],c=r*u-e*a;return c?(c=1/c,t[0]=u*c,t[1]=-e*c,t[2]=-a*c,t[3]=r*c,t[4]=(a*i-u*o)*c,t[5]=(e*o-r*i)*c,t):null},s.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},s.multiply=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=r[0],s=r[1],h=r[2],v=r[3],M=r[4],l=r[5];return t[0]=e*f+u*s,t[1]=a*f+o*s,t[2]=e*h+u*v,t[3]=a*h+o*v,t[4]=e*M+u*l+i,t[5]=a*M+o*l+c,t},s.mul=s.multiply,s.rotate=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=Math.sin(r),s=Math.cos(r);return t[0]=e*s+u*f,t[1]=a*s+o*f,t[2]=e*-f+u*s,t[3]=a*-f+o*s,t[4]=i,t[5]=c,t},s.scale=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=r[0],s=r[1];return t[0]=e*f,t[1]=a*f,t[2]=u*s,t[3]=o*s,t[4]=i,t[5]=c,t},s.translate=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=r[0],s=r[1];return t[0]=e,t[1]=a,t[2]=u,t[3]=o,t[4]=e*f+u*s+i,t[5]=a*f+o*s+c,t},s.str=function(t){return&quot;mat2d(&quot;+t[0]+&quot;, &quot;+t[1]+&quot;, &quot;+t[2]+&quot;, &quot;+t[3]+&quot;, &quot;+t[4]+&quot;, &quot;+t[5]+&quot;)&quot;},s.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},&quot;undefined&quot;!=typeof t&amp;&amp;(t.mat2d=s);var h={};h.create=function(){var t=new r(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},h.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},h.clone=function(t){var n=new r(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},h.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},h.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},h.transpose=function(t,n){if(t===n){var r=n[1],e=n[2],a=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=e,t[7]=a}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},h.invert=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=s*o-i*f,v=-s*u+i*c,M=f*u-o*c,l=r*h+e*v+a*M;return l?(l=1/l,t[0]=h*l,t[1]=(-s*e+a*f)*l,t[2]=(i*e-a*o)*l,t[3]=v*l,t[4]=(s*r-a*c)*l,t[5]=(-i*r+a*u)*l,t[6]=M*l,t[7]=(-f*r+e*c)*l,t[8]=(o*r-e*u)*l,t):null},h.adjoint=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8];return t[0]=o*s-i*f,t[1]=a*f-e*s,t[2]=e*i-a*o,t[3]=i*c-u*s,t[4]=r*s-a*c,t[5]=a*u-r*i,t[6]=u*f-o*c,t[7]=e*c-r*f,t[8]=r*o-e*u,t},h.determinant=function(t){var n=t[0],r=t[1],e=t[2],a=t[3],u=t[4],o=t[5],i=t[6],c=t[7],f=t[8];return n*(f*u-o*c)+r*(-f*a+o*i)+e*(c*a-u*i)},h.multiply=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],v=r[0],M=r[1],l=r[2],d=r[3],m=r[4],p=r[5],w=r[6],y=r[7],q=r[8];return t[0]=v*e+M*o+l*f,t[1]=v*a+M*i+l*s,t[2]=v*u+M*c+l*h,t[3]=d*e+m*o+p*f,t[4]=d*a+m*i+p*s,t[5]=d*u+m*c+p*h,t[6]=w*e+y*o+q*f,t[7]=w*a+y*i+q*s,t[8]=w*u+y*c+q*h,t},h.mul=h.multiply,h.translate=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],v=r[0],M=r[1];return t[0]=e,t[1]=a,t[2]=u,t[3]=o,t[4]=i,t[5]=c,t[6]=v*e+M*o+f,t[7]=v*a+M*i+s,t[8]=v*u+M*c+h,t},h.rotate=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],v=Math.sin(r),M=Math.cos(r);return t[0]=M*e+v*o,t[1]=M*a+v*i,t[2]=M*u+v*c,t[3]=M*o-v*e,t[4]=M*i-v*a,t[5]=M*c-v*u,t[6]=f,t[7]=s,t[8]=h,t},h.scale=function(t,n,r){var e=r[0],a=r[1];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=a*n[3],t[4]=a*n[4],t[5]=a*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},h.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},h.fromQuat=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=r+r,i=e+e,c=a+a,f=r*o,s=e*o,h=e*i,v=a*o,M=a*i,l=a*c,d=u*o,m=u*i,p=u*c;return t[0]=1-h-l,t[3]=s-p,t[6]=v+m,t[1]=s+p,t[4]=1-f-l,t[7]=M-d,t[2]=v-m,t[5]=M+d,t[8]=1-f-h,t},h.normalFromMat4=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],v=n[10],M=n[11],l=n[12],d=n[13],m=n[14],p=n[15],w=r*i-e*o,y=r*c-a*o,q=r*f-u*o,g=e*c-a*i,x=e*f-u*i,b=a*f-u*c,A=s*d-h*l,L=s*m-v*l,D=s*p-M*l,z=h*m-v*d,V=h*p-M*d,j=v*p-M*m,I=w*j-y*V+q*z+g*D-x*L+b*A;return I?(I=1/I,t[0]=(i*j-c*V+f*z)*I,t[1]=(c*D-o*j-f*L)*I,t[2]=(o*V-i*D+f*A)*I,t[3]=(a*V-e*j-u*z)*I,t[4]=(r*j-a*D+u*L)*I,t[5]=(e*D-r*V-u*A)*I,t[6]=(d*b-m*x+p*g)*I,t[7]=(m*q-l*b-p*y)*I,t[8]=(l*x-d*q+p*w)*I,t):null},h.str=function(t){return&quot;mat3(&quot;+t[0]+&quot;, &quot;+t[1]+&quot;, &quot;+t[2]+&quot;, &quot;+t[3]+&quot;, &quot;+t[4]+&quot;, &quot;+t[5]+&quot;, &quot;+t[6]+&quot;, &quot;+t[7]+&quot;, &quot;+t[8]+&quot;)&quot;},h.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},&quot;undefined&quot;!=typeof t&amp;&amp;(t.mat3=h);var v={};v.create=function(){var t=new r(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},v.clone=function(t){var n=new r(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},v.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},v.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},v.transpose=function(t,n){if(t===n){var r=n[1],e=n[2],a=n[3],u=n[6],o=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=e,t[9]=u,t[11]=n[14],t[12]=a,t[13]=o,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},v.invert=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],v=n[10],M=n[11],l=n[12],d=n[13],m=n[14],p=n[15],w=r*i-e*o,y=r*c-a*o,q=r*f-u*o,g=e*c-a*i,x=e*f-u*i,b=a*f-u*c,A=s*d-h*l,L=s*m-v*l,D=s*p-M*l,z=h*m-v*d,V=h*p-M*d,j=v*p-M*m,I=w*j-y*V+q*z+g*D-x*L+b*A;return I?(I=1/I,t[0]=(i*j-c*V+f*z)*I,t[1]=(a*V-e*j-u*z)*I,t[2]=(d*b-m*x+p*g)*I,t[3]=(v*x-h*b-M*g)*I,t[4]=(c*D-o*j-f*L)*I,t[5]=(r*j-a*D+u*L)*I,t[6]=(m*q-l*b-p*y)*I,t[7]=(s*b-v*q+M*y)*I,t[8]=(o*V-i*D+f*A)*I,t[9]=(e*D-r*V-u*A)*I,t[10]=(l*x-d*q+p*w)*I,t[11]=(h*q-s*x-M*w)*I,t[12]=(i*L-o*z-c*A)*I,t[13]=(r*z-e*L+a*A)*I,t[14]=(d*y-l*g-m*w)*I,t[15]=(s*g-h*y+v*w)*I,t):null},v.adjoint=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],v=n[10],M=n[11],l=n[12],d=n[13],m=n[14],p=n[15];return t[0]=i*(v*p-M*m)-h*(c*p-f*m)+d*(c*M-f*v),t[1]=-(e*(v*p-M*m)-h*(a*p-u*m)+d*(a*M-u*v)),t[2]=e*(c*p-f*m)-i*(a*p-u*m)+d*(a*f-u*c),t[3]=-(e*(c*M-f*v)-i*(a*M-u*v)+h*(a*f-u*c)),t[4]=-(o*(v*p-M*m)-s*(c*p-f*m)+l*(c*M-f*v)),t[5]=r*(v*p-M*m)-s*(a*p-u*m)+l*(a*M-u*v),t[6]=-(r*(c*p-f*m)-o*(a*p-u*m)+l*(a*f-u*c)),t[7]=r*(c*M-f*v)-o*(a*M-u*v)+s*(a*f-u*c),t[8]=o*(h*p-M*d)-s*(i*p-f*d)+l*(i*M-f*h),t[9]=-(r*(h*p-M*d)-s*(e*p-u*d)+l*(e*M-u*h)),t[10]=r*(i*p-f*d)-o*(e*p-u*d)+l*(e*f-u*i),t[11]=-(r*(i*M-f*h)-o*(e*M-u*h)+s*(e*f-u*i)),t[12]=-(o*(h*m-v*d)-s*(i*m-c*d)+l*(i*v-c*h)),t[13]=r*(h*m-v*d)-s*(e*m-a*d)+l*(e*v-a*h),t[14]=-(r*(i*m-c*d)-o*(e*m-a*d)+l*(e*c-a*i)),t[15]=r*(i*v-c*h)-o*(e*v-a*h)+s*(e*c-a*i),t},v.determinant=function(t){var n=t[0],r=t[1],e=t[2],a=t[3],u=t[4],o=t[5],i=t[6],c=t[7],f=t[8],s=t[9],h=t[10],v=t[11],M=t[12],l=t[13],d=t[14],m=t[15],p=n*o-r*u,w=n*i-e*u,y=n*c-a*u,q=r*i-e*o,g=r*c-a*o,x=e*c-a*i,b=f*l-s*M,A=f*d-h*M,L=f*m-v*M,D=s*d-h*l,z=s*m-v*l,V=h*m-v*d;return p*V-w*z+y*D+q*L-g*A+x*b},v.multiply=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],v=n[9],M=n[10],l=n[11],d=n[12],m=n[13],p=n[14],w=n[15],y=r[0],q=r[1],g=r[2],x=r[3];return t[0]=y*e+q*i+g*h+x*d,t[1]=y*a+q*c+g*v+x*m,t[2]=y*u+q*f+g*M+x*p,t[3]=y*o+q*s+g*l+x*w,y=r[4],q=r[5],g=r[6],x=r[7],t[4]=y*e+q*i+g*h+x*d,t[5]=y*a+q*c+g*v+x*m,t[6]=y*u+q*f+g*M+x*p,t[7]=y*o+q*s+g*l+x*w,y=r[8],q=r[9],g=r[10],x=r[11],t[8]=y*e+q*i+g*h+x*d,t[9]=y*a+q*c+g*v+x*m,t[10]=y*u+q*f+g*M+x*p,t[11]=y*o+q*s+g*l+x*w,y=r[12],q=r[13],g=r[14],x=r[15],t[12]=y*e+q*i+g*h+x*d,t[13]=y*a+q*c+g*v+x*m,t[14]=y*u+q*f+g*M+x*p,t[15]=y*o+q*s+g*l+x*w,t},v.mul=v.multiply,v.translate=function(t,n,r){var e,a,u,o,i,c,f,s,h,v,M,l,d=r[0],m=r[1],p=r[2];return n===t?(t[12]=n[0]*d+n[4]*m+n[8]*p+n[12],t[13]=n[1]*d+n[5]*m+n[9]*p+n[13],t[14]=n[2]*d+n[6]*m+n[10]*p+n[14],t[15]=n[3]*d+n[7]*m+n[11]*p+n[15]):(e=n[0],a=n[1],u=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],v=n[9],M=n[10],l=n[11],t[0]=e,t[1]=a,t[2]=u,t[3]=o,t[4]=i,t[5]=c,t[6]=f,t[7]=s,t[8]=h,t[9]=v,t[10]=M,t[11]=l,t[12]=e*d+i*m+h*p+n[12],t[13]=a*d+c*m+v*p+n[13],t[14]=u*d+f*m+M*p+n[14],t[15]=o*d+s*m+l*p+n[15]),t},v.scale=function(t,n,r){var e=r[0],a=r[1],u=r[2];return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*u,t[9]=n[9]*u,t[10]=n[10]*u,t[11]=n[11]*u,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},v.rotate=function(t,r,e,a){var u,o,i,c,f,s,h,v,M,l,d,m,p,w,y,q,g,x,b,A,L,D,z,V,j=a[0],I=a[1],P=a[2],Q=Math.sqrt(j*j+I*I+P*P);return Math.abs(Q)&lt;n?null:(Q=1/Q,j*=Q,I*=Q,P*=Q,u=Math.sin(e),o=Math.cos(e),i=1-o,c=r[0],f=r[1],s=r[2],h=r[3],v=r[4],M=r[5],l=r[6],d=r[7],m=r[8],p=r[9],w=r[10],y=r[11],q=j*j*i+o,g=I*j*i+P*u,x=P*j*i-I*u,b=j*I*i-P*u,A=I*I*i+o,L=P*I*i+j*u,D=j*P*i+I*u,z=I*P*i-j*u,V=P*P*i+o,t[0]=c*q+v*g+m*x,t[1]=f*q+M*g+p*x,t[2]=s*q+l*g+w*x,t[3]=h*q+d*g+y*x,t[4]=c*b+v*A+m*L,t[5]=f*b+M*A+p*L,t[6]=s*b+l*A+w*L,t[7]=h*b+d*A+y*L,t[8]=c*D+v*z+m*V,t[9]=f*D+M*z+p*V,t[10]=s*D+l*z+w*V,t[11]=h*D+d*z+y*V,r!==t&amp;&amp;(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},v.rotateX=function(t,n,r){var e=Math.sin(r),a=Math.cos(r),u=n[4],o=n[5],i=n[6],c=n[7],f=n[8],s=n[9],h=n[10],v=n[11];return n!==t&amp;&amp;(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=u*a+f*e,t[5]=o*a+s*e,t[6]=i*a+h*e,t[7]=c*a+v*e,t[8]=f*a-u*e,t[9]=s*a-o*e,t[10]=h*a-i*e,t[11]=v*a-c*e,t},v.rotateY=function(t,n,r){var e=Math.sin(r),a=Math.cos(r),u=n[0],o=n[1],i=n[2],c=n[3],f=n[8],s=n[9],h=n[10],v=n[11];return n!==t&amp;&amp;(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=u*a-f*e,t[1]=o*a-s*e,t[2]=i*a-h*e,t[3]=c*a-v*e,t[8]=u*e+f*a,t[9]=o*e+s*a,t[10]=i*e+h*a,t[11]=c*e+v*a,t},v.rotateZ=function(t,n,r){var e=Math.sin(r),a=Math.cos(r),u=n[0],o=n[1],i=n[2],c=n[3],f=n[4],s=n[5],h=n[6],v=n[7];return n!==t&amp;&amp;(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=u*a+f*e,t[1]=o*a+s*e,t[2]=i*a+h*e,t[3]=c*a+v*e,t[4]=f*a-u*e,t[5]=s*a-o*e,t[6]=h*a-i*e,t[7]=v*a-c*e,t},v.fromRotationTranslation=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=e+e,c=a+a,f=u+u,s=e*i,h=e*c,v=e*f,M=a*c,l=a*f,d=u*f,m=o*i,p=o*c,w=o*f;return t[0]=1-(M+d),t[1]=h+w,t[2]=v-p,t[3]=0,t[4]=h-w,t[5]=1-(s+d),t[6]=l+m,t[7]=0,t[8]=v+p,t[9]=l-m,t[10]=1-(s+M),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},v.fromQuat=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=r+r,i=e+e,c=a+a,f=r*o,s=e*o,h=e*i,v=a*o,M=a*i,l=a*c,d=u*o,m=u*i,p=u*c;return t[0]=1-h-l,t[1]=s+p,t[2]=v-m,t[3]=0,t[4]=s-p,t[5]=1-f-l,t[6]=M+d,t[7]=0,t[8]=v+m,t[9]=M-d,t[10]=1-f-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},v.frustum=function(t,n,r,e,a,u,o){var i=1/(r-n),c=1/(a-e),f=1/(u-o);return t[0]=2*u*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*c,t[6]=0,t[7]=0,t[8]=(r+n)*i,t[9]=(a+e)*c,t[10]=(o+u)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*u*2*f,t[15]=0,t},v.perspective=function(t,n,r,e,a){var u=1/Math.tan(n/2),o=1/(e-a);return t[0]=u/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+e)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*e*o,t[15]=0,t},v.ortho=function(t,n,r,e,a,u,o){var i=1/(n-r),c=1/(e-a),f=1/(u-o);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(n+r)*i,t[13]=(a+e)*c,t[14]=(o+u)*f,t[15]=1,t},v.lookAt=function(t,r,e,a){var u,o,i,c,f,s,h,M,l,d,m=r[0],p=r[1],w=r[2],y=a[0],q=a[1],g=a[2],x=e[0],b=e[1],A=e[2];return Math.abs(m-x)&lt;n&amp;&amp;Math.abs(p-b)&lt;n&amp;&amp;Math.abs(w-A)&lt;n?v.identity(t):(h=m-x,M=p-b,l=w-A,d=1/Math.sqrt(h*h+M*M+l*l),h*=d,M*=d,l*=d,u=q*l-g*M,o=g*h-y*l,i=y*M-q*h,d=Math.sqrt(u*u+o*o+i*i),d?(d=1/d,u*=d,o*=d,i*=d):(u=0,o=0,i=0),c=M*i-l*o,f=l*u-h*i,s=h*o-M*u,d=Math.sqrt(c*c+f*f+s*s),d?(d=1/d,c*=d,f*=d,s*=d):(c=0,f=0,s=0),t[0]=u,t[1]=c,t[2]=h,t[3]=0,t[4]=o,t[5]=f,t[6]=M,t[7]=0,t[8]=i,t[9]=s,t[10]=l,t[11]=0,t[12]=-(u*m+o*p+i*w),t[13]=-(c*m+f*p+s*w),t[14]=-(h*m+M*p+l*w),t[15]=1,t)},v.str=function(t){return&quot;mat4(&quot;+t[0]+&quot;, &quot;+t[1]+&quot;, &quot;+t[2]+&quot;, &quot;+t[3]+&quot;, &quot;+t[4]+&quot;, &quot;+t[5]+&quot;, &quot;+t[6]+&quot;, &quot;+t[7]+&quot;, &quot;+t[8]+&quot;, &quot;+t[9]+&quot;, &quot;+t[10]+&quot;, &quot;+t[11]+&quot;, &quot;+t[12]+&quot;, &quot;+t[13]+&quot;, &quot;+t[14]+&quot;, &quot;+t[15]+&quot;)&quot;},v.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},&quot;undefined&quot;!=typeof t&amp;&amp;(t.mat4=v);var M={};M.create=function(){var t=new r(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},M.rotationTo=function(){var t=i.create(),n=i.fromValues(1,0,0),r=i.fromValues(0,1,0);return function(e,a,u){var o=i.dot(a,u);return-.999999&gt;o?(i.cross(t,n,a),i.length(t)&lt;1e-6&amp;&amp;i.cross(t,r,a),i.normalize(t,t),M.setAxisAngle(e,t,Math.PI),e):o&gt;.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(i.cross(t,a,u),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1+o,M.normalize(e,e))}}(),M.setAxes=function(){var t=h.create();return function(n,r,e,a){return t[0]=e[0],t[3]=e[1],t[6]=e[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],M.normalize(n,M.fromMat3(n,t))}}(),M.clone=c.clone,M.fromValues=c.fromValues,M.copy=c.copy,M.set=c.set,M.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},M.setAxisAngle=function(t,n,r){r=.5*r;var e=Math.sin(r);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(r),t},M.add=c.add,M.multiply=function(t,n,r){var e=n[0],a=n[1],u=n[2],o=n[3],i=r[0],c=r[1],f=r[2],s=r[3];return t[0]=e*s+o*i+a*f-u*c,t[1]=a*s+o*c+u*i-e*f,t[2]=u*s+o*f+e*c-a*i,t[3]=o*s-e*i-a*c-u*f,t},M.mul=M.multiply,M.scale=c.scale,M.rotateX=function(t,n,r){r*=.5;var e=n[0],a=n[1],u=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=e*c+o*i,t[1]=a*c+u*i,t[2]=u*c-a*i,t[3]=o*c-e*i,t},M.rotateY=function(t,n,r){r*=.5;var e=n[0],a=n[1],u=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=e*c-u*i,t[1]=a*c+o*i,t[2]=u*c+e*i,t[3]=o*c-a*i,t},M.rotateZ=function(t,n,r){r*=.5;var e=n[0],a=n[1],u=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=e*c+a*i,t[1]=a*c-e*i,t[2]=u*c+o*i,t[3]=o*c-u*i,t},M.calculateW=function(t,n){var r=n[0],e=n[1],a=n[2];return t[0]=r,t[1]=e,t[2]=a,t[3]=-Math.sqrt(Math.abs(1-r*r-e*e-a*a)),t},M.dot=c.dot,M.lerp=c.lerp,M.slerp=function(t,n,r,e){var a,u,o,i,c,f=n[0],s=n[1],h=n[2],v=n[3],M=r[0],l=r[1],d=r[2],m=r[3];return u=f*M+s*l+h*d+v*m,0&gt;u&amp;&amp;(u=-u,M=-M,l=-l,d=-d,m=-m),1-u&gt;1e-6?(a=Math.acos(u),o=Math.sin(a),i=Math.sin((1-e)*a)/o,c=Math.sin(e*a)/o):(i=1-e,c=e),t[0]=i*f+c*M,t[1]=i*s+c*l,t[2]=i*h+c*d,t[3]=i*v+c*m,t},M.invert=function(t,n){var r=n[0],e=n[1],a=n[2],u=n[3],o=r*r+e*e+a*a+u*u,i=o?1/o:0;return t[0]=-r*i,t[1]=-e*i,t[2]=-a*i,t[3]=u*i,t},M.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},M.length=c.length,M.len=M.length,M.squaredLength=c.squaredLength,M.sqrLen=M.squaredLength,M.normalize=c.normalize,M.fromMat3=function(t,n){var r,e=n[0]+n[4]+n[8];if(e&gt;0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[7]-n[5])*r,t[1]=(n[2]-n[6])*r,t[2]=(n[3]-n[1])*r;else{var a=0;n[4]&gt;n[0]&amp;&amp;(a=1),n[8]&gt;n[3*a+a]&amp;&amp;(a=2);var u=(a+1)%3,o=(a+2)%3;r=Math.sqrt(n[3*a+a]-n[3*u+u]-n[3*o+o]+1),t[a]=.5*r,r=.5/r,t[3]=(n[3*o+u]-n[3*u+o])*r,t[u]=(n[3*u+a]+n[3*a+u])*r,t[o]=(n[3*o+a]+n[3*a+o])*r}return t},M.str=function(t){return&quot;quat(&quot;+t[0]+&quot;, &quot;+t[1]+&quot;, &quot;+t[2]+&quot;, &quot;+t[3]+&quot;)&quot;},&quot;undefined&quot;!=typeof t&amp;&amp;(t.quat=M)}(n.exports)}(this);
},{}],99:[function(require,module,exports){
    &quot;use strict&quot;;function constant(r){return function(){return r}}function interpolateNumber(r,t,n){return r*(1-n)+t*n}function interpolateArray(r,t,n){for(var e=[],o=0;o&lt;r.length;o++)e[o]=interpolateNumber(r[o],t[o],n);return e}exports.interpolated=function(r){if(!r.stops)return constant(r);var t=r.stops,n=r.base||1,e=Array.isArray(t[0][1])?interpolateArray:interpolateNumber;return function(r){for(var o,a,i=0;i&lt;t.length;i++){var u=t[i];if(u[0]&lt;=r&amp;&amp;(o=u),u[0]&gt;r){a=u;break}}if(o&amp;&amp;a){var s=a[0]-o[0],f=r-o[0],p=1===n?f/s:(Math.pow(n,f)-1)/(Math.pow(n,s)-1);return e(o[1],a[1],p)}return o?o[1]:a?a[1]:void 0}},exports[&quot;piecewise-constant&quot;]=function(r){if(!r.stops)return constant(r);var t=r.stops;return function(r){for(var n=0;n&lt;t.length;n++)if(t[n][0]&gt;r)return t[0===n?0:n-1][1];return t[t.length-1][1]}};
},{}],100:[function(require,module,exports){
    module.exports={&quot;$version&quot;:7,&quot;$root&quot;:{&quot;version&quot;:{&quot;required&quot;:true,&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[7],&quot;doc&quot;:&quot;Stylesheet version number. Must be 7.&quot;},&quot;name&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;A human-readable name for the style.&quot;},&quot;constants&quot;:{&quot;type&quot;:&quot;constants&quot;,&quot;doc&quot;:&quot;An object of constants to be referenced in layers.&quot;},&quot;sources&quot;:{&quot;required&quot;:true,&quot;type&quot;:&quot;sources&quot;,&quot;doc&quot;:&quot;Data source specifications.&quot;},&quot;sprite&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended.&quot;},&quot;glyphs&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;A URL template for loading signed-distance-field glyph sets in PBF format. Valid tokens are {fontstack} and {range}.&quot;},&quot;transition&quot;:{&quot;type&quot;:&quot;transition&quot;,&quot;doc&quot;:&quot;A global transition definition to use as a default across properties.&quot;},&quot;layers&quot;:{&quot;required&quot;:true,&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;layer&quot;,&quot;doc&quot;:&quot;Layers will be drawn in the order of this array.&quot;}},&quot;constants&quot;:{&quot;*&quot;:{&quot;type&quot;:&quot;*&quot;,&quot;doc&quot;:&quot;A constant that will be replaced verbatim in the referencing place. This can be anything, including objects and arrays. All variable names must be prefixed with an `@` symbol.&quot;}},&quot;sources&quot;:{&quot;*&quot;:{&quot;type&quot;:&quot;source&quot;,&quot;doc&quot;:&quot;Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For GeoJSON and video sources, a URL must be provided.&quot;}},&quot;source&quot;:[&quot;source_tile&quot;,&quot;source_geojson&quot;,&quot;source_video&quot;],&quot;source_tile&quot;:{&quot;type&quot;:{&quot;required&quot;:true,&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;vector&quot;,&quot;raster&quot;],&quot;doc&quot;:&quot;The data type of the source.&quot;},&quot;url&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://&lt;mapid&gt;`.&quot;},&quot;tiles&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;An array of one or more tile source URLs, as in the TileJSON spec.&quot;},&quot;minzoom&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;doc&quot;:&quot;Minimum zoom level for which tiles are available, as in the TileJSON spec.&quot;},&quot;maxzoom&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:22,&quot;doc&quot;:&quot;Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels.&quot;},&quot;tileSize&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:512,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;The minimum visual size to display tiles for this layer. Only configurable for raster layers.&quot;},&quot;*&quot;:{&quot;type&quot;:&quot;*&quot;,&quot;doc&quot;:&quot;Other keys to configure the data source.&quot;}},&quot;source_geojson&quot;:{&quot;type&quot;:{&quot;required&quot;:true,&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;geojson&quot;]},&quot;data&quot;:{&quot;type&quot;:&quot;*&quot;}},&quot;source_video&quot;:{&quot;type&quot;:{&quot;required&quot;:true,&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;video&quot;]},&quot;url&quot;:{&quot;required&quot;:true,&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;URLs to video content in order of preferred format.&quot;},&quot;coordinates&quot;:{&quot;required&quot;:true,&quot;type&quot;:&quot;array&quot;,&quot;length&quot;:4,&quot;value&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;length&quot;:2,&quot;value&quot;:&quot;number&quot;}}},&quot;layer&quot;:{&quot;id&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;Unique layer name.&quot;},&quot;type&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;fill&quot;,&quot;line&quot;,&quot;symbol&quot;,&quot;raster&quot;,&quot;background&quot;],&quot;doc&quot;:&quot;Rendering type of this layer.&quot;},&quot;ref&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;References another layer to copy `type`, `source`, `source-layer`, `minzoom`, `maxzoom`, `filter`, and `layout` properties from. This allows the layers to share processing and be more efficient.&quot;},&quot;source&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;Name of a source description to be used for this layer.&quot;},&quot;source-layer&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;doc&quot;:&quot;Layer to use from a vector tile source. Required if the source supports multiple layers.&quot;},&quot;minzoom&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;minimum&quot;:0,&quot;maximum&quot;:22,&quot;doc&quot;:&quot;The minimum zoom level on which the layer gets parsed and appears on.&quot;},&quot;maxzoom&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;minimum&quot;:0,&quot;maximum&quot;:22,&quot;doc&quot;:&quot;The maximum zoom level on which the layer gets parsed and appears on.&quot;},&quot;interactive&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;doc&quot;:&quot;Enable querying of feature data from this layer for interactivity.&quot;,&quot;default&quot;:false},&quot;filter&quot;:{&quot;type&quot;:&quot;filter&quot;,&quot;doc&quot;:&quot;A expression specifying conditions on source features. Only features that match the filter are displayed.&quot;},&quot;layout&quot;:{&quot;type&quot;:&quot;layout&quot;,&quot;doc&quot;:&quot;Layout properties for the layer.&quot;},&quot;paint&quot;:{&quot;type&quot;:&quot;paint&quot;,&quot;doc&quot;:&quot;Default paint properties for this layer.&quot;},&quot;paint.*&quot;:{&quot;type&quot;:&quot;paint&quot;,&quot;doc&quot;:&quot;Class-specific paint properties for this layer. The class name is the part after the first dot.&quot;}},&quot;layout&quot;:[&quot;layout_fill&quot;,&quot;layout_line&quot;,&quot;layout_symbol&quot;,&quot;layout_raster&quot;,&quot;layout_background&quot;],&quot;layout_background&quot;:{&quot;visibility&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;visible&quot;,&quot;none&quot;],&quot;default&quot;:&quot;visible&quot;,&quot;doc&quot;:&quot;The display of this layer. `none` hides this layer.&quot;}},&quot;layout_fill&quot;:{&quot;visibility&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;visible&quot;,&quot;none&quot;],&quot;default&quot;:&quot;visible&quot;,&quot;doc&quot;:&quot;The display of this layer. `none` hides this layer.&quot;}},&quot;layout_line&quot;:{&quot;line-cap&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;butt&quot;,&quot;round&quot;,&quot;square&quot;],&quot;default&quot;:&quot;butt&quot;,&quot;doc&quot;:&quot;The display of line endings.&quot;},&quot;line-join&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;bevel&quot;,&quot;round&quot;,&quot;miter&quot;],&quot;default&quot;:&quot;miter&quot;,&quot;doc&quot;:&quot;The display of lines when joining.&quot;},&quot;line-miter-limit&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:2,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Used to automatically convert miter joins to bevel joins for sharp angles.&quot;,&quot;requires&quot;:[{&quot;line-join&quot;:&quot;miter&quot;}]},&quot;line-round-limit&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:1,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Used to automatically convert round joins to miter joins for shallow angles.&quot;,&quot;requires&quot;:[{&quot;line-join&quot;:&quot;round&quot;}]},&quot;visibility&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;visible&quot;,&quot;none&quot;],&quot;default&quot;:&quot;visible&quot;,&quot;doc&quot;:&quot;The display of this layer. `none` hides this layer.&quot;}},&quot;layout_symbol&quot;:{&quot;symbol-placement&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;point&quot;,&quot;line&quot;],&quot;default&quot;:&quot;point&quot;,&quot;doc&quot;:&quot;Label placement relative to its geometry. `line` can only be used on LineStrings and Polygons.&quot;},&quot;symbol-min-distance&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:250,&quot;minimum&quot;:1,&quot;function&quot;:&quot;interpolated&quot;,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Minimum distance between two symbol anchors.&quot;,&quot;requires&quot;:[{&quot;symbol-placement&quot;:&quot;line&quot;}]},&quot;symbol-avoid-edges&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:false,&quot;doc&quot;:&quot;If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don&#039;t have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer.&quot;},&quot;icon-allow-overlap&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:false,&quot;doc&quot;:&quot;If true, the icon will be visible even if it collides with other icons and text.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-ignore-placement&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:false,&quot;doc&quot;:&quot;If true, the icon won&#039;t affect placement of other icons and text.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-optional&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:false,&quot;doc&quot;:&quot;If true, text can be shown without its corresponding icon.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;,&quot;text-field&quot;]},&quot;icon-rotation-alignment&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;map&quot;,&quot;viewport&quot;],&quot;default&quot;:&quot;viewport&quot;,&quot;doc&quot;:&quot;Orientation of icon when map is rotated.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-max-size&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;The maximum factor to scale the icon.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-image&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;doc&quot;:&quot;A string with {tokens} replaced, referencing the data property to pull from.&quot;,&quot;tokens&quot;:true},&quot;icon-rotate&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;period&quot;:360,&quot;function&quot;:&quot;interpolated&quot;,&quot;units&quot;:&quot;degrees&quot;,&quot;doc&quot;:&quot;Rotates the icon clockwise.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-padding&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:2,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Padding value around icon bounding box to avoid icon collisions.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-keep-upright&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:false,&quot;doc&quot;:&quot;If true, the icon may be flipped to prevent it from being rendered upside-down&quot;,&quot;requires&quot;:[&quot;icon-image&quot;,{&quot;icon-rotation-alignment&quot;:&quot;map&quot;}]},&quot;icon-offset&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;number&quot;,&quot;length&quot;:2,&quot;default&quot;:[0,0],&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Icon&#039;s offset distance. Values are [x, y] where negatives indicate left and up, respectively.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;text-rotation-alignment&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;map&quot;,&quot;viewport&quot;],&quot;default&quot;:&quot;viewport&quot;,&quot;doc&quot;:&quot;Orientation of icon or text when map is rotated.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-field&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:&quot;&quot;,&quot;tokens&quot;:true,&quot;doc&quot;:&quot;Value to use for a text label. Feature properties are specified using tokens like {field_name}.&quot;},&quot;text-font&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:&quot;Open Sans Regular, Arial Unicode MS Regular&quot;,&quot;doc&quot;:&quot;Font stack to use for displaying text.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-max-size&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:16,&quot;minimum&quot;:0,&quot;units&quot;:&quot;pixels&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;The maximum size text will be laid out, to calculate collisions with.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-max-width&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:15,&quot;minimum&quot;:0,&quot;units&quot;:&quot;em&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;The maximum line width for text wrapping.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-line-height&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:1.2,&quot;units&quot;:&quot;em&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Text leading value for multi-line text.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-letter-spacing&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;units&quot;:&quot;em&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Text kerning value.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-justify&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;left&quot;,&quot;center&quot;,&quot;right&quot;],&quot;default&quot;:&quot;center&quot;,&quot;doc&quot;:&quot;Text justification options.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-anchor&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;center&quot;,&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;,&quot;top-left&quot;,&quot;top-right&quot;,&quot;bottom-left&quot;,&quot;bottom-right&quot;],&quot;default&quot;:&quot;center&quot;,&quot;doc&quot;:&quot;Which part of the text to place closest to the anchor.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-max-angle&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:45,&quot;units&quot;:&quot;degrees&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Maximum angle change between adjacent characters.&quot;,&quot;requires&quot;:[&quot;text-field&quot;,{&quot;symbol-placement&quot;:&quot;line&quot;}]},&quot;text-rotate&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;period&quot;:360,&quot;units&quot;:&quot;degrees&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Rotates the text clockwise.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-padding&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:2,&quot;minimum&quot;:0,&quot;units&quot;:&quot;pixels&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Padding value around text bounding box to avoid label collisions.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-keep-upright&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:true,&quot;doc&quot;:&quot;If true, the text may be flipped vertically to prevent it from being rendered upside-down.&quot;,&quot;requires&quot;:[&quot;text-field&quot;,{&quot;text-rotation-alignment&quot;:&quot;map&quot;}]},&quot;text-transform&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;none&quot;,&quot;uppercase&quot;,&quot;lowercase&quot;],&quot;default&quot;:&quot;none&quot;,&quot;doc&quot;:&quot;Specifies how to capitalize text, similar to the CSS `text-transform` property.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-offset&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;doc&quot;:&quot;Specifies the distance that text is offset from its anchor horizontally and vertically.&quot;,&quot;value&quot;:&quot;number&quot;,&quot;units&quot;:&quot;ems&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;length&quot;:2,&quot;default&quot;:[0,0],&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-allow-overlap&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:false,&quot;doc&quot;:&quot;If true, the text will be visible even if it collides with other icons and labels.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-ignore-placement&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:false,&quot;doc&quot;:&quot;If true, the text won&#039;t affect placement of other icons and labels.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-optional&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:false,&quot;doc&quot;:&quot;If true, icons can be shown without their corresponding text.&quot;,&quot;requires&quot;:[&quot;text-field&quot;,&quot;icon-image&quot;]},&quot;visibility&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;visible&quot;,&quot;none&quot;],&quot;default&quot;:&quot;visible&quot;,&quot;doc&quot;:&quot;The display of this layer. `none` hides this layer.&quot;}},&quot;layout_raster&quot;:{&quot;visibility&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;visible&quot;,&quot;none&quot;],&quot;default&quot;:&quot;visible&quot;,&quot;doc&quot;:&quot;The display of this layer. `none` hides this layer.&quot;}},&quot;filter&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;*&quot;},&quot;filter_operator&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;==&quot;,&quot;!=&quot;,&quot;&gt;&quot;,&quot;&gt;=&quot;,&quot;&lt;&quot;,&quot;&lt;=&quot;,&quot;in&quot;,&quot;!in&quot;,&quot;all&quot;,&quot;any&quot;,&quot;none&quot;]},&quot;geometry_type&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;Point&quot;,&quot;LineString&quot;,&quot;Polygon&quot;]},&quot;function&quot;:{&quot;stops&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;required&quot;:true,&quot;doc&quot;:&quot;An array of stops.&quot;,&quot;value&quot;:&quot;function_stop&quot;},&quot;base&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;doc&quot;:&quot;The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly.&quot;}},&quot;function_stop&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;minimum&quot;:0,&quot;maximum&quot;:22,&quot;value&quot;:[&quot;number&quot;,&quot;color&quot;],&quot;length&quot;:2,&quot;doc&quot;:&quot;Zoom level and value pair.&quot;},&quot;paint&quot;:[&quot;paint_fill&quot;,&quot;paint_line&quot;,&quot;paint_symbol&quot;,&quot;paint_raster&quot;,&quot;paint_background&quot;],&quot;paint_fill&quot;:{&quot;fill-antialias&quot;:{&quot;type&quot;:&quot;boolean&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;default&quot;:true,&quot;doc&quot;:&quot;Whether or not the fill should be antialiased.&quot;},&quot;fill-opacity&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;maximum&quot;:1,&quot;doc&quot;:&quot;The opacity given to the fill color.&quot;,&quot;transition&quot;:true},&quot;fill-color&quot;:{&quot;type&quot;:&quot;color&quot;,&quot;default&quot;:&quot;#000000&quot;,&quot;doc&quot;:&quot;The color of the fill.&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;requires&quot;:[{&quot;!&quot;:&quot;fill-image&quot;}]},&quot;fill-outline-color&quot;:{&quot;type&quot;:&quot;color&quot;,&quot;doc&quot;:&quot;The outline color of the fill. Matches the value of `fill-color` if unspecified.&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;requires&quot;:[{&quot;!&quot;:&quot;fill-image&quot;},{&quot;fill-antialias&quot;:true}]},&quot;fill-translate&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;number&quot;,&quot;length&quot;:2,&quot;default&quot;:[0,0],&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;The geometry&#039;s offset. Values are [x, y] where negatives indicate left and up, respectively.&quot;},&quot;fill-translate-anchor&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;map&quot;,&quot;viewport&quot;],&quot;doc&quot;:&quot;Control whether the translation is relative to the map (north) or viewport (screen)&quot;,&quot;default&quot;:&quot;map&quot;,&quot;requires&quot;:[&quot;fill-translate&quot;]},&quot;fill-image&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;transition&quot;:true,&quot;doc&quot;:&quot;Name of image in sprite to use for drawing image fills.&quot;}},&quot;paint_line&quot;:{&quot;line-opacity&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;doc&quot;:&quot;The opacity at which the line will be drawn.&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;maximum&quot;:1,&quot;transition&quot;:true},&quot;line-color&quot;:{&quot;type&quot;:&quot;color&quot;,&quot;doc&quot;:&quot;The color with which the line will be drawn.&quot;,&quot;default&quot;:&quot;#000000&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;requires&quot;:[{&quot;!&quot;:&quot;line-image&quot;}]},&quot;line-translate&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;number&quot;,&quot;length&quot;:2,&quot;default&quot;:[0,0],&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;The geometry&#039;s offset. Values are [x, y] where negatives indicate left and up, respectively.&quot;},&quot;line-translate-anchor&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;map&quot;,&quot;viewport&quot;],&quot;doc&quot;:&quot;Control whether the translation is relative to the map (north) or viewport (screen)&quot;,&quot;default&quot;:&quot;map&quot;,&quot;requires&quot;:[&quot;line-translate&quot;]},&quot;line-width&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Stroke thickness.&quot;},&quot;line-gap-width&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;minimum&quot;:0,&quot;doc&quot;:&quot;Draws a line casing outside of a line&#039;s actual path. Value indicates the width of the inner gap.&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;},&quot;line-blur&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Blur applied to the line, in pixels.&quot;},&quot;line-dasharray&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;value&quot;:&quot;number&quot;,&quot;doc&quot;:&quot;Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width.&quot;,&quot;minimum&quot;:0,&quot;transition&quot;:true,&quot;units&quot;:&quot;line widths&quot;,&quot;requires&quot;:[{&quot;!&quot;:&quot;line-image&quot;}]},&quot;line-image&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;transition&quot;:true,&quot;doc&quot;:&quot;Name of image in sprite to use for drawing image lines.&quot;}},&quot;paint_symbol&quot;:{&quot;icon-opacity&quot;:{&quot;doc&quot;:&quot;The opacity at which the icon will be drawn.&quot;,&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;maximum&quot;:1,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-size&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:1,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;doc&quot;:&quot;Scale factor for icon. 1 is original size, 3 triples the size.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-color&quot;:{&quot;type&quot;:&quot;color&quot;,&quot;default&quot;:&quot;#000000&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;doc&quot;:&quot;The color of the icon. This can only be used with sdf icons.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-halo-color&quot;:{&quot;type&quot;:&quot;color&quot;,&quot;default&quot;:&quot;rgba(0, 0, 0, 0)&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;doc&quot;:&quot;The color of the icon&#039;s halo. Icon halos can only be used with sdf icons.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-halo-width&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Distance of halo to the icon outline.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-halo-blur&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Fade out the halo towards the outside.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-translate&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;number&quot;,&quot;length&quot;:2,&quot;default&quot;:[0,0],&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;An icon&#039;s offset distance. Values are [x, y] where negatives indicate left and up, respectively.&quot;,&quot;requires&quot;:[&quot;icon-image&quot;]},&quot;icon-translate-anchor&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;map&quot;,&quot;viewport&quot;],&quot;doc&quot;:&quot;Control whether the translation is relative to the map (north) or viewport (screen)&quot;,&quot;default&quot;:&quot;map&quot;,&quot;requires&quot;:[&quot;icon-image&quot;,&quot;icon-translate&quot;]},&quot;text-opacity&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;doc&quot;:&quot;The opacity at which the text will be drawn.&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;maximum&quot;:1,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-size&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:16,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Font size. If unspecified, the text will be as big as allowed by the layer definition.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-color&quot;:{&quot;type&quot;:&quot;color&quot;,&quot;doc&quot;:&quot;The color with which the text will be drawn.&quot;,&quot;default&quot;:&quot;#000000&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-halo-color&quot;:{&quot;type&quot;:&quot;color&quot;,&quot;default&quot;:&quot;rgba(0, 0, 0, 0)&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;doc&quot;:&quot;The color of the text&#039;s halo, which helps it stand out from backgrounds.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-halo-width&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-halo-blur&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;The halo&#039;s fadeout distance towards the outside.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-translate&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;value&quot;:&quot;number&quot;,&quot;length&quot;:2,&quot;default&quot;:[0,0],&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;pixels&quot;,&quot;doc&quot;:&quot;Label offset. Values are [x, y] where negatives indicate left and up, respectively.&quot;,&quot;requires&quot;:[&quot;text-field&quot;]},&quot;text-translate-anchor&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;values&quot;:[&quot;map&quot;,&quot;viewport&quot;],&quot;doc&quot;:&quot;Control whether the translation is relative to the map (north) or viewport (screen)&quot;,&quot;default&quot;:&quot;map&quot;,&quot;requires&quot;:[&quot;text-field&quot;,&quot;text-translate&quot;]}},&quot;paint_raster&quot;:{&quot;raster-opacity&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;doc&quot;:&quot;The opacity at which the image will be drawn.&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;maximum&quot;:1,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true},&quot;raster-hue-rotate&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;period&quot;:360,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;degrees&quot;,&quot;doc&quot;:&quot;Rotates hues around the color wheel.&quot;},&quot;raster-brightness-min&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Increase or reduce the brightness of the image. The value is the minimum brightness.&quot;,&quot;default&quot;:0,&quot;minimum&quot;:0,&quot;maximum&quot;:1,&quot;transition&quot;:true},&quot;raster-brightness-max&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;doc&quot;:&quot;Increase or reduce the brightness of the image. The value is the maximum brightness.&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;maximum&quot;:1,&quot;transition&quot;:true},&quot;raster-saturation&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;doc&quot;:&quot;Increase or reduce the saturation of the image.&quot;,&quot;default&quot;:0,&quot;minimum&quot;:-1,&quot;maximum&quot;:1,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true},&quot;raster-contrast&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;doc&quot;:&quot;Increase or reduce the contrast of the image.&quot;,&quot;default&quot;:0,&quot;minimum&quot;:-1,&quot;maximum&quot;:1,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true},&quot;raster-fade-duration&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:300,&quot;minimum&quot;:0,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;units&quot;:&quot;milliseconds&quot;,&quot;doc&quot;:&quot;Fade duration when a new tile is added.&quot;}},&quot;paint_background&quot;:{&quot;background-color&quot;:{&quot;type&quot;:&quot;color&quot;,&quot;default&quot;:&quot;#000000&quot;,&quot;doc&quot;:&quot;The color with which the background will be drawn.&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true,&quot;requires&quot;:[{&quot;!&quot;:&quot;background-image&quot;}]},&quot;background-image&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;function&quot;:&quot;piecewise-constant&quot;,&quot;transition&quot;:true,&quot;doc&quot;:&quot;Optionally an image which is drawn as the background.&quot;},&quot;background-opacity&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:1,&quot;minimum&quot;:0,&quot;maximum&quot;:1,&quot;doc&quot;:&quot;The opacity at which the background will be drawn.&quot;,&quot;function&quot;:&quot;interpolated&quot;,&quot;transition&quot;:true}},&quot;transition&quot;:{&quot;duration&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:300,&quot;minimum&quot;:0,&quot;units&quot;:&quot;milliseconds&quot;,&quot;doc&quot;:&quot;Time allotted for transitions to complete.&quot;},&quot;delay&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;default&quot;:0,&quot;minimum&quot;:0,&quot;units&quot;:&quot;milliseconds&quot;,&quot;doc&quot;:&quot;Length of time before a transition begins.&quot;}}}
},{}],101:[function(require,module,exports){
    &quot;use strict&quot;;function Buffer(t){var e;t&amp;&amp;t.length&amp;&amp;(e=t,t=e.length);var r=new Uint8Array(t||0);return e&amp;&amp;r.set(e),r.readUInt32LE=BufferMethods.readUInt32LE,r.writeUInt32LE=BufferMethods.writeUInt32LE,r.readInt32LE=BufferMethods.readInt32LE,r.writeInt32LE=BufferMethods.writeInt32LE,r.readFloatLE=BufferMethods.readFloatLE,r.writeFloatLE=BufferMethods.writeFloatLE,r.readDoubleLE=BufferMethods.readDoubleLE,r.writeDoubleLE=BufferMethods.writeDoubleLE,r.toString=BufferMethods.toString,r.write=BufferMethods.write,r.slice=BufferMethods.slice,r.copy=BufferMethods.copy,r._isBuffer=!0,r}function encodeString(t){for(var e,r,n=t.length,i=[],o=0;n&gt;o;o++){if(e=t.charCodeAt(o),e&gt;55295&amp;&amp;57344&gt;e){if(!r){e&gt;56319||o+1===n?i.push(239,191,189):r=e;continue}if(56320&gt;e){i.push(239,191,189),r=e;continue}e=r-55296&lt;&lt;10|e-56320|65536,r=null}else r&amp;&amp;(i.push(239,191,189),r=null);128&gt;e?i.push(e):2048&gt;e?i.push(e&gt;&gt;6|192,63&amp;e|128):65536&gt;e?i.push(e&gt;&gt;12|224,e&gt;&gt;6&amp;63|128,63&amp;e|128):i.push(e&gt;&gt;18|240,e&gt;&gt;12&amp;63|128,e&gt;&gt;6&amp;63|128,63&amp;e|128)}return i}module.exports=Buffer;var ieee754=require(&quot;ieee754&quot;),BufferMethods,lastStr,lastStrEncoded;BufferMethods={readUInt32LE:function(t){return(this[t]|this[t+1]&lt;&lt;8|this[t+2]&lt;&lt;16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t&gt;&gt;&gt;8,this[e+2]=t&gt;&gt;&gt;16,this[e+3]=t&gt;&gt;&gt;24},readInt32LE:function(t){return(this[t]|this[t+1]&lt;&lt;8|this[t+2]&lt;&lt;16)+(this[t+3]&lt;&lt;24)},readFloatLE:function(t){return ieee754.read(this,t,!0,23,4)},readDoubleLE:function(t){return ieee754.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return ieee754.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return ieee754.write(this,t,e,!0,52,8)},toString:function(t,e,r){var n=&quot;&quot;,i=&quot;&quot;;e=e||0,r=Math.min(this.length,r||this.length);for(var o=e;r&gt;o;o++){var u=this[o];127&gt;=u?(n+=decodeURIComponent(i)+String.fromCharCode(u),i=&quot;&quot;):i+=&quot;%&quot;+u.toString(16)}return n+=decodeURIComponent(i)},write:function(t,e){for(var r=t===lastStr?lastStrEncoded:encodeString(t),n=0;n&lt;r.length;n++)this[e+n]=r[n]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var r=0;r&lt;this.length;r++)t[e+r]=this[r]}},BufferMethods.writeInt32LE=BufferMethods.writeUInt32LE,Buffer.byteLength=function(t){return lastStr=t,lastStrEncoded=encodeString(t),lastStrEncoded.length},Buffer.isBuffer=function(t){return!(!t||!t._isBuffer)};
},{&quot;ieee754&quot;:103}],102:[function(require,module,exports){
    (function (global){
        &quot;use strict&quot;;function Pbf(t){this.buf=Buffer.isBuffer(t)?t:new Buffer(t||0),this.pos=0,this.length=this.buf.length}function writePackedVarint(t,i){for(var e=0;e&lt;t.length;e++)i.writeVarint(t[e])}function writePackedSVarint(t,i){for(var e=0;e&lt;t.length;e++)i.writeSVarint(t[e])}function writePackedFloat(t,i){for(var e=0;e&lt;t.length;e++)i.writeFloat(t[e])}function writePackedDouble(t,i){for(var e=0;e&lt;t.length;e++)i.writeDouble(t[e])}function writePackedBoolean(t,i){for(var e=0;e&lt;t.length;e++)i.writeBoolean(t[e])}function writePackedFixed32(t,i){for(var e=0;e&lt;t.length;e++)i.writeFixed32(t[e])}function writePackedSFixed32(t,i){for(var e=0;e&lt;t.length;e++)i.writeSFixed32(t[e])}function writePackedFixed64(t,i){for(var e=0;e&lt;t.length;e++)i.writeFixed64(t[e])}function writePackedSFixed64(t,i){for(var e=0;e&lt;t.length;e++)i.writeSFixed64(t[e])}module.exports=Pbf;var Buffer=global.Buffer||require(&quot;./buffer&quot;);Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;var SHIFT_LEFT_32=4294967296,SHIFT_RIGHT_32=1/SHIFT_LEFT_32;Pbf.prototype={destroy:function(){this.buf=null},readFields:function(t,i,e){for(e=e||this.length;this.pos&lt;e;){var r=this.readVarint(),s=r&gt;&gt;3,n=this.pos;t(s,i,this),this.pos===n&amp;&amp;this.skip(r)}return i},readMessage:function(t,i){return this.readFields(t,i,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*SHIFT_LEFT_32;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*SHIFT_LEFT_32;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,i,e,r,s,n,o=this.buf;if(e=o[this.pos++],128&gt;e)return e;if(e=127&amp;e,r=o[this.pos++],128&gt;r)return e|r&lt;&lt;7;if(r=(127&amp;r)&lt;&lt;7,s=o[this.pos++],128&gt;s)return e|r|s&lt;&lt;14;if(s=(127&amp;s)&lt;&lt;14,n=o[this.pos++],128&gt;n)return e|r|s|n&lt;&lt;21;if(t=e|r|s|(127&amp;n)&lt;&lt;21,i=o[this.pos++],t+=268435456*(127&amp;i),128&gt;i)return t;if(i=o[this.pos++],t+=34359738368*(127&amp;i),128&gt;i)return t;if(i=o[this.pos++],t+=4398046511104*(127&amp;i),128&gt;i)return t;if(i=o[this.pos++],t+=562949953421312*(127&amp;i),128&gt;i)return t;if(i=o[this.pos++],t+=72057594037927940*(127&amp;i),128&gt;i)return t;if(i=o[this.pos++],t+=0x8000000000000000*(127&amp;i),128&gt;i)return t;throw new Error(&quot;Expected varint not more than 10 bytes&quot;)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,i=this.buf.toString(&quot;utf8&quot;,this.pos,t);return this.pos=t,i},readBytes:function(){var t=this.readVarint()+this.pos,i=this.buf.slice(this.pos,t);return this.pos=t,i},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readVarint());return i},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readSVarint());return i},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readBoolean());return i},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readFloat());return i},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readDouble());return i},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readFixed32());return i},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readSFixed32());return i},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readFixed64());return i},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos&lt;t;)i.push(this.readSFixed64());return i},skip:function(t){var i=7&amp;t;if(i===Pbf.Varint)for(;this.buf[this.pos++]&gt;127;);else if(i===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(i===Pbf.Fixed32)this.pos+=4;else{if(i!==Pbf.Fixed64)throw new Error(&quot;Unimplemented type: &quot;+i);this.pos+=8}},writeTag:function(t,i){this.writeVarint(t&lt;&lt;3|i)},realloc:function(t){for(var i=this.length||16;i&lt;this.pos+t;)i*=2;if(i!==this.length){var e=new Buffer(i);this.buf.copy(e),this.buf=e,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&amp;t,this.pos),this.buf.writeUInt32LE(Math.floor(t*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&amp;t,this.pos),this.buf.writeInt32LE(Math.floor(t*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t,127&gt;=t)this.realloc(1),this.buf[this.pos++]=t;else if(16383&gt;=t)this.realloc(2),this.buf[this.pos++]=t&gt;&gt;&gt;0&amp;127|128,this.buf[this.pos++]=t&gt;&gt;&gt;7&amp;127;else if(2097151&gt;=t)this.realloc(3),this.buf[this.pos++]=t&gt;&gt;&gt;0&amp;127|128,this.buf[this.pos++]=t&gt;&gt;&gt;7&amp;127|128,this.buf[this.pos++]=t&gt;&gt;&gt;14&amp;127;else if(268435455&gt;=t)this.realloc(4),this.buf[this.pos++]=t&gt;&gt;&gt;0&amp;127|128,this.buf[this.pos++]=t&gt;&gt;&gt;7&amp;127|128,this.buf[this.pos++]=t&gt;&gt;&gt;14&amp;127|128,this.buf[this.pos++]=t&gt;&gt;&gt;21&amp;127;else{for(var i=this.pos;t&gt;=128;)this.realloc(1),this.buf[this.pos++]=255&amp;t|128,t/=128;if(this.realloc(1),this.buf[this.pos++]=0|t,this.pos-i&gt;10)throw new Error(&quot;Given varint doesn&#039;t fit into 10 bytes&quot;)}},writeSVarint:function(t){this.writeVarint(0&gt;t?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var i=Buffer.byteLength(t);this.writeVarint(i),this.realloc(i),this.buf.write(t,this.pos),this.pos+=i},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var i=t.length;this.writeVarint(i),this.realloc(i);for(var e=0;i&gt;e;e++)this.buf[this.pos++]=t[e]},writeMessage:function(t,i,e){this.writeTag(t,Pbf.Bytes),this.pos++;var r=this.pos;i(e,this);var s=this.pos-r,n=127&gt;=s?1:16383&gt;=s?2:2097151&gt;=s?3:268435455&gt;=s?4:Math.ceil(Math.log(s)/(7*Math.LN2));if(n&gt;1){this.realloc(n-1);for(var o=this.pos-1;o&gt;=r;o--)this.buf[o+n-1]=this.buf[o]}this.pos=r-1,this.writeVarint(s),this.pos+=s},writePackedVarint:function(t,i){this.writeMessage(t,writePackedVarint,i)},writePackedSVarint:function(t,i){this.writeMessage(t,writePackedSVarint,i)},writePackedBoolean:function(t,i){this.writeMessage(t,writePackedBoolean,i)},writePackedFloat:function(t,i){this.writeMessage(t,writePackedFloat,i)},writePackedDouble:function(t,i){this.writeMessage(t,writePackedDouble,i)},writePackedFixed32:function(t,i){this.writeMessage(t,writePackedFixed32,i)},writePackedSFixed32:function(t,i){this.writeMessage(t,writePackedSFixed32,i)},writePackedFixed64:function(t,i){this.writeMessage(t,writePackedFixed64,i)},writePackedSFixed64:function(t,i){this.writeMessage(t,writePackedSFixed64,i)},writeBytesField:function(t,i){this.writeTag(t,Pbf.Bytes),this.writeBytes(i)},writeFixed32Field:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeSFixed64(i)},writeVarintField:function(t,i){this.writeTag(t,Pbf.Varint),this.writeVarint(i)},writeSVarintField:function(t,i){this.writeTag(t,Pbf.Varint),this.writeSVarint(i)},writeStringField:function(t,i){this.writeTag(t,Pbf.Bytes),this.writeString(i)},writeFloatField:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeFloat(i)},writeDoubleField:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeDouble(i)},writeBooleanField:function(t,i){this.writeVarintField(t,Boolean(i))}};
    }).call(this,typeof global !== &quot;undefined&quot; ? global : typeof self !== &quot;undefined&quot; ? self : typeof window !== &quot;undefined&quot; ? window : {})

},{&quot;./buffer&quot;:101}],103:[function(require,module,exports){
    exports.read=function(o,t,a,r,h){var M,p,w=8*h-r-1,f=(1&lt;&lt;w)-1,e=f&gt;&gt;1,i=-7,n=a?h-1:0,s=a?-1:1,N=o[t+n];for(n+=s,M=N&amp;(1&lt;&lt;-i)-1,N&gt;&gt;=-i,i+=w;i&gt;0;M=256*M+o[t+n],n+=s,i-=8);for(p=M&amp;(1&lt;&lt;-i)-1,M&gt;&gt;=-i,i+=r;i&gt;0;p=256*p+o[t+n],n+=s,i-=8);if(0===M)M=1-e;else{if(M===f)return p?0/0:1/0*(N?-1:1);p+=Math.pow(2,r),M-=e}return(N?-1:1)*p*Math.pow(2,M-r)},exports.write=function(o,t,a,r,h,M){var p,w,f,e=8*M-h-1,i=(1&lt;&lt;e)-1,n=i&gt;&gt;1,s=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,N=r?0:M-1,u=r?1:-1,l=0&gt;t||0===t&amp;&amp;0&gt;1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(w=isNaN(t)?1:0,p=i):(p=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-p))&lt;1&amp;&amp;(p--,f*=2),t+=p+n&gt;=1?s/f:s*Math.pow(2,1-n),t*f&gt;=2&amp;&amp;(p++,f/=2),p+n&gt;=i?(w=0,p=i):p+n&gt;=1?(w=(t*f-1)*Math.pow(2,h),p+=n):(w=t*Math.pow(2,n-1)*Math.pow(2,h),p=0));h&gt;=8;o[a+N]=255&amp;w,N+=u,w/=256,h-=8);for(p=p&lt;&lt;h|w,e+=h;e&gt;0;o[a+N]=255&amp;p,N+=u,p/=256,e-=8);o[a+N-u]|=128*l};
},{}],104:[function(require,module,exports){
    &quot;use strict&quot;;function Point(t,n){this.x=t,this.y=n}module.exports=Point,Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&amp;&amp;this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,i=t.y-this.y;return n*n+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=n,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),i=Math.sin(t),s=n*this.x-i*this.y,r=i*this.x+n*this.y;return this.x=s,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Point.convert=function(t){return t instanceof Point?t:Array.isArray(t)?new Point(t[0],t[1]):t};
},{}],105:[function(require,module,exports){
    !function(){&quot;use strict&quot;;function t(i,n){return this instanceof t?(this._maxEntries=Math.max(4,i||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&amp;&amp;this._initFormat(n),void this.clear()):new t(i,n)}function i(t,i){t.bbox=n(t,0,t.children.length,i)}function n(t,i,n,r){for(var o,a=h(),s=i;n&gt;s;s++)o=t.children[s],e(a,t.leaf?r(o):o.bbox);return a}function h(){return[1/0,1/0,-1/0,-1/0]}function e(t,i){return t[0]=Math.min(t[0],i[0]),t[1]=Math.min(t[1],i[1]),t[2]=Math.max(t[2],i[2]),t[3]=Math.max(t[3],i[3]),t}function r(t,i){return t.bbox[0]-i.bbox[0]}function o(t,i){return t.bbox[1]-i.bbox[1]}function a(t){return(t[2]-t[0])*(t[3]-t[1])}function s(t){return t[2]-t[0]+(t[3]-t[1])}function l(t,i){return(Math.max(i[2],t[2])-Math.min(i[0],t[0]))*(Math.max(i[3],t[3])-Math.min(i[1],t[1]))}function u(t,i){var n=Math.max(t[0],i[0]),h=Math.max(t[1],i[1]),e=Math.min(t[2],i[2]),r=Math.min(t[3],i[3]);return Math.max(0,e-n)*Math.max(0,r-h)}function c(t,i){return t[0]&lt;=i[0]&amp;&amp;t[1]&lt;=i[1]&amp;&amp;i[2]&lt;=t[2]&amp;&amp;i[3]&lt;=t[3]}function f(t,i){return i[0]&lt;=t[2]&amp;&amp;i[1]&lt;=t[3]&amp;&amp;i[2]&gt;=t[0]&amp;&amp;i[3]&gt;=t[1]}function d(t,i,n,h,e){for(var r,o=[i,n];o.length;)n=o.pop(),i=o.pop(),h&gt;=n-i||(r=i+Math.ceil((n-i)/h/2)*h,x(t,i,n,r,e),o.push(i,r,r,n))}function x(t,i,n,h,e){for(var r,o,a,s,l,u,c,f,d;n&gt;i;){for(n-i&gt;600&amp;&amp;(r=n-i+1,o=h-i+1,a=Math.log(r),s=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*s*(r-s)/r)*(0&gt;o-r/2?-1:1),u=Math.max(i,Math.floor(h-o*s/r+l)),c=Math.min(n,Math.floor(h+(r-o)*s/r+l)),x(t,u,c,h,e)),f=t[h],o=i,d=n,p(t,i,h),e(t[n],f)&gt;0&amp;&amp;p(t,i,n);d&gt;o;){for(p(t,o,d),o++,d--;e(t[o],f)&lt;0;)o++;for(;e(t[d],f)&gt;0;)d--}0===e(t[i],f)?p(t,i,d):(d++,p(t,d,n)),h&gt;=d&amp;&amp;(i=d+1),d&gt;=h&amp;&amp;(n=d-1)}}function p(t,i,n){var h=t[i];t[i]=t[n],t[n]=h}t.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],h=this.toBBox;if(!f(t,i.bbox))return n;for(var e,r,o,a,s=[];i;){for(e=0,r=i.children.length;r&gt;e;e++)o=i.children[e],a=i.leaf?h(o):o.bbox,f(t,a)&amp;&amp;(i.leaf?n.push(o):c(t,a)?this._all(o,n):s.push(o));i=s.pop()}return n},load:function(t){if(!t||!t.length)return this;if(t.length&lt;this._minEntries){for(var i=0,n=t.length;n&gt;i;i++)this.insert(t[i]);return this}var h=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height&lt;h.height){var e=this.data;this.data=h,h=e}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},insert:function(t){return t&amp;&amp;this._insert(t,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:h(),leaf:!0},this},remove:function(t){if(!t)return this;for(var i,n,h,e,r=this.data,o=this.toBBox(t),a=[],s=[];r||a.length;){if(r||(r=a.pop(),n=a[a.length-1],i=s.pop(),e=!0),r.leaf&amp;&amp;(h=r.children.indexOf(t),-1!==h))return r.children.splice(h,1),a.push(r),this._condense(a),this;e||r.leaf||!c(r.bbox,o)?n?(i++,r=n.children[i],e=!1):r=null:(a.push(r),s.push(i),i=0,n=r,r=r.children[0])}return this},toBBox:function(t){return t},compareMinX:function(t,i){return t[0]-i[0]},compareMinY:function(t,i){return t[1]-i[1]},toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,n,h,e){var r,o=h-n+1,a=this._maxEntries;if(a&gt;=o)return r={children:t.slice(n,h+1),height:1,bbox:null,leaf:!0},i(r,this.toBBox),r;e||(e=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,e-1))),r={children:[],height:e,bbox:null};var s,l,u,c,f=Math.ceil(o/a),x=f*Math.ceil(Math.sqrt(a));for(d(t,n,h,x,this.compareMinX),s=n;h&gt;=s;s+=x)for(u=Math.min(s+x-1,h),d(t,s,u,f,this.compareMinY),l=s;u&gt;=l;l+=f)c=Math.min(l+f-1,u),r.children.push(this._build(t,l,c,e-1));return i(r,this.toBBox),r},_chooseSubtree:function(t,i,n,h){for(var e,r,o,s,u,c,f,d;;){if(h.push(i),i.leaf||h.length-1===n)break;for(f=d=1/0,e=0,r=i.children.length;r&gt;e;e++)o=i.children[e],u=a(o.bbox),c=l(t,o.bbox)-u,d&gt;c?(d=c,f=f&gt;u?u:f,s=o):c===d&amp;&amp;f&gt;u&amp;&amp;(f=u,s=o);i=s}return i},_insert:function(t,i,n){var h=this.toBBox,r=n?t.bbox:h(t),o=[],a=this._chooseSubtree(r,this.data,i,o);for(a.children.push(t),e(a.bbox,r);i&gt;=0&amp;&amp;o[i].children.length&gt;this._maxEntries;)this._split(o,i),i--;this._adjustParentBBoxes(r,o,i)},_split:function(t,n){var h=t[n],e=h.children.length,r=this._minEntries;this._chooseSplitAxis(h,r,e);var o={children:h.children.splice(this._chooseSplitIndex(h,r,e)),height:h.height};h.leaf&amp;&amp;(o.leaf=!0),i(h,this.toBBox),i(o,this.toBBox),n?t[n-1].children.push(o):this._splitRoot(h,o)},_splitRoot:function(t,n){this.data={children:[t,n],height:t.height+1},i(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,h){var e,r,o,s,l,c,f,d;for(c=f=1/0,e=i;h-i&gt;=e;e++)r=n(t,0,e,this.toBBox),o=n(t,e,h,this.toBBox),s=u(r,o),l=a(r)+a(o),c&gt;s?(c=s,d=e,f=f&gt;l?l:f):s===c&amp;&amp;f&gt;l&amp;&amp;(f=l,d=e);return d},_chooseSplitAxis:function(t,i,n){var h=t.leaf?this.compareMinX:r,e=t.leaf?this.compareMinY:o,a=this._allDistMargin(t,i,n,h),s=this._allDistMargin(t,i,n,e);s&gt;a&amp;&amp;t.children.sort(h)},_allDistMargin:function(t,i,h,r){t.children.sort(r);var o,a,l=this.toBBox,u=n(t,0,i,l),c=n(t,h-i,h,l),f=s(u)+s(c);for(o=i;h-i&gt;o;o++)a=t.children[o],e(u,t.leaf?l(a):a.bbox),f+=s(u);for(o=h-i-1;o&gt;=i;o--)a=t.children[o],e(c,t.leaf?l(a):a.bbox),f+=s(c);return f},_adjustParentBBoxes:function(t,i,n){for(var h=n;h&gt;=0;h--)e(i[h].bbox,t)},_condense:function(t){for(var n,h=t.length-1;h&gt;=0;h--)0===t[h].children.length?h&gt;0?(n=t[h-1].children,n.splice(n.indexOf(t[h]),1)):this.clear():i(t[h],this.toBBox)},_initFormat:function(t){var i=[&quot;return a&quot;,&quot; - b&quot;,&quot;;&quot;];this.compareMinX=new Function(&quot;a&quot;,&quot;b&quot;,i.join(t[0])),this.compareMinY=new Function(&quot;a&quot;,&quot;b&quot;,i.join(t[1])),this.toBBox=new Function(&quot;a&quot;,&quot;return [a&quot;+t.join(&quot;, a&quot;)+&quot;];&quot;)}},&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;rbush&quot;,function(){return t}):&quot;undefined&quot;!=typeof module?module.exports=t:&quot;undefined&quot;!=typeof self?self.rbush=t:window.rbush=t}();
},{}],106:[function(require,module,exports){
    function UnitBezier(t,i,e,r){this.cx=3*t,this.bx=3*(e-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(r-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=e,this.p2y=r}module.exports=UnitBezier,UnitBezier.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},UnitBezier.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},UnitBezier.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},UnitBezier.prototype.solveCurveX=function(t,i){&quot;undefined&quot;==typeof i&amp;&amp;(i=1e-6);var e,r,s,h,n;for(s=t,n=0;8&gt;n;n++){if(h=this.sampleCurveX(s)-t,Math.abs(h)&lt;i)return s;var u=this.sampleCurveDerivativeX(s);if(Math.abs(u)&lt;1e-6)break;s-=h/u}if(e=0,r=1,s=t,e&gt;s)return e;if(s&gt;r)return r;for(;r&gt;e;){if(h=this.sampleCurveX(s),Math.abs(h-t)&lt;i)return s;t&gt;h?e=s:r=s,s=.5*(r-e)+e}return s},UnitBezier.prototype.solve=function(t,i){return this.sampleCurveY(this.solveCurveX(t,i))};
},{}],107:[function(require,module,exports){
    module.exports.VectorTile=require(&quot;./lib/vectortile.js&quot;),module.exports.VectorTileFeature=require(&quot;./lib/vectortilefeature.js&quot;),module.exports.VectorTileLayer=require(&quot;./lib/vectortilelayer.js&quot;);
},{&quot;./lib/vectortile.js&quot;:108,&quot;./lib/vectortilefeature.js&quot;:109,&quot;./lib/vectortilelayer.js&quot;:110}],108:[function(require,module,exports){
    &quot;use strict&quot;;function VectorTile(e,r){this.layers=e.readFields(readTile,{},r)}function readTile(e,r,a){if(3===e){var i=readLayer(a);i.length&amp;&amp;(r[i.name]=i)}}function readLayer(e){var r=e.readVarint(),a=e.pos+r,i=new VectorTileLayer(e,a);return e.pos=a,i}var VectorTileLayer=require(&quot;./vectortilelayer&quot;);module.exports=VectorTile;
},{&quot;./vectortilelayer&quot;:110}],109:[function(require,module,exports){
    &quot;use strict&quot;;function VectorTileFeature(e,t,r,i,o){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=o,e.readFields(readFeature,this,t)}function readFeature(e,t,r){1==e?t._id=r.readVarint():2==e?readTag(r,t):3==e?t.type=r.readVarint():4==e&amp;&amp;(t._geometry=r.pos)}function readTag(e,t){for(var r=e.readVarint(),i=e.pos+r;e.pos&lt;i;){var o=t._keys[e.readVarint()],a=t._values[e.readVarint()];t.properties[o]=a}}var Point=require(&quot;point-geometry&quot;);module.exports=VectorTileFeature,VectorTileFeature.types=[&quot;Unknown&quot;,&quot;Point&quot;,&quot;LineString&quot;,&quot;Polygon&quot;],VectorTileFeature.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint(),i=e.pos+r,o=1,a=0,n=0,s=0,p=[];e.pos&lt;i;){if(!a){var h=e.readVarint();o=7&amp;h,a=h&gt;&gt;3}if(a--,1===o||2===o)n+=e.readSVarint(),s+=e.readSVarint(),1===o&amp;&amp;(t&amp;&amp;p.push(t),t=[]),t.push(new Point(n,s));else{if(7!==o)throw new Error(&quot;unknown command &quot;+o);t.push(t[0].clone())}}return t&amp;&amp;p.push(t),p},VectorTileFeature.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint(),r=e.pos+t,i=1,o=0,a=0,n=0,s=1/0,p=-1/0,h=1/0,u=-1/0;e.pos&lt;r;){if(!o){var d=e.readVarint();i=7&amp;d,o=d&gt;&gt;3}if(o--,1===i||2===i)a+=e.readSVarint(),n+=e.readSVarint(),s&gt;a&amp;&amp;(s=a),a&gt;p&amp;&amp;(p=a),h&gt;n&amp;&amp;(h=n),n&gt;u&amp;&amp;(u=n);else if(7!==i)throw new Error(&quot;unknown command &quot;+i)}return[s,h,p,u]},VectorTileFeature.prototype.toGeoJSON=function(e,t,r){for(var i=this.extent*Math.pow(2,r),o=this.extent*e,a=this.extent*t,n=this.loadGeometry(),s=VectorTileFeature.types[this.type],p=0;p&lt;n.length;p++)for(var h=n[p],u=0;u&lt;h.length;u++){var d=h[u],l=180-360*(d.y+a)/i;h[u]=[360*(d.x+o)/i-180,360/Math.PI*Math.atan(Math.exp(l*Math.PI/180))-90]}return&quot;Point&quot;===s&amp;&amp;1===n.length?n=n[0][0]:&quot;Point&quot;===s?(n=n[0],s=&quot;MultiPoint&quot;):&quot;LineString&quot;===s&amp;&amp;1===n.length?n=n[0]:&quot;LineString&quot;===s&amp;&amp;(s=&quot;MultiLineString&quot;),{type:&quot;Feature&quot;,geometry:{type:s,coordinates:n},properties:this.properties}};
},{&quot;point-geometry&quot;:104}],110:[function(require,module,exports){
    &quot;use strict&quot;;function VectorTileLayer(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(readLayer,this,t),this.length=this._features.length}function readLayer(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&amp;&amp;t._values.push(readValueMessage(r))}function readValueMessage(e){for(var t=null,r=e.readVarint(),a=e.pos+r;e.pos&lt;a;){var s=e.readVarint()&gt;&gt;3;t=1===s?e.readString():2===s?e.readFloat():3===s?e.readDouble():4===s||5===s?e.readVarint():6===s?e.readSVarint():7===s?Boolean(e.readVarint()):null}return t}var VectorTileFeature=require(&quot;./vectortilefeature.js&quot;);module.exports=VectorTileLayer,VectorTileLayer.prototype.feature=function(e){if(0&gt;e||e&gt;=this._features.length)throw new Error(&quot;feature index out of bounds&quot;);this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new VectorTileFeature(this._pbf,t,this.extent,this._keys,this._values)};
},{&quot;./vectortilefeature.js&quot;:109}]},{},[20])


//# sourceMappingURL=mapbox-gl.js.map</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
