"use strict";function gestureStart(){for(i=0;i<metas.length;i++)"viewport"==metas[i].name&&(metas[i].content="width=device-width, minimum-scale=0.25, maximum-scale=1.6")}angular.module("angularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","pascalprecht.translate","leaflet-directive"]).config(["$routeProvider","$translateProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"}),b.translations("de_DE",{APP_HEADLINE:"Bewerbung",SUB_HEADLINE:"Dipl.-Ing. (FH) Kartographie",HEADING1:"Ja ja ja",PARA1:"Über",APP_TEXT:"Irgendein Text über eine großartige AngularJS App."}),b.translations("en_US",{APP_HEADLINE:"Job Application",SUB_HEADLINE:"Master of Cartography",PARA2:"English Translation",HEADING1:"Nothing here"}),b.preferredLanguage("de_DE"),b.fallbackLanguage(["de_DE"]),b.useCookieStorage()}]);var metas=document.getElementsByTagName("meta"),i;if(navigator.userAgent.match(/iPhone/i)){for(i=0;i<metas.length;i++)"viewport"==metas[i].name&&(metas[i].content="width=device-width, minimum-scale=1.0, maximum-scale=1.0");document.addEventListener("gesturestart",gestureStart,!1)}angular.module("angularApp").controller("MainCtrl",["$scope",function(a){a.imgSrc="images/yeoman.png",a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.things=[{item:"one"},{item:"two"},{item:"three"}],a.mouseOverThing=function(){}}]),angular.module("angularApp").controller("LangCtrl",["$scope","$translate",function(a,b){a.changeLang=function(a){b.use(a).then(function(a){console.log("Sprache zu "+a+" gewechselt.")},function(a){console.log("Could not find key."+a)})},a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("angularApp").directive("mouseover",function(){return{restrict:"EA",link:function(a,b,c){b.bind("mouseenter",function(){a.$apply(function(){a.imgSrc=c.mouseover})})}}}),angular.module("angularApp").directive("fadeIn",["$animate",function(a){return{restrict:"A",scope:{ngSrc:"@"},link:function(b,c){c.on("load",function(){}).on("error",function(){console.log("error loading image")}),b.$watch("ngSrc",function(){var d;void 0!=d&&(a.cancel(d),a.removeClass(c,"fadein")),d=a.addClass(c,"fadein"),d.then(function(){a.removeClass(c,"fadein"),b.$apply()})})}}}]),angular.module("angularApp").controller("MapCtrl",["$scope","$http",function(a){a.dataPoints=[],a.map={},a.username="Press a button...",a.grid=function(){a.username="should load grid layer"},a.json=function(){a.username="should load json layer",b.addSource("markers",{type:"geojson",maxzoom:14,data:"/PasingWlan.geojson"}),b.addLayer({id:"markers",type:"symbol",source:"markers",interactive:!0,layout:{"icon-image":"marker-24","icon-allow-overlap":!0}})},mapboxgl.accessToken="pk.eyJ1IjoiLS1tYWx0ZWFocmVucyIsImEiOiJGU21QX2VVIn0.GVZ36UsnwYc_JfiQ61lz7Q";var b=new mapboxgl.Map({container:"map",zoom:12.5,center:[48.14882451158226,11.451873779296875],style:"https://www.mapbox.com/mapbox-gl-styles/styles/bright-v7.json",hash:!0});b.addControl(new mapboxgl.Navigation),b.on("mousemove",function(c){b.featuresAt(c.point,{radius:1},function(b,c){if(b)throw b;if(c.length>0){for(var d="",e=0;e<c.length;e++)a.highlight(c[e].geometry.coordinates);document.getElementById("features").innerHTML=d}})}),a.jsonHighlight={type:"Feature",geometry:{type:"Polygon",coordinates:[[[11.44200325012207,48.124994388698326],[11.44399881362915,48.12599700035483],[11.44399881362915,48.126999592440086],[11.44200325012207,48.12800216495421],[11.44000768661499,48.126999592440086],[11.44000768661499,48.12599700035483],[11.44200325012207,48.124994388698326]]]}},a.highlight=function(b){console.log(JSON.stringify(b)),a.jsonHighlight={type:"Feature",geometry:{type:"Polygon",coordinates:b}}},a.hexTopology=function(c,d,e){a.username="started";var f=function(a,b,c){console.log("radius: "+a),console.log("width: "+b),console.log("height: "+c);for(var d=2*a*Math.sin(Math.PI/3),e=2*a,f=Math.ceil((c+a)/e)+1,g=Math.ceil(b/d)+1,h=[],i=[],j=-1;f>=j;++j)for(var k=-1;g>=k;++k){var l=2*j,m=2*(k+(1&j)/2);i.push([[m,l-1],[1,1]],[[m+1,l],[0,1]],[[m+1,l+1],[-1,1]])}for(var j=0,n=3;f>j;++j,n+=6)for(var k=0;g>k;++k,n+=3)h.push({type:"Polygon",arcs:[[n,n+1,n+2,~(n+3*(g+2-(1&j))),~(n-2),~(n-3*(g+2+(1&j))+2)]],fill:Math.random()>k/g*2});return{transform:{translate:[11.4,48.12],scale:[.002,.001]},objects:{hexagons:{type:"GeometryCollection",geometries:h}},arcs:i}},g=f(c,d,e),h=topojson.feature(g,g.objects.hexagons).features,i={type:"FeatureCollection",features:h};a.username=i,b.addSource("grid",{type:"geojson",maxzoom:14,data:i}),b.addLayer({id:"poly",type:"fill",source:"grid",interactive:!0,paint:{"fill-color":"transparent","fill-outline-color":"#ff0000","fill-opacity":1}}),b.addSource("json",{type:"geojson",maxzoom:14,data:a.jsonHighlight}),b.addLayer({type:"fill",source:"json",interactive:!0,paint:{"fill-color":"#ff0000","fill-outline-color":"#ff0000","fill-opacity":1}})}}]);